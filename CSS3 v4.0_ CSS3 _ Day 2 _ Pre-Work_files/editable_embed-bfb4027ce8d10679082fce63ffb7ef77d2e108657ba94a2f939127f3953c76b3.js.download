!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Q.type(e);return"function"!==n&&!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ae.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return X.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return Q.each(e.match(de)||[],function(e,n){t[n]=!0}),t}function s(){Y.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xe.test(n)?Q.parseJSON(n):n)}catch(e){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function h(){try{return Y.activeElement}catch(e){}}function f(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),s=ve.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Q.event.add(t,i,l[i][n])}ye.hasData(e)&&(a=ye.access(e),u=Q.extend({},a),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Se.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function b(e){var t=Y,n=Re[e];return n||(n=x(e,t),"none"!==n&&n||(je=(je||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=je[0].contentDocument,t.write(),t.close(),n=x(e,t),je.detach()),Re[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||Ue(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Q.contains(e.ownerDocument,e)||(s=Q.style(e,t)),We.test(s)&&He.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ke.length;i--;)if(t=Ke[i]+n,t in e)return t;return r}function S(e,t,n){var r=$e.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function D(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Q.css(e,n+ke[o],!0,i)),r?("content"===n&&(s-=Q.css(e,"padding"+ke[o],!0,i)),"margin"!==n&&(s-=Q.css(e,"border"+ke[o]+"Width",!0,i))):(s+=Q.css(e,"padding"+ke[o],!0,i),"padding"!==n&&(s+=Q.css(e,"border"+ke[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ue(e),s="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),We.test(i))return i;r=s&&(G.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(s?"border":"content"),r,o)+"px"}function A(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[s]=ve.access(r,"olddisplay",b(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function T(e,t,n,r,i){return new T.prototype.init(e,t,n,r,i)}function _(){return setTimeout(function(){Ge=void 0}),Ge=Q.now()}function F(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=ke[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function M(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function L(e,t,n){var r,i,o,s,a,u,l,c,h=this,f={},d=e.style,p=e.nodeType&&Ce(e),m=ve.get(e,"fxshow");n.queue||(a=Q._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Q.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Q.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||b(e.nodeName):l,"inline"===c&&"none"===Q.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ze.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;p=!0}f[r]=m&&m[r]||Q.style(e,r)}else l=void 0;if(Q.isEmptyObject(f))"inline"===("none"===l?b(e.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(p=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!p),p?Q(e).show():h.done(function(){Q(e).hide()}),h.done(function(){var t;ve.remove(e,"fxshow");for(t in f)Q.style(e,t,f[t])});for(r in f)s=M(p?m[r]:0,r,h),r in m||(m[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function P(e,t){var n,r,i,o,s;for(n in e)if(r=Q.camelCase(n),i=t[r],o=e[n],Q.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=Q.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function N(e,t,n){var r,i,o=0,s=tt.length,a=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ge||_(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ge||_(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(P(c,l.opts.specialEasing);s>o;o++)if(r=tt[o].call(l,e,c,l.opts))return r;return Q.map(c,M,l),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(de)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function O(e,t,n,r){function i(a){var u;return o[a]=!0,Q.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===wt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function I(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Q.extend(!0,e,r),e}function z(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function j(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function R(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||St.test(e)?r(e,i):R(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)R(e+"["+i+"]",t[i],n,r)}function H(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W=[],U=W.slice,q=W.concat,$=W.push,X=W.indexOf,J={},V=J.toString,K=J.hasOwnProperty,G={},Y=e.document,Z="2.1.1",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:W.sort,splice:W.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Q.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},s[t]=Q.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"===Q.type(e)&&!e.nodeType&&!Q.isWindow(e)&&!(e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[V.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=Y.createElement("script"),t.text=e,Y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):$.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:X.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(r=U.call(arguments,2),i=function(){return e.apply(t||this,r.concat(U.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:G}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,s,a,u,l,h,d,p,m;if((t?t.ownerDocument||t:R)!==L&&M(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(N&&!r){if(i=ye.exec(e))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&z(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!B||!B.test(e))){if(d=h=j,p=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=D(e),(h=t.getAttribute("id"))?d=h.replace(be,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+f(l[u]);p=xe.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(e){}finally{h||t.removeAttribute("id")}}}return A(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[j]=!0,e}function i(e){var t=L.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==J&&e}function h(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[H,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[j]||(t[j]={}),(a=u[r])&&a[0]===H&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[j]&&(i=v(i)),o&&!o[j]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,h,f=[],d=[],p=s.length,v=r||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:g(v,f,e,a,u),x=n?o||(r?e:p||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=g(x,d),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(x[d[c]]=!(y[d[c]]=h));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(h=x[c])&&l.push(y[c]=h);o(null,x=[],l,u)}for(c=x.length;c--;)(h=x[c])&&(l=o?te.call(r,h):f[c])>-1&&(r[l]=!(s[l]=h))}}else x=g(x===s?x.splice(p,x.length):x),o?o(null,s,x,u):Q.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],s=o||k.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return te.call(t,e)>-1},s,!0),c=[function(e,n,r){return!o&&(r||n!==T)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>a;a++)if(n=k.relative[e[a].type])c=[d(p(c),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[j]){for(r=++a;i>r&&!k.relative[e[r].type];r++);return v(a>1&&p(c),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return p(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,h,f,d=0,p="0",m=r&&[],v=[],y=T,x=r||o&&k.find.TAG("*",l),b=H+=null==y?1:Math.random()||.1,w=x.length;for(l&&(T=s!==L&&s);p!==w&&null!=(c=x[p]);p++){if(o&&c){for(h=0;f=e[h++];)if(f(c,s,a)){u.push(c);break}l&&(H=b)}i&&((c=!f&&c)&&d--,r&&m.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(m,v,s,a);if(r){if(d>0)for(;p--;)m[p]||v[p]||(v[p]=Y.call(u));v=g(v)}Q.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(H=b,T=y),m};return i?r(s):s}var b,w,k,C,S,D,E,A,T,_,F,M,L,P,N,B,O,I,z,j="sizzle"+-new Date,R=e.document,H=0,W=0,U=n(),q=n(),$=n(),X=function(e,t){return e===t&&(F=!0),0},J="undefined",V=1<<31,K={}.hasOwnProperty,G=[],Y=G.pop,Z=G.push,Q=G.push,ee=G.slice,te=G.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),se="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),he=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),fe=new RegExp(ae),de=new RegExp("^"+oe+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(G=ee.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(e){Q={apply:G.length?function(e,t){Z.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:R,r=n.defaultView;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,P=n.documentElement,N=!S(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){M()},!1):r.attachEvent&&r.attachEvent("onunload",function(){M()})),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=i(function(e){return P.appendChild(e).id=j,!n.getElementsByName||!n.getElementsByName(j).length}),w.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==J&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){var n=typeof e.getAttributeNode!==J&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==J?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==J&&N?t.getElementsByClassName(e):void 0},O=[],B=[],(w.qsa=ve.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&B.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||B.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(w.matchesSelector=ve.test(I=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){w.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),O.push("!=",ae)}),B=B.length&&new RegExp(B.join("|")),O=O.length&&new RegExp(O.join("|")),t=ve.test(P.compareDocumentPosition),z=t||ve.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return F=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===R&&z(R,e)?-1:t===n||t.ownerDocument===R&&z(R,t)?1:_?te.call(_,e)-te.call(_,t):0:4&r?-1:1)}:function(e,t){if(e===t)return F=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:_?te.call(_,e)-te.call(_,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},n):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&M(e),n=n.replace(he,"='$1']"),!(!w.matchesSelector||!N||O&&O.test(n)||B&&B.test(n)))try{var r=I.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&M(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&M(e);var n=k.attrHandle[t.toLowerCase()],r=n&&K.call(k.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:w.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(F=!w.detectDuplicates,_=!w.sortStable&&e.slice(0),e.sort(X),F){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return _=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=D(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==J&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,f,d,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(c=g[j]||(g[j]={}),l=c[e]||[],d=l[0]===H&&l[1],f=l[0]===H&&l[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===t){c[e]=[H,d,f];break}}else if(y&&(l=(t[j]||(t[j]={}))[e])&&l[0]===H)f=l[1];else for(;(h=++d&&h&&h[m]||(f=d=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[j]||(h[j]={}))[e]=[H,f]),h!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(n):o.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=te.call(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ue,"$1"));return i[j]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,ke).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})k.pseudos[b]=u(b);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,D=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=q[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=k.preFilter;a;){(!r||(i=le.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in k.filter)!(i=pe[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):q(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=$[e+" "];if(!o){for(t||(t=D(e)),n=t.length;n--;)o=y(t[n]),o[j]?r.push(o):i.push(o);o=$(e,x(i,r)),o.selector=e}return o},A=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,h=!r&&D(e=l.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&N&&k.relative[o[1].type]){if(t=(k.find.ID(s.matches[0].replace(we,ke),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(s=o[i],!k.relative[a=s.type]);)if((u=k.find[a])&&(r=u(s.matches[0].replace(we,ke),xe.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Q.apply(n,r),n;break}}return(l||E(e,h))(r,t,!N,n,xe.test(e)&&c(t.parentNode)||t),n},w.sortStable=j.split("").sort(X).join("")===j,w.detectDuplicates=!!F,M(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var oe=Q.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,i[t],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Y,!0)),
se.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=Y.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ce.prototype=Q.fn,ue=Q(Y);var he=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?X.call(Q(e),this[0]):X.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(fe[e]||Q.unique(i),he.test(e)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,pe={};Q.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):Q.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function t(n){Q.each(n,function(n,r){var i=Q.type(r);"function"===i?e.unique&&h.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?Q.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var s=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=U.call(arguments),s=o.length,a=1!==s||e&&Q.isFunction(e.promise)?s:0,u=1===a?e:Q.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?U.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var me;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(me.resolveWith(Y,[Q]),Q.fn.triggerHandler&&(Q(Y).triggerHandler("ready"),Q(Y).off("ready"))))}}),Q.ready.promise=function(t){return me||(me=Q.Deferred(),"complete"===Y.readyState?setTimeout(Q.ready):(Y.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),me.promise(t)},Q.ready.promise();var ge=Q.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Q.type(n)){i=!0;for(a in n)Q.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Q(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?r=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,ye=new a,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Q.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):ge(this,function(t){var n,r=Q.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Q.isArray(n)?r=ve.access(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),s=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Se=/^(?:checkbox|radio)$/i;!function(){var e=Y.createDocumentFragment(),t=e.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),G.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var De="undefined";G.focusinBubbles="onfocusin"in e;var Ee=/^key/,Ae=/^(?:mouse|pointer|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,_e=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,h,f,d,p,m,g=ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return typeof Q!==De&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(de)||[""],l=t.length;l--;)a=_e.exec(t[l])||[],d=m=a[1],p=(a[2]||"").split(".").sort(),d&&(h=Q.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=Q.event.special[d]||{},c=Q.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(e,r,p,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),Q.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,h,f,d,p,m,g=ve.hasData(e)&&ve.get(e);if(g&&(u=g.events)){for(t=(t||"").match(de)||[""],l=t.length;l--;)if(a=_e.exec(t[l])||[],d=m=a[1],p=(a[2]||"").split(".").sort(),d){for(h=Q.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!i&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(e,c));s&&!f.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||Q.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)Q.event.remove(e,d+t[l],n,r,!0);Q.isEmptyObject(u)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,h,f=[r||Y],d=K.call(t,"type")?t.type:t,p=K.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!Te.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Q.expando]?t:new Q.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Q.makeArray(n,[t]),h=Q.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!Q.isWindow(r)){for(u=h.delegateType||d,Te.test(u+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||Y)&&f.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=f[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||d,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Q.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Q.acceptData(r)||l&&Q.isFunction(r[d])&&!Q.isWindow(r)&&(a=r[l],a&&(r[l]=null),Q.event.triggered=d,r[d](),Q.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,o,s=[],a=U.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Q.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Q.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Y,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ae.test(i)?this.mouseHooks:Ee.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Q.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Y),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),G.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Q().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Le=/<|&#?\w+;/,Pe=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,Q.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Q.contains(e.ownerDocument,e);if(!(G.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;i>r;r++)g(o[r],s[r]);else g(e,a);return s=v(a,"script"),s.length>0&&m(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),h=[],f=0,d=e.length;d>f;f++)if(i=e[f],i||0===i)if("object"===Q.type(i))Q.merge(h,i.nodeType?[i]:i);else if(Le.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Me.exec(i)||["",""])[1].toLowerCase(),a=ze[s]||ze._default,o.innerHTML=a[1]+i.replace(Fe,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Q.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(i));for(c.textContent="",f=0;i=h[f++];)if((!r||-1===Q.inArray(i,r))&&(u=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&m(o),n))for(l=0;i=o[l++];)Be.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Q.event.special,s=0;void 0!==(n=e[s]);s++){if(Q.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Q.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!ze[(Me.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Fe,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=q.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,h=l-1,f=e[0],m=Q.isFunction(f);if(m||l>1&&"string"==typeof f&&!G.checkClone&&Ne.test(f))return this.each(function(n){var r=c.eq(n);m&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),d),o=i.length;l>u;u++)s=n,u!==h&&(s=Q.clone(s,!0,!0),o&&Q.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Q.map(i,p),u=0;o>u;u++)s=i[u],Be.test(s.type||"")&&!ve.access(s,"globalEval")&&Q.contains(a,s)&&(s.src?Q._evalUrl&&Q._evalUrl(s.src):Q.globalEval(s.textContent.replace(Ie,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=[],i=Q(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Q(i[s])[t](n),$.apply(r,n.get());return this.pushStack(r)}});var je,Re={},He=/^margin/,We=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),Ue=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=Y.documentElement,o=Y.createElement("div"),s=Y.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Q.extend(G,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(Y.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),t}}))}(),Q.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var qe=/^(none|table(?!-c[ea]).+)/,$e=new RegExp("^("+we+")(.*)$","i"),Xe=new RegExp("^([+-])=("+we+")","i"),Je={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Q.camelCase(t),u=e.style;return t=Q.cssProps[a]||(Q.cssProps[a]=C(u,a)),s=Q.cssHooks[t]||Q.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Xe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||Q.cssNumber[a]||(n+="px"),G.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,s,a=Q.camelCase(t);return t=Q.cssProps[a]||(Q.cssProps[a]=C(e.style,a)),s=Q.cssHooks[t]||Q.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?qe.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Je,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&Ue(e);return S(e,n,r?D(e,t,r,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=k(G.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+ke[r]+t]=o[r]||o[r-2]||o[0];return i}},He.test(e)||(Q.cssHooks[e+t].set=S)}),Q.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var r,i,o={},s=0;if(Q.isArray(t)){for(r=Ue(e),i=t.length;i>s;s++)o[t[s]]=Q.css(e,t[s],!1,r);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=T,T.prototype={constructor:T,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=T.propHooks[this.prop];return e&&e.get?e.get(this):T.propHooks._default.get(this)},run:function(e){var t,n=T.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=T.prototype.init,Q.fx.step={};var Ge,Ye,Ze=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[L],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Qe.exec(t),o=i&&i[3]||(Q.cssNumber[e]?"":"px"),s=(Q.cssNumber[e]||"px"!==o&&+r)&&Qe.exec(Q.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Q.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(N,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),o=Q.speed(t,n,r),s=function(){var t=N(this,Q.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Q.timers,s=ve.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&et.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Q.timers,s=r?r.length:0;for(n.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,r,i)}}),Q.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Ge=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Ge=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ye||(Ye=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ye),Ye=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Y.createElement("input"),t=Y.createElement("select"),n=t.appendChild(Y.createElement("option"));e.type="checkbox",G.checkOn=""!==e.value,G.optSelected=n.selected,t.disabled=!0,G.optDisabled=!n.disabled,e=Y.createElement("input"),e.value="t",e.type="radio",G.radioValue="t"===e.value}();var rt,it,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return ge(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,o=e.nodeType;
if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===De?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Q.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(de);if(o&&1===e.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!G.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Q.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var st=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return ge(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),G.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Q.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Q.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Q(this),o=e.match(de)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===De||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Q(this).val()):e,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)):void 0}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(G.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Q.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},G.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var ht,ft,dt=/#.*$/,pt=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vt=/^(?:GET|HEAD)$/,yt=/^\/\//,xt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},wt={},kt="*/".concat("*");try{ft=location.href}catch(e){ft=Y.createElement("a"),ft.href="",ft=ft.href}ht=xt.exec(ft.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft,type:"GET",isLocal:gt.test(ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,Q.ajaxSettings),t):I(Q.ajaxSettings,e)},ajaxPrefilter:B(bt),ajaxTransport:B(wt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,k=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=z(h,w,n)),y=j(h,y,w,u),u?(h.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Q.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Q.etag[i]=b)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=y.state,c=y.data,v=y.error,u=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",u?p.resolveWith(f,[c,k,w]):p.rejectWith(f,[w,k,v]),w.statusCode(g),g=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,h,u?c:v]),m.fireWith(f,[w,k]),l&&(d.trigger("ajaxComplete",[w,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,h=Q.ajaxSetup({},t),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?Q(f):Q.event,p=Q.Deferred(),m=Q.Callbacks("once memory"),g=h.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=mt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||ft)+"").replace(dt,"").replace(yt,ht[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(de)||[""],null==h.crossDomain&&(u=xt.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===ht[1]&&u[2]===ht[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(ht[3]||("http:"===ht[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),O(bt,h,t,w),2===x)return w;l=h.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!vt.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(ct.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),h.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+kt+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(f,w,h)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](h[c]);if(r=O(wt,h,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{x=1,r.send(v,n)}catch(e){if(!(2>x))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Ct=/%20/g,St=/\[\]$/,Dt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)R(n,e[n],t,i);return r.join("&").replace(Ct,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&At.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=0,_t={},Ft={0:200,1223:204},Mt=Q.ajaxSettings.xhr();e.ActiveXObject&&Q(e).on("unload",function(){for(var e in _t)_t[e]()}),G.cors=!!Mt&&"withCredentials"in Mt,G.ajax=Mt=!!Mt,Q.ajaxTransport(function(e){var t;return G.cors||Mt&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),s=++Tt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete _t[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Ft[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=_t[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Y.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Lt=[],Pt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||Q.expando+"_"+lt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Pt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Pt,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Q.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Lt.push(i)),s&&Q.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var r=se.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Nt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=Q.trim(e.slice(a)),e=e.slice(0,a)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Bt=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Q.css(e,"position"),h=Q(e),f={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=Q.css(e,"top"),u=Q.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):h.css(f)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,Q.contains(t,r)?(typeof r.getBoundingClientRect!==De&&(i=r.getBoundingClientRect()),n=H(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Q.css(n,"marginTop",!0),left:t.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Bt;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Bt})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Q.fn[t]=function(i){return ge(this,function(t,i,o){var s=H(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=k(G.pixelPosition,function(e,n){return n?(n=w(e,t),We.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return ge(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,s):Q.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ot=e.jQuery,It=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=It),t&&e.jQuery===Q&&(e.jQuery=Ot),Q},typeof t===De&&(e.jQuery=e.$=Q),Q}),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:v+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:v+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var s=n[i],a=r[i];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(s<a||"undefined"==typeof a)return-1}}return e.index-t.index}function o(e){var t=-1,r=e.length,i=e[0],o=e[r/2|0],s=e[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&s&&"object"==typeof s)return!1;var a=u();a["false"]=a["null"]=a["true"]=a.undefined=!1;var l=u();for(l.array=e,l.cache=a,l.push=n;++t<r;)l.push(e[t]);return l}function s(e){return"\\"+J[e]}function a(){return p.pop()||[]}function u(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function l(e){e.length=0,p.length<x&&p.push(e)}function c(e){var t=e.cache;t&&c(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,m.length<x&&m.push(e)}function h(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(i<0?0:i);++r<i;)o[r]=e[t+r];return o}function f(n){function p(e){return e&&"object"==typeof e&&!Zn(e)&&Nn.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function x(e){function t(){if(r){var e=h(r);Bn.apply(e,arguments)}if(this instanceof t){var o=K(n.prototype),s=n.apply(o,e||arguments);return Fe(s)?s:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Yn(t,e),t}function J(e,t,n,r,i){if(n){var o=n(e);if("undefined"!=typeof o)return o}var s=Fe(e);if(!s)return e;var u=An.call(e);if(!U[u])return e;var c=Kn[u];switch(u){case O:case I:return new c(+e);case j:case W:return new c(e);case H:return o=c(e.source,D.exec(e)),o.lastIndex=e.lastIndex,o}var f=Zn(e);if(t){var d=!r;r||(r=a()),i||(i=a());for(var p=r.length;p--;)if(r[p]==e)return i[p];o=f?c(e.length):{}}else o=f?h(e):or({},e);return f&&(Nn.call(e,"index")&&(o.index=e.index),Nn.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(f?Ge:ur)(e,function(e,s){o[s]=J(e,t,n,r,i)}),d&&(l(r),l(i)),o):o}function K(e){return Fe(e)?Rn(e):{}}function G(e,t,n){if("function"!=typeof e)return Yt;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Gn.funcNames&&(r=!e.name),r=r||!Gn.funcDecomp,!r)){var i=Ln.call(e);Gn.funcNames||(r=!E.test(i)),r||(r=F.test(i),Yn(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Nt(e,t)}function Y(e){function t(){var e=u?s:this;if(i){var p=h(i);Bn.apply(p,arguments)}if((o||c)&&(p||(p=h(arguments)),o&&Bn.apply(p,o),c&&p.length<a))return r|=16,Y([n,f?r:r&-4,p,null,s,a]);if(p||(p=arguments),l&&(n=e[d]),this instanceof t){e=K(n.prototype);var m=n.apply(e,p);return Fe(m)?m:e}return n.apply(e,p)}var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=1&r,l=2&r,c=4&r,f=8&r,d=n;return Yn(t,e),t}function Z(n,r){var i=-1,s=ue(),a=n?n.length:0,u=a>=y&&s===e,l=[];if(u){var h=o(r);h?(s=t,r=h):u=!1}for(;++i<a;){var f=n[i];s(r,f)<0&&l.push(f)}return u&&c(r),l}function ee(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,s=[];++i<o;){var a=e[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Zn(a)||fe(a))){t||(a=ee(a,t,n));var u=-1,l=a.length,c=s.length;for(s.length+=l;++u<l;)s[c++]=a[u]}else n||s.push(a)}return s}function te(e,t,n,r,i,o){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,c=typeof t;if(!(e!==e||e&&X[u]||t&&X[c]))return!1;if(null==e||null==t)return e===t;var h=An.call(e),f=An.call(t);if(h==N&&(h=R),f==N&&(f=R),h!=f)return!1;switch(h){case O:case I:return+e==+t;case j:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case H:case W:return e==kn(t)}var d=h==B;if(!d){var p=Nn.call(e,"__wrapped__"),m=Nn.call(t,"__wrapped__");if(p||m)return te(p?e.__wrapped__:e,m?t.__wrapped__:t,n,r,i,o);if(h!=R)return!1;var g=e.constructor,v=t.constructor;if(g!=v&&!(_e(g)&&g instanceof g&&_e(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var y=!i;i||(i=a()),o||(o=a());for(var x=i.length;x--;)if(i[x]==e)return o[x]==t;var b=0;if(s=!0,i.push(e),o.push(t),d){if(x=e.length,b=t.length,s=b==x,s||r)for(;b--;){var w=x,k=t[b];if(r)for(;w--&&!(s=te(e[w],k,n,r,i,o)););else if(!(s=te(e[b],k,n,r,i,o)))break}}else ar(t,function(t,a,u){if(Nn.call(u,a))return b++,s=Nn.call(e,a)&&te(e[a],t,n,r,i,o)}),s&&!r&&ar(e,function(e,t,n){if(Nn.call(n,t))return s=--b>-1});return i.pop(),o.pop(),y&&(l(i),l(o)),s}function ne(e,t,n,r,i){(Zn(t)?Ge:ur)(t,function(t,o){var s,a,u=t,l=e[o];if(t&&((a=Zn(t))||lr(t))){for(var c=r.length;c--;)if(s=r[c]==t){l=i[c];break}if(!s){var h;n&&(u=n(l,t),(h="undefined"!=typeof u)&&(l=u)),h||(l=a?Zn(l)?l:[]:lr(l)?l:{}),r.push(t),i.push(l),h||ne(l,t,n,r,i)}}else n&&(u=n(l,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(l=u);e[o]=l})}function re(e,t){return e+Mn(Vn()*(t-e+1))}function ie(n,r,i){var s=-1,u=ue(),h=n?n.length:0,f=[],d=!r&&h>=y&&u===e,p=i||d?a():f;if(d){var m=o(p);u=t,p=m}for(;++s<h;){var g=n[s],v=i?i(g,s,n):g;(r?!s||p[p.length-1]!==v:u(p,v)<0)&&((i||d)&&p.push(v),f.push(g))}return d?(l(p.array),c(p)):i&&l(p),f}function oe(e){return function(t,n,r){var i={};n=p.createCallback(n,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s;){var a=t[o];e(i,a,n(a,o,t),t)}else ur(t,function(t,r,o){e(i,t,n(t,r,o),o)});return i}}function se(e,t,n,r,i,o){var s=1&t,a=2&t,u=4&t,l=16&t,c=32&t;if(!a&&!_e(e))throw new Cn;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=h(f),f[2]&&(f[2]=h(f[2])),f[3]&&(f[3]=h(f[3])),!s||1&f[1]||(f[4]=i),!s&&1&f[1]&&(t|=8),!u||4&f[1]||(f[5]=o),l&&Bn.apply(f[2]||(f[2]=[]),n),c&&zn.apply(f[3]||(f[3]=[]),r),f[1]|=t,se.apply(null,f);var d=1==t||17===t?x:Y;return d([e,t,n,r,i,o])}function ae(e){return tr[e]}function ue(){var t=(t=p.indexOf)===vt?e:t;return t}function le(e){return"function"==typeof e&&Tn.test(e)}function ce(e){var t,n;return!!(e&&An.call(e)==R&&(t=e.constructor,!_e(t)||t instanceof t))&&(ar(e,function(e,t){n=t}),"undefined"==typeof n||Nn.call(e,n))}function he(e){return nr[e]}function fe(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==N||!1}function de(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),J(e,t,"function"==typeof n&&G(n,r,1))}function pe(e,t,n){return J(e,!0,"function"==typeof t&&G(t,n,1))}function me(e,t){var n=K(e);return t?or(n,t):n}function ge(e,t,n){var r;return t=p.createCallback(t,n,3),ur(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ve(e,t,n){var r;return t=p.createCallback(t,n,3),xe(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ye(e,t,n){var r=[];ar(e,function(e,t){r.push(t,e)});var i=r.length;for(t=G(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function xe(e,t,n){var r=er(e),i=r.length;for(t=G(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function be(e){var t=[];return ar(e,function(e,n){_e(e)&&t.push(n)}),t.sort()}function we(e,t){return!!e&&Nn.call(e,t)}function ke(e){for(var t=-1,n=er(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function Ce(e){return e===!0||e===!1||e&&"object"==typeof e&&An.call(e)==O||!1}function Se(e){return e&&"object"==typeof e&&An.call(e)==I||!1}function De(e){return e&&1===e.nodeType||!1}function Ee(e){var t=!0;if(!e)return t;var n=An.call(e),r=e.length;return n==B||n==W||n==N||n==R&&"number"==typeof r&&_e(e.splice)?!r:(ur(e,function(){return t=!1}),t)}function Ae(e,t,n,r){return te(e,t,"function"==typeof n&&G(n,r,2))}function Te(e){return Wn(e)&&!Un(parseFloat(e))}function _e(e){return"function"==typeof e}function Fe(e){return!(!e||!X[typeof e])}function Me(e){return Pe(e)&&e!=+e}function Le(e){return null===e}function Pe(e){return"number"==typeof e||e&&"object"==typeof e&&An.call(e)==j||!1}function Ne(e){return e&&"object"==typeof e&&An.call(e)==H||!1}function Be(e){return"string"==typeof e||e&&"object"==typeof e&&An.call(e)==W||!1}function Oe(e){return"undefined"==typeof e}function Ie(e,t,n){var r={};return t=p.createCallback(t,n,3),ur(e,function(e,n,i){r[n]=t(e,n,i)}),r}function ze(e){var t=arguments,n=2;if(!Fe(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=G(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=h(arguments,1,n),o=-1,s=a(),u=a();++o<n;)ne(e,i[o],r,s,u);return l(s),l(u),e}function je(e,t,n){var r={};if("function"!=typeof t){var i=[];ar(e,function(e,t){i.push(t)}),i=Z(i,ee(arguments,!0,!1,1));for(var o=-1,s=i.length;++o<s;){var a=i[o];r[a]=e[a]}}else t=p.createCallback(t,n,3),ar(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Re(e){for(var t=-1,n=er(e),r=n.length,i=pn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function He(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,o=ee(arguments,!0,!1,1),s=Fe(e)?o.length:0;++i<s;){var a=o[i];a in e&&(r[a]=e[a])}else t=p.createCallback(t,n,3),ar(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function We(e,t,n,r){var i=Zn(e);if(null==n)if(i)n=[];else{var o=e&&e.constructor,s=o&&o.prototype;n=K(s)}return t&&(t=p.createCallback(t,r,4),(i?Ge:ur)(e,function(e,r,i){return t(n,e,r,i)})),n}function Ue(e){for(var t=-1,n=er(e),r=n.length,i=pn(r);++t<r;)i[t]=e[n[t]];return i}function qe(e){for(var t=arguments,n=-1,r=ee(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=pn(i);++n<i;)o[n]=e[r[n]];return o}function $e(e,t,n){var r=-1,i=ue(),o=e?e.length:0,s=!1;return n=(n<0?$n(0,o+n):n)||0,Zn(e)?s=i(e,t,n)>-1:"number"==typeof o?s=(Be(e)?e.indexOf(t,n):i(e,t,n))>-1:ur(e,function(e){if(++r>=n)return!(s=e===t)}),s}function Xe(e,t,n){var r=!0;t=p.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&(r=!!t(e[i],i,e)););else ur(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Je(e,t,n){var r=[];t=p.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o;){var s=e[i];t(s,i,e)&&r.push(s)}else ur(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ve(e,t,n){t=p.createCallback(t,n,3);var r=-1,i=e?e.length:0;if("number"!=typeof i){var o;return ur(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o}for(;++r<i;){var s=e[r];if(t(s,r,e))return s}}function Ke(e,t,n){var r;return t=p.createCallback(t,n,3),Ye(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function Ge(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:G(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else ur(e,t);return e}function Ye(e,t,n){var r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:G(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=er(e);r=i.length,ur(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Ze(e,t){var n=h(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,s=pn("number"==typeof o?o:0);return Ge(e,function(e){s[++r]=(i?t:e[t]).apply(e,n)}),s}function Qe(e,t,n){var r=-1,i=e?e.length:0;if(t=p.createCallback(t,n,3),"number"==typeof i)for(var o=pn(i);++r<i;)o[r]=t(e[r],r,e);else o=[],ur(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function et(e,t,n){var i=-(1/0),o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var s=-1,a=e.length;++s<a;){var u=e[s];u>o&&(o=u)}else t=null==t&&Be(e)?r:p.createCallback(t,n,3),Ge(e,function(e,n,r){var s=t(e,n,r);s>i&&(i=s,o=e)});return o}function tt(e,t,n){var i=1/0,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var s=-1,a=e.length;++s<a;){var u=e[s];u<o&&(o=u)}else t=null==t&&Be(e)?r:p.createCallback(t,n,3),Ge(e,function(e,n,r){var s=t(e,n,r);s<i&&(i=s,o=e)});return o}function nt(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=p.createCallback(t,r,4);var o=-1,s=e.length;if("number"==typeof s)for(i&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e);else ur(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function rt(e,t,n,r){var i=arguments.length<3;return t=p.createCallback(t,r,4),Ye(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function it(e,t,n){return t=p.createCallback(t,n,3),Je(e,function(e,n,r){return!t(e,n,r)})}function ot(e,t,n){if(e&&"number"!=typeof e.length&&(e=Ue(e)),null==t||n)return e?e[re(0,e.length-1)]:d;var r=st(e);return r.length=Xn($n(0,t),r.length),r}function st(e){var t=-1,n=e?e.length:0,r=pn("number"==typeof n?n:0);return Ge(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function at(e){var t=e?e.length:0;return"number"==typeof t?t:er(e).length}function ut(e,t,n){var r;t=p.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&!(r=t(e[i],i,e)););else ur(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function lt(e,t,n){var r=-1,o=Zn(t),s=e?e.length:0,h=pn("number"==typeof s?s:0);for(o||(t=p.createCallback(t,n,3)),Ge(e,function(e,n,i){var s=h[++r]=u();o?s.criteria=Qe(t,function(t){return e[t]}):(s.criteria=a())[0]=t(e,n,i),s.index=r,s.value=e}),s=h.length,h.sort(i);s--;){var f=h[s];h[s]=f.value,o||l(f.criteria),c(f)}return h}function ct(e){return e&&"number"==typeof e.length?h(e):Ue(e)}function ht(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function ft(e){return Z(e,ee(arguments,!0,!0,1))}function dt(e,t,n){var r=-1,i=e?e.length:0;for(t=p.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function pt(e,t,n){var r=e?e.length:0;for(t=p.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function mt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=p.createCallback(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[0]:d;return h(e,0,Xn($n(0,r),i))}function gt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Qe(e,n,r)),ee(e,t);
}function vt(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=r<0?$n(0,i+r):r||0}else if(r){var o=Et(t,n);return t[o]===n?o:-1}return e(t,n,r)}function yt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=p.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return h(e,0,Xn($n(0,i-r),i))}function xt(){for(var n=[],r=-1,i=arguments.length,s=a(),u=ue(),h=u===e,f=a();++r<i;){var d=arguments[r];(Zn(d)||fe(d))&&(n.push(d),s.push(h&&d.length>=y&&o(r?n[r]:f)))}var p=n[0],m=-1,g=p?p.length:0,v=[];e:for(;++m<g;){var x=s[0];if(d=p[m],(x?t(x,d):u(f,d))<0){for(r=i,(x||f).push(d);--r;)if(x=s[r],(x?t(x,d):u(n[r],d))<0)continue e;v.push(d)}}for(;i--;)x=s[i],x&&c(x);return l(s),l(f),v}function bt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=p.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:d;return h(e,$n(0,i-r))}function wt(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(n<0?$n(0,r+n):Xn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function kt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,s=t[n];++o<i;)e[o]===s&&(In.call(e,o--,1),i--);return e}function Ct(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=$n(0,_n((t-e)/(n||1))),o=pn(i);++r<i;)o[r]=e,e+=n;return o}function St(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=p.createCallback(t,n,3);++r<i;){var s=e[r];t(s,r,e)&&(o.push(s),In.call(e,r--,1),i--)}return o}function Dt(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=p.createCallback(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:$n(0,t);return h(e,r)}function Et(e,t,n,r){var i=0,o=e?e.length:i;for(n=n?p.createCallback(n,r,1):Yt,t=n(t);i<o;){var s=i+o>>>1;n(e[s])<t?i=s+1:o=s}return i}function At(){return ie(ee(arguments,!0,!0))}function Tt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=p.createCallback(n,r,3)),ie(e,t,n)}function _t(e){return Z(e,h(arguments,1))}function Ft(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zn(n)||fe(n))var r=r?ie(Z(r,n).concat(Z(n,r))):n}return r||[]}function Mt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(dr(e,"length")):0,r=pn(n<0?0:n);++t<n;)r[t]=dr(e,t);return r}function Lt(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Zn(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Pt(e,t){if(!_e(t))throw new Cn;return function(){if(--e<1)return t.apply(this,arguments)}}function Nt(e,t){return arguments.length>2?se(e,17,h(arguments,2),null,t):se(e,1,null,null,t)}function Bt(e){for(var t=arguments.length>1?ee(arguments,!0,!1,1):be(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=se(e[i],1,null,null,e)}return e}function Ot(e,t){return arguments.length>2?se(t,19,h(arguments,2),null,e):se(t,3,null,null,e)}function It(){for(var e=arguments,t=e.length;t--;)if(!_e(e[t]))throw new Cn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function zt(e,t){return t="number"==typeof t?t:+t||e.length,se(e,4,null,null,null,t)}function jt(e,t,n){var r,i,o,s,a,u,l,c=0,h=!1,f=!0;if(!_e(e))throw new Cn;if(t=$n(0,t)||0,n===!0){var p=!0;f=!1}else Fe(n)&&(p=n.leading,h="maxWait"in n&&($n(t,n.maxWait)||0),f="trailing"in n?n.trailing:f);var m=function(){var n=t-(mr()-s);if(n<=0){i&&Fn(i);var h=l;i=u=l=d,h&&(c=mr(),o=e.apply(a,r),u||i||(r=a=null))}else u=On(m,n)},g=function(){u&&Fn(u),i=u=l=d,(f||h!==t)&&(c=mr(),o=e.apply(a,r),u||i||(r=a=null))};return function(){if(r=arguments,s=mr(),a=this,l=f&&(u||!p),h===!1)var n=p&&!u;else{i||p||(c=s);var d=h-(s-c),v=d<=0;v?(i&&(i=Fn(i)),c=s,o=e.apply(a,r)):i||(i=On(g,d))}return v&&u?u=Fn(u):u||t===h||(u=On(m,t)),n&&(v=!0,o=e.apply(a,r)),!v||u||i||(r=a=null),o}}function Rt(e){if(!_e(e))throw new Cn;var t=h(arguments,1);return On(function(){e.apply(d,t)},1)}function Ht(e,t){if(!_e(e))throw new Cn;var n=h(arguments,2);return On(function(){e.apply(d,n)},t)}function Wt(e,t){if(!_e(e))throw new Cn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):v+arguments[0];return Nn.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Ut(e){var t,n;if(!_e(e))throw new Cn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function qt(e){return se(e,16,h(arguments,1))}function $t(e){return se(e,32,null,h(arguments,1))}function Xt(e,t,n){var r=!0,i=!0;if(!_e(e))throw new Cn;return n===!1?r=!1:Fe(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),q.leading=r,q.maxWait=t,q.trailing=i,jt(e,t,q)}function Jt(e,t){return se(t,16,[e])}function Vt(e){return function(){return e}}function Kt(e,t,n){var r=typeof e;if(null==e||"function"==r)return G(e,t,n);if("object"!=r)return tn(e);var i=er(e),o=i[0],s=e[o];return 1!=i.length||s!==s||Fe(s)?function(t){for(var n=i.length,r=!1;n--&&(r=te(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return s===t&&(0!==s||1/s==1/t)}}function Gt(e){return null==e?"":kn(e).replace(ir,ae)}function Yt(e){return e}function Zt(e,t,n){var r=!0,i=t&&be(t);t&&(n||i.length)||(null==n&&(n=t),o=m,t=e,e=p,i=be(t)),n===!1?r=!1:Fe(n)&&"chain"in n&&(r=n.chain);var o=e,s=_e(o);Ge(i,function(n){var i=e[n]=t[n];s&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,s=[n];Bn.apply(s,arguments);var a=i.apply(e,s);if(r||t){if(n===a&&Fe(a))return this;a=new o(a),a.__chain__=t}return a})})}function Qt(){return n._=En,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Vn();return Xn(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return re(e,t)}function rn(e,t){if(e){var n=e[t];return _e(n)?e[t]():n}}function on(e,t,n){var r=p.templateSettings;e=kn(e||""),n=sr({},n,r);var i,o=sr({},n.imports,r.imports),a=er(o),u=Ue(o),l=0,c=n.interpolate||_,h="__p += '",f=wn((n.escape||_).source+"|"+c.source+"|"+(c===A?S:_).source+"|"+(n.evaluate||_).source+"|$","g");e.replace(f,function(t,n,r,o,a,u){return r||(r=o),h+=e.slice(l,u).replace(M,s),n&&(h+="' +\n__e("+n+") +\n'"),a&&(i=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),h+="';\n";var m=n.variable,g=m;g||(m="obj",h="with ("+m+") {\n"+h+"\n}\n"),h=(i?h.replace(w,""):h).replace(k,"$1").replace(C,"$1;"),h="function("+m+") {\n"+(g?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+P++ +"]")+"\n*/";try{var y=vn(a,"return "+h+v).apply(d,u)}catch(e){throw e.source=h,e}return t?y(t):(y.source=h,y)}function sn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=pn(e);for(t=G(t,n,1);++r<e;)i[r]=t(r);return i}function an(e){return null==e?"":kn(e).replace(rr,he)}function un(e){var t=++g;return kn(null==e?"":e)+t}function ln(e){return e=new m(e),e.__chain__=!0,e}function cn(e,t){return t(e),e}function hn(){return this.__chain__=!0,this}function fn(){return kn(this.__wrapped__)}function dn(){return this.__wrapped__}n=n?Q.defaults(V.Object(),n,Q.pick(V,L)):V;var pn=n.Array,mn=n.Boolean,gn=n.Date,vn=n.Function,yn=n.Math,xn=n.Number,bn=n.Object,wn=n.RegExp,kn=n.String,Cn=n.TypeError,Sn=[],Dn=bn.prototype,En=n._,An=Dn.toString,Tn=wn("^"+kn(An).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),_n=yn.ceil,Fn=n.clearTimeout,Mn=yn.floor,Ln=vn.prototype.toString,Pn=le(Pn=bn.getPrototypeOf)&&Pn,Nn=Dn.hasOwnProperty,Bn=Sn.push,On=n.setTimeout,In=Sn.splice,zn=Sn.unshift,jn=function(){try{var e={},t=le(t=bn.defineProperty)&&t,n=t(e,e,e)&&t}catch(e){}return n}(),Rn=le(Rn=bn.create)&&Rn,Hn=le(Hn=pn.isArray)&&Hn,Wn=n.isFinite,Un=n.isNaN,qn=le(qn=bn.keys)&&qn,$n=yn.max,Xn=yn.min,Jn=n.parseInt,Vn=yn.random,Kn={};Kn[B]=pn,Kn[O]=mn,Kn[I]=gn,Kn[z]=vn,Kn[R]=bn,Kn[j]=xn,Kn[H]=wn,Kn[W]=kn,m.prototype=p.prototype;var Gn=p.support={};Gn.funcDecomp=!le(n.WinRTError)&&F.test(f),Gn.funcNames="string"==typeof vn.name,p.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:A,variable:"",imports:{_:p}},Rn||(K=function(){function e(){}return function(t){if(Fe(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var Yn=jn?function(e,t){$.value=t,jn(e,"__bindData__",$)}:en,Zn=Hn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==B||!1},Qn=function(e){var t,n=e,r=[];if(!n)return r;if(!X[typeof e])return r;for(t in n)Nn.call(n,t)&&r.push(t);return r},er=qn?function(e){return Fe(e)?qn(e):[]}:Qn,tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr=ke(tr),rr=wn("("+er(nr).join("|")+")","g"),ir=wn("["+er(tr).join("")+"]","g"),or=function(e,t,n){var r,i=e,o=i;if(!i)return o;var s=arguments,a=0,u="number"==typeof n?2:s.length;if(u>3&&"function"==typeof s[u-2])var l=G(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(l=s[--u]);for(;++a<u;)if(i=s[a],i&&X[typeof i])for(var c=-1,h=X[typeof i]&&er(i),f=h?h.length:0;++c<f;)r=h[c],o[r]=l?l(o[r],i[r]):i[r];return o},sr=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var s=arguments,a=0,u="number"==typeof n?2:s.length;++a<u;)if(i=s[a],i&&X[typeof i])for(var l=-1,c=X[typeof i]&&er(i),h=c?c.length:0;++l<h;)r=c[l],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},ar=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!X[typeof i])return o;t=t&&"undefined"==typeof n?t:G(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return o;return o},ur=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!X[typeof i])return o;t=t&&"undefined"==typeof n?t:G(t,n,3);for(var s=-1,a=X[typeof i]&&er(i),u=a?a.length:0;++s<u;)if(r=a[s],t(i[r],r,e)===!1)return o;return o},lr=Pn?function(e){if(!e||An.call(e)!=R)return!1;var t=e.valueOf,n=le(t)&&(n=Pn(t))&&Pn(n);return n?e==n||Pn(e)==n:ce(e)}:ce,cr=oe(function(e,t,n){Nn.call(e,n)?e[n]++:e[n]=1}),hr=oe(function(e,t,n){(Nn.call(e,n)?e[n]:e[n]=[]).push(t)}),fr=oe(function(e,t,n){e[n]=t}),dr=Qe,pr=Je,mr=le(mr=gn.now)&&mr||function(){return(new gn).getTime()},gr=8==Jn(b+"08")?Jn:function(e,t){return Jn(Be(e)?e.replace(T,""):e,t||0)};return p.after=Pt,p.assign=or,p.at=qe,p.bind=Nt,p.bindAll=Bt,p.bindKey=Ot,p.chain=ln,p.compact=ht,p.compose=It,p.constant=Vt,p.countBy=cr,p.create=me,p.createCallback=Kt,p.curry=zt,p.debounce=jt,p.defaults=sr,p.defer=Rt,p.delay=Ht,p.difference=ft,p.filter=Je,p.flatten=gt,p.forEach=Ge,p.forEachRight=Ye,p.forIn=ar,p.forInRight=ye,p.forOwn=ur,p.forOwnRight=xe,p.functions=be,p.groupBy=hr,p.indexBy=fr,p.initial=yt,p.intersection=xt,p.invert=ke,p.invoke=Ze,p.keys=er,p.map=Qe,p.mapValues=Ie,p.max=et,p.memoize=Wt,p.merge=ze,p.min=tt,p.omit=je,p.once=Ut,p.pairs=Re,p.partial=qt,p.partialRight=$t,p.pick=He,p.pluck=dr,p.property=tn,p.pull=kt,p.range=Ct,p.reject=it,p.remove=St,p.rest=Dt,p.shuffle=st,p.sortBy=lt,p.tap=cn,p.throttle=Xt,p.times=sn,p.toArray=ct,p.transform=We,p.union=At,p.uniq=Tt,p.values=Ue,p.where=pr,p.without=_t,p.wrap=Jt,p.xor=Ft,p.zip=Mt,p.zipObject=Lt,p.collect=Qe,p.drop=Dt,p.each=Ge,p.eachRight=Ye,p.extend=or,p.methods=be,p.object=Lt,p.select=Je,p.tail=Dt,p.unique=Tt,p.unzip=Mt,Zt(p),p.clone=de,p.cloneDeep=pe,p.contains=$e,p.escape=Gt,p.every=Xe,p.find=Ve,p.findIndex=dt,p.findKey=ge,p.findLast=Ke,p.findLastIndex=pt,p.findLastKey=ve,p.has=we,p.identity=Yt,p.indexOf=vt,p.isArguments=fe,p.isArray=Zn,p.isBoolean=Ce,p.isDate=Se,p.isElement=De,p.isEmpty=Ee,p.isEqual=Ae,p.isFinite=Te,p.isFunction=_e,p.isNaN=Me,p.isNull=Le,p.isNumber=Pe,p.isObject=Fe,p.isPlainObject=lr,p.isRegExp=Ne,p.isString=Be,p.isUndefined=Oe,p.lastIndexOf=wt,p.mixin=Zt,p.noConflict=Qt,p.noop=en,p.now=mr,p.parseInt=gr,p.random=nn,p.reduce=nt,p.reduceRight=rt,p.result=rn,p.runInContext=f,p.size=at,p.some=ut,p.sortedIndex=Et,p.template=on,p.unescape=an,p.uniqueId=un,p.all=Xe,p.any=ut,p.detect=Ve,p.findWhere=Ve,p.foldl=nt,p.foldr=rt,p.include=$e,p.inject=nt,Zt(function(){var e={};return ur(p,function(t,n){p.prototype[n]||(e[n]=t)}),e}(),!1),p.first=mt,p.last=bt,p.sample=ot,p.take=mt,p.head=mt,ur(p,function(e,t){var n="sample"!==t;p.prototype[t]||(p.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new m(o,i):o})}),p.VERSION="2.4.1",p.prototype.chain=hn,p.prototype.toString=fn,p.prototype.value=dn,p.prototype.valueOf=dn,Ge(["join","pop","shift"],function(e){var t=Sn[e];p.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n}}),Ge(["push","reverse","sort","unshift"],function(e){var t=Sn[e];p.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ge(["concat","slice","splice"],function(e){var t=Sn[e];p.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),p}var d,p=[],m=[],g=0,v=+new Date+"",y=75,x=40,b=" \t\x0B\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",w=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,E=/^\s*function[ \n\r\t]+\w/,A=/<%=([\s\S]+?)%>/g,T=RegExp("^["+b+"]*0+(?=.$)"),_=/($^)/,F=/\bthis\b/,M=/['\n\r\t\u2028\u2029\\]/g,L=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],P=0,N="[object Arguments]",B="[object Array]",O="[object Boolean]",I="[object Date]",z="[object Function]",j="[object Number]",R="[object Object]",H="[object RegExp]",W="[object String]",U={};U[z]=!1,U[N]=U[B]=U[O]=U[I]=U[j]=U[R]=U[H]=U[W]=!0;var q={leading:!1,maxWait:0,trailing:!1},$={configurable:!1,enumerable:!1,value:null,writable:!1},X={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},J={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},V=X[typeof window]&&window||this,K=X[typeof exports]&&exports&&!exports.nodeType&&exports,G=X[typeof module]&&module&&!module.nodeType&&module,Y=G&&G.exports===K&&K,Z=X[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(V=Z);var Q=f();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(V._=Q,define(function(){return Q})):K&&G?Y?(G.exports=Q)._=Q:K._=Q:V._=Q}.call(this),function(){function e(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var t,n,r={};t=this,null!=t&&(n=t.async),r.noConflict=function(){return t.async=n,r};var i=Object.prototype.toString,o=Array.isArray||function(e){return"[object Array]"===i.call(e)},s=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},a=function(e,t){if(e.map)return e.map(t);var n=[];return s(e,function(e,r,i){n.push(t(e,r,i))}),n},u=function(e,t,n){return e.reduce?e.reduce(t,n):(s(e,function(e,r,i){n=t(n,e,r,i)}),n)},l=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(e){setImmediate(e)}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(e){setImmediate(e)},r.setImmediate=r.nextTick):(r.nextTick=function(e){setTimeout(e,0)},r.setImmediate=r.nextTick),r.each=function(t,n,r){function i(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;s(t,function(t){n(t,e(i))})},r.forEach=r.each,r.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n():i())})};i()},r.forEachSeries=r.eachSeries,r.eachLimit=function(e,t,n,r){var i=c(t);i.apply(null,[e,n,r])},r.forEachLimit=r.eachLimit;var c=function(e){return function(t,n,r){if(r=r||function(){},!t.length||e<=0)return r();var i=0,o=0,s=0;!function a(){if(i>=t.length)return r();for(;s<e&&o<t.length;)o+=1,s+=1,n(t[o-1],function(e){e?(r(e),r=function(){}):(i+=1,s-=1,i>=t.length?r():a())})}()}},h=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.each].concat(t))}},f=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},d=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.eachSeries].concat(t))}},p=function(e,t,n,r){if(t=a(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};r.map=h(p),r.mapSeries=d(p),r.mapLimit=function(e,t,n,r){return m(t)(e,n,r)};var m=function(e){return f(e,p)};r.reduce=function(e,t,n,i){r.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){i(e,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(e,t,n,i){var o=a(e,function(e){return e}).reverse();r.reduce(o,t,n,i)},r.foldr=r.reduceRight;var g=function(e,t,n,r){var i=[];t=a(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(){r(a(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.filter=h(g),r.filterSeries=d(g),r.select=r.filter,r.selectSeries=r.filterSeries;var v=function(e,t,n,r){var i=[];t=a(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(){r(a(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.reject=h(v),r.rejectSeries=d(v);var y=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(){r()})};r.detect=h(y),r.detectSeries=d(y),r.some=function(e,t,n){r.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(){n(!1)})},r.any=r.some,r.every=function(e,t,n){r.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(){n(!0)})},r.all=r.every,r.sortBy=function(e,t,n){r.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};n(null,a(t.sort(r),function(e){return e.value}))})},r.auto=function(e,t){t=t||function(){};var n=l(e),i=n.length;if(!i)return t();var a={},c=[],h=function(e){c.unshift(e)},f=function(e){for(var t=0;t<c.length;t+=1)if(c[t]===e)return void c.splice(t,1)},d=function(){i--,s(c.slice(0),function(e){e()})};h(function(){if(!i){var e=t;t=function(){},e(null,a)}}),s(n,function(n){var i=o(e[n])?e[n]:[e[n]],c=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var o={};s(l(a),function(e){o[e]=a[e]}),o[n]=i,t(e,o),t=function(){}}else a[n]=i,r.setImmediate(d)},p=i.slice(0,Math.abs(i.length-1))||[],m=function(){return u(p,function(e,t){return e&&a.hasOwnProperty(t)},!0)&&!a.hasOwnProperty(n)};if(m())i[i.length-1](c,a);else{var g=function(){m()&&(f(g),i[i.length-1](c,a))};h(g)}})},r.retry=function(e,t,n){var i=5,o=[];"function"==typeof e&&(n=t,t=e,e=i),e=parseInt(e,10)||i;var s=function(i,s){for(var a=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},s)}};e;)o.push(a(t,!(e-=1)));r.series(o,function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)})};return n?s():s},r.waterfall=function(e,t){if(t=t||function(){},!o(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),s=e.next();s?o.push(i(s)):o.push(t),r.setImmediate(function(){e.apply(null,o)})}}};i(r.iterator(e))()};var x=function(e,t,n){if(n=n||function(){},o(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(l(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};r.parallel=function(e,t){x({map:r.map,each:r.each},e,t)},r.parallelLimit=function(e,t,n){x({map:m(t),each:c(t)},e,n)},r.series=function(e,t){if(t=t||function(){},o(e))r.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};r.eachSeries(l(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},r.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},r.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var b=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};r.concat=h(b),r.concatSeries=d(b),r.whilst=function(e,t,n){e()?t(function(i){return i?n(i):void r.whilst(e,t,n)}):n()},r.doWhilst=function(e,t,n){e(function(i){if(i)return n(i);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?r.doWhilst(e,t,n):n()})},r.until=function(e,t,n){e()?n():t(function(i){return i?n(i):void r.until(e,t,n)})},r.doUntil=function(e,t,n){e(function(i){if(i)return n(i);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?n():r.doUntil(e,t,n)})},r.queue=function(t,n){function i(e,t,n,i){return e.started||(e.started=!0),o(t)||(t=[t]),0==t.length?r.setImmediate(function(){e.drain&&e.drain()}):void s(t,function(t){var o={data:t,callback:"function"==typeof i?i:null};n?e.tasks.unshift(o):e.tasks.push(o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process)})}void 0===n&&(n=1);var a=0,u={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){i(u,e,!1,t)},kill:function(){u.drain=null,u.tasks=[]},unshift:function(e,t){i(u,e,!0,t)},process:function(){if(!u.paused&&a<u.concurrency&&u.tasks.length){var n=u.tasks.shift();u.empty&&0===u.tasks.length&&u.empty(),a+=1;var r=function(){a-=1,n.callback&&n.callback.apply(n,arguments),u.drain&&u.tasks.length+a===0&&u.drain(),u.process()},i=e(r);t(n.data,i)}},length:function(){return u.tasks.length},running:function(){return a},idle:function(){return u.tasks.length+a===0},pause:function(){u.paused!==!0&&(u.paused=!0)},resume:function(){if(u.paused!==!1){u.paused=!1;for(var e=1;e<=u.concurrency;e++)r.setImmediate(u.process)}}};return u},r.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function a(e,t,a,u){return e.started||(e.started=!0),o(t)||(t=[t]),0==t.length?r.setImmediate(function(){e.drain&&e.drain()}):void s(t,function(t){var o={data:t,priority:a,callback:"function"==typeof u?u:null};e.tasks.splice(i(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process)})}var u=r.queue(e,t);return u.push=function(e,t,n){a(u,e,t,n)},delete u.unshift,u},r.cargo=function(e,t){var n=!1,i=[],u={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){o(e)||(e=[e]),s(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),u.drained=!1,u.saturated&&i.length===t&&u.saturated()}),r.setImmediate(u.process)},process:function r(){if(!n){if(0===i.length)return u.drain&&!u.drained&&u.drain(),void(u.drained=!0);var o="number"==typeof t?i.splice(0,t):i.splice(0,i.length),l=a(o,function(e){return e.data});u.empty&&u.empty(),n=!0,e(l,function(){n=!1;var e=arguments;s(o,function(t){t.callback&&t.callback.apply(null,e)}),r()})}},length:function(){return i.length},running:function(){return n}};return u};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))}]))}};r.log=w("log"),r.dir=w("dir"),r.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var o=function(){var o=Array.prototype.slice.call(arguments),s=o.pop(),a=t.apply(null,o);a in n?r.nextTick(function(){s.apply(null,n[a])}):a in i?i[a].push(s):(i[a]=[s],e.apply(null,o.concat([function(){n[a]=arguments;var e=i[a];delete i[a];for(var t=0,r=e.length;t<r;t++)e[t].apply(null,arguments)}])))};return o.memo=n,o.unmemoized=e,o},r.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},r.times=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push(o);return r.map(i,t,n)},r.timesSeries=function(e,t,n){for(var i=[],o=0;o<e;o++)i.push(o);return r.mapSeries(i,t,n)},r.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();r.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var k=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};r.applyEach=h(k),r.applyEachSeries=d(k),r.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.esprima=t():e.esprima=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t,n){var r=null,i=function(e,t){n&&n(e,t),r&&r.visit(e,t)},o="function"==typeof n?i:null,s=!1;if(t){s="boolean"==typeof t.comment&&t.comment;var c="boolean"==typeof t.attachComment&&t.attachComment;(s||c)&&(r=new a.CommentHandler,r.attach=c,t.comment=!0,o=i)}var h=!1;t&&"string"==typeof t.sourceType&&(h="module"===t.sourceType);var f;f=t&&"boolean"==typeof t.jsx&&t.jsx?new u.JSXParser(e,t,o):new l.Parser(e,t,o);var d=h?f.parseModule():f.parseScript(),p=d;return s&&r&&(p.comments=r.comments),f.config.tokens&&(p.tokens=f.tokens),f.config.tolerant&&(p.errors=f.errorHandler.errors),p}function i(e,t,n){var i=t||{};return i.sourceType="module",r(e,i,n)}function o(e,t,n){var i=t||{};return i.sourceType="script",r(e,i,n)}function s(e,t,n){var r,i=new c.Tokenizer(e,t);r=[];try{for(;;){var o=i.getNextToken();if(!o)break;n&&(o=n(o)),r.push(o)}}catch(e){i.errorHandler.tolerate(e)}return i.errorHandler.tolerant&&(r.errors=i.errors()),r}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=n(3),l=n(8),c=n(15);t.parse=r,t.parseModule=i,t.parseScript=o,t.tokenize=s;var h=n(2);t.Syntax=h.Syntax,t.version="4.0.0-dev"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===r.Syntax.BlockStatement&&0===e.body.length){for(var n=[],i=this.leading.length-1;i>=0;--i){var o=this.leading[i];t.end.offset>=o.start&&(n.unshift(o.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var r=this.trailing[n];r.start>=e.end.offset&&t.unshift(r.comment)}return this.trailing.length=0,t}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var o=i.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=i.node.trailingComments,delete i.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];this.stack.length>0;){var r=this.stack[this.stack.length-1];if(!(r&&r.start>=e.start.offset))break;t=r.node,this.stack.pop()}if(t){for(var i=t.leadingComments?t.leadingComments.length:0,o=i-1;o>=0;--o){var s=t.leadingComments[o];s.range[1]<=e.start.offset&&(n.unshift(s),t.leadingComments.splice(o,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}for(var o=this.leading.length-1;o>=0;--o){var r=this.leading[o];r.start<=e.start.offset&&(n.unshift(r.comment),this.leading.splice(o,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===r.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),i=this.findLeadingComments(t);i.length>0&&(e.leadingComments=i),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",r={type:n,value:e.value};if(e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach){var i={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(i.comment.loc=e.loc),e.type=n,this.leading.push(i),this.trailing.push(i)}},e.prototype.visit=function(e,t){"LineComment"===e.type?this.visitComment(e,t):"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Import:"Import",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";function r(e){var t;switch(e.type){case a.JSXSyntax.JSXIdentifier:var n=e;t=n.name;break;case a.JSXSyntax.JSXNamespacedName:var i=e;t=r(i.namespace)+":"+r(i.name);break;case a.JSXSyntax.JSXMemberExpression:var o=e;t=r(o.object)+"."+r(o.property)}return t}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{
value:!0});var o=n(4),s=n(5),a=n(6),u=n(7),l=n(8),c=n(13),h=n(14);c.TokenName[100]="JSXIdentifier",c.TokenName[101]="JSXText";var f=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return i(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",n=!0,r=!1,i=!1,s=!1;!this.scanner.eof()&&n&&!r;){var a=this.scanner.source[this.scanner.index];if(a===e)break;if(r=";"===a,t+=a,++this.scanner.index,!r)switch(t.length){case 2:i="#"===a;break;case 3:i&&(s="x"===a,n=s||o.Character.isDecimalDigit(a.charCodeAt(0)),i=i&&!s);break;default:n=n&&!(i&&!o.Character.isDecimalDigit(a.charCodeAt(0))),n=n&&!(s&&!o.Character.isHexDigit(a.charCodeAt(0)))}}if(n&&r&&t.length>2){var u=t.substr(1,t.length-2);i&&u.length>1?t=String.fromCharCode(parseInt(u.substr(1),10)):s&&u.length>2?t=String.fromCharCode(parseInt("0"+u.substr(1),16)):i||s||!h.XHTMLEntities[u]||(t=h.XHTMLEntities[u])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e){var t=this.scanner.source[this.scanner.index++];return{type:7,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(34===e||39===e){for(var n=this.scanner.index,r=this.scanner.source[this.scanner.index++],i="";!this.scanner.eof();){var s=this.scanner.source[this.scanner.index++];if(s===r)break;i+="&"===s?this.scanXHTMLEntity(r):s}return{type:8,value:i,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(46===e){var a=this.scanner.source.charCodeAt(this.scanner.index+1),u=this.scanner.source.charCodeAt(this.scanner.index+2),t=46===a&&46===u?"...":".",n=this.scanner.index;return this.scanner.index+=t.length,{type:7,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(e)&&92!==e){var n=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var s=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(s)&&92!==s)++this.scanner.index;else{if(45!==s)break;++this.scanner.index}}var l=this.scanner.source.slice(n,this.scanner.index);return{type:100,value:l,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,o.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new s.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var r=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXNamespacedName(n,r))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var i=t;this.expectJSX(".");var o=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXMemberExpression(i,o))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=n;this.expectJSX(":");var i=this.parseJSXIdentifier();e=this.finalize(t,new s.JSXNamespacedName(r,i))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new u.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new s.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(t,r,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new s.JSXClosingElement(t))}var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(n,i,r))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new s.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e=this.createJSXNode();this.expectJSX("{");var t;return this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(e,new s.JSXExpressionContainer(t))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var r=this.getTokenRaw(n),i=this.finalize(t,new s.JSXText(n.value,r));e.push(i)}if("{"!==this.scanner.source[this.scanner.index])break;var o=this.parseJSXExpressionContainer();e.push(o)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),i=this.parseJSXBoundaryElement();if(i.type===a.JSXSyntax.JSXOpeningElement){var o=i;if(o.selfClosing){var u=this.finalize(n,new s.JSXElement(o,[],null));e.children.push(u)}else t.push(e),e={node:n,opening:o,closing:null,children:[]}}if(i.type===a.JSXSyntax.JSXClosingElement){e.closing=i;var l=r(e.opening.name),c=r(e.closing.name);if(l!==c&&this.tolerateError("Expected corresponding JSX closing tag for %0",l),!(t.length>0))break;var u=this.finalize(e.node,new s.JSXElement(e.opening,e.children,e.closing));e=t[t.length-1],e.children.push(u),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],r=null;if(!t.selfClosing){var i=this.parseComplexJSXElement({node:e,opening:t,closing:r,children:n});n=i.children,r=i.closing}return this.finalize(e,new s.JSXElement(t,n,r))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(l.Parser);t.JSXParser=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function e(e){this.type=r.JSXSyntax.JSXClosingElement,this.name=e}return e}();t.JSXClosingElement=i;var o=function(){function e(e,t,n){this.type=r.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n}return e}();t.JSXElement=o;var s=function(){function e(){this.type=r.JSXSyntax.JSXEmptyExpression}return e}();t.JSXEmptyExpression=s;var a=function(){function e(e){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=e}return e}();t.JSXExpressionContainer=a;var u=function(){function e(e){this.type=r.JSXSyntax.JSXIdentifier,this.name=e}return e}();t.JSXIdentifier=u;var l=function(){function e(e,t){this.type=r.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t}return e}();t.JSXMemberExpression=l;var c=function(){function e(e,t){this.type=r.JSXSyntax.JSXAttribute,this.name=e,this.value=t}return e}();t.JSXAttribute=c;var h=function(){function e(e,t){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t}return e}();t.JSXNamespacedName=h;var f=function(){function e(e,t,n){this.type=r.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n}return e}();t.JSXOpeningElement=f;var d=function(){function e(e){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=e}return e}();t.JSXSpreadAttribute=d;var p=function(){function e(e,t){this.type=r.JSXSyntax.JSXText,this.value=e,this.raw=t}return e}();t.JSXText=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e){this.type=r.Syntax.ArrayExpression,this.elements=e}return e}();t.ArrayExpression=i;var o=function(){function e(e){this.type=r.Syntax.ArrayPattern,this.elements=e}return e}();t.ArrayPattern=o;var s=function(){function e(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1}return e}();t.ArrowFunctionExpression=s;var a=function(){function e(e,t,n){this.type=r.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n}return e}();t.AssignmentExpression=a;var u=function(){function e(e,t){this.type=r.Syntax.AssignmentPattern,this.left=e,this.right=t}return e}();t.AssignmentPattern=u;var l=function(){function e(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0}return e}();t.AsyncArrowFunctionExpression=l;var c=function(){function e(e,t,n){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}return e}();t.AsyncFunctionDeclaration=c;var h=function(){function e(e,t,n){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}return e}();t.AsyncFunctionExpression=h;var f=function(){function e(e){this.type=r.Syntax.AwaitExpression,this.argument=e}return e}();t.AwaitExpression=f;var d=function(){function e(e,t,n){var i="||"===e||"&&"===e;this.type=i?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n}return e}();t.BinaryExpression=d;var p=function(){function e(e){this.type=r.Syntax.BlockStatement,this.body=e}return e}();t.BlockStatement=p;var m=function(){function e(e){this.type=r.Syntax.BreakStatement,this.label=e}return e}();t.BreakStatement=m;var g=function(){function e(e,t){this.type=r.Syntax.CallExpression,this.callee=e,this.arguments=t}return e}();t.CallExpression=g;var v=function(){function e(e,t){this.type=r.Syntax.CatchClause,this.param=e,this.body=t}return e}();t.CatchClause=v;var y=function(){function e(e){this.type=r.Syntax.ClassBody,this.body=e}return e}();t.ClassBody=y;var x=function(){function e(e,t,n){this.type=r.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n}return e}();t.ClassDeclaration=x;var b=function(){function e(e,t,n){this.type=r.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n}return e}();t.ClassExpression=b;var w=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t}return e}();t.ComputedMemberExpression=w;var k=function(){function e(e,t,n){this.type=r.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n}return e}();t.ConditionalExpression=k;var C=function(){function e(e){this.type=r.Syntax.ContinueStatement,this.label=e}return e}();t.ContinueStatement=C;var S=function(){function e(){this.type=r.Syntax.DebuggerStatement}return e}();t.DebuggerStatement=S;var D=function(){function e(e,t){this.type=r.Syntax.ExpressionStatement,this.expression=e,this.directive=t}return e}();t.Directive=D;var E=function(){function e(e,t){this.type=r.Syntax.DoWhileStatement,this.body=e,this.test=t}return e}();t.DoWhileStatement=E;var A=function(){function e(){this.type=r.Syntax.EmptyStatement}return e}();t.EmptyStatement=A;var T=function(){function e(e){this.type=r.Syntax.ExportAllDeclaration,this.source=e}return e}();t.ExportAllDeclaration=T;var _=function(){function e(e){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=e}return e}();t.ExportDefaultDeclaration=_;var F=function(){function e(e,t,n){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n}return e}();t.ExportNamedDeclaration=F;var M=function(){function e(e,t){this.type=r.Syntax.ExportSpecifier,this.exported=t,this.local=e}return e}();t.ExportSpecifier=M;var L=function(){function e(e){this.type=r.Syntax.ExpressionStatement,this.expression=e}return e}();t.ExpressionStatement=L;var P=function(){function e(e,t,n){this.type=r.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1}return e}();t.ForInStatement=P;var N=function(){function e(e,t,n){this.type=r.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n}return e}();t.ForOfStatement=N;var B=function(){function e(e,t,n,i){this.type=r.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=i}return e}();t.ForStatement=B;var O=function(){function e(e,t,n,i){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1}return e}();t.FunctionDeclaration=O;var I=function(){function e(e,t,n,i){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,
this.body=n,this.generator=i,this.expression=!1,this.async=!1}return e}();t.FunctionExpression=I;var z=function(){function e(e){this.type=r.Syntax.Identifier,this.name=e}return e}();t.Identifier=z;var j=function(){function e(e,t,n){this.type=r.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n}return e}();t.IfStatement=j;var R=function(){function e(){this.type=r.Syntax.Import}return e}();t.Import=R;var H=function(){function e(e,t){this.type=r.Syntax.ImportDeclaration,this.specifiers=e,this.source=t}return e}();t.ImportDeclaration=H;var W=function(){function e(e){this.type=r.Syntax.ImportDefaultSpecifier,this.local=e}return e}();t.ImportDefaultSpecifier=W;var U=function(){function e(e){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=e}return e}();t.ImportNamespaceSpecifier=U;var q=function(){function e(e,t){this.type=r.Syntax.ImportSpecifier,this.local=e,this.imported=t}return e}();t.ImportSpecifier=q;var $=function(){function e(e,t){this.type=r.Syntax.LabeledStatement,this.label=e,this.body=t}return e}();t.LabeledStatement=$;var X=function(){function e(e,t){this.type=r.Syntax.Literal,this.value=e,this.raw=t}return e}();t.Literal=X;var J=function(){function e(e,t){this.type=r.Syntax.MetaProperty,this.meta=e,this.property=t}return e}();t.MetaProperty=J;var V=function(){function e(e,t,n,i,o){this.type=r.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=i,this["static"]=o}return e}();t.MethodDefinition=V;var K=function(){function e(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="module"}return e}();t.Module=K;var G=function(){function e(e,t){this.type=r.Syntax.NewExpression,this.callee=e,this.arguments=t}return e}();t.NewExpression=G;var Y=function(){function e(e){this.type=r.Syntax.ObjectExpression,this.properties=e}return e}();t.ObjectExpression=Y;var Z=function(){function e(e){this.type=r.Syntax.ObjectPattern,this.properties=e}return e}();t.ObjectPattern=Z;var Q=function(){function e(e,t,n,i,o,s){this.type=r.Syntax.Property,this.key=t,this.computed=n,this.value=i,this.kind=e,this.method=o,this.shorthand=s}return e}();t.Property=Q;var ee=function(){function e(e,t,n,i){this.type=r.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:i}}return e}();t.RegexLiteral=ee;var te=function(){function e(e){this.type=r.Syntax.RestElement,this.argument=e}return e}();t.RestElement=te;var ne=function(){function e(e){this.type=r.Syntax.ReturnStatement,this.argument=e}return e}();t.ReturnStatement=ne;var re=function(){function e(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="script"}return e}();t.Script=re;var ie=function(){function e(e){this.type=r.Syntax.SequenceExpression,this.expressions=e}return e}();t.SequenceExpression=ie;var oe=function(){function e(e){this.type=r.Syntax.SpreadElement,this.argument=e}return e}();t.SpreadElement=oe;var se=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t}return e}();t.StaticMemberExpression=se;var ae=function(){function e(){this.type=r.Syntax.Super}return e}();t.Super=ae;var ue=function(){function e(e,t){this.type=r.Syntax.SwitchCase,this.test=e,this.consequent=t}return e}();t.SwitchCase=ue;var le=function(){function e(e,t){this.type=r.Syntax.SwitchStatement,this.discriminant=e,this.cases=t}return e}();t.SwitchStatement=le;var ce=function(){function e(e,t){this.type=r.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t}return e}();t.TaggedTemplateExpression=ce;var he=function(){function e(e,t){this.type=r.Syntax.TemplateElement,this.value=e,this.tail=t}return e}();t.TemplateElement=he;var fe=function(){function e(e,t){this.type=r.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t}return e}();t.TemplateLiteral=fe;var de=function(){function e(){this.type=r.Syntax.ThisExpression}return e}();t.ThisExpression=de;var pe=function(){function e(e){this.type=r.Syntax.ThrowStatement,this.argument=e}return e}();t.ThrowStatement=pe;var me=function(){function e(e,t,n){this.type=r.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n}return e}();t.TryStatement=me;var ge=function(){function e(e,t){this.type=r.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0}return e}();t.UnaryExpression=ge;var ve=function(){function e(e,t,n){this.type=r.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n}return e}();t.UpdateExpression=ve;var ye=function(){function e(e,t){this.type=r.Syntax.VariableDeclaration,this.declarations=e,this.kind=t}return e}();t.VariableDeclaration=ye;var xe=function(){function e(e,t){this.type=r.Syntax.VariableDeclarator,this.id=e,this.init=t}return e}();t.VariableDeclarator=xe;var be=function(){function e(e,t){this.type=r.Syntax.WhileStatement,this.test=e,this.body=t}return e}();t.WhileStatement=be;var we=function(){function e(e,t){this.type=r.Syntax.WithStatement,this.object=e,this.body=t}return e}();t.WithStatement=we;var ke=function(){function e(e,t){this.type=r.Syntax.YieldExpression,this.argument=e,this.delegate=t}return e}();t.YieldExpression=ke},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(10),o=n(11),s=n(7),a=n(12),u=n(2),l=n(13),c="ArrowParameterPlaceHolder",h=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),s=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(s,a,u,o)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),s=this.lastMarker.index,a=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(s,a,u,o)},e.prototype.unexpectedTokenError=function(e,t){var n,r=t||o.Messages.UnexpectedToken;if(e?(t||(r=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?r=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(r=o.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",r=r.replace("%0",n),e&&"number"==typeof e.lineNumber){var i=e.start,s=e.lineNumber,a=this.lastMarker.index-this.lastMarker.column,u=e.start-a+1;return this.errorHandler.createError(i,s,u,r)}var i=this.lastMarker.index,s=this.lastMarker.line,u=this.lastMarker.column+1;return this.errorHandler.createError(i,s,u,r)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],r=void 0;r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc);var i={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(r,i)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:l.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,r=e.flags;t.regex={pattern:n,flags:r}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e){return{index:e.start,line:e.lineNumber,column:e.start-e.lineStart}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,i},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,i},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new s.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(r,new s.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(r,new s.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.matchImportCall()?this.parseImportCall():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new s.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new s.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,r},e.prototype.parsePropertyMethodFunction=function(){var e=!1,t=this.createNode(),n=this.context.allowYield;this.context.allowYield=!1;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(t,new s.FunctionExpression(null,r.params,i,e))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new s.AsyncFunctionExpression(null,r.params,i))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral);var r=this.getTokenRaw(n);e=this.finalize(t,new s.Literal(n.value,r));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new s.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),r=this.lookahead,i=null,a=null,u=!1,l=!1,c=!1,h=!1;if(3===r.type){var f=r.value;this.nextToken(),u=this.match("["),h=!(this.hasLineTerminator||"async"!==f||this.match(":")||this.match("(")||this.match("*")),i=h?this.parseObjectPropertyKey():this.finalize(n,new s.Identifier(f))}else this.match("*")?this.nextToken():(u=this.match("["),i=this.parseObjectPropertyKey());var d=this.qualifiedPropertyName(this.lookahead);if(3===r.type&&!h&&"get"===r.value&&d)t="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod();else if(3===r.type&&!h&&"set"===r.value&&d)t="set",u=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseSetterMethod();else if(7===r.type&&"*"===r.value&&d)t="init",u=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),l=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!h)!u&&this.isPropertyKey(i,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),a=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0;else if(3===r.type){var f=this.finalize(n,new s.Identifier(r.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),c=!0;var p=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(n,new s.AssignmentPattern(f,p))}else c=!0,a=f}else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new s.Property(t,i,u,a,l,c))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],n={value:!1};!this.match("}");)t.push(this.match("...")?this.parseSpreadElement():this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new s.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new s.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new s.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],r=this.parseTemplateHead();for(n.push(r);!r.tail;)t.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(e,new s.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:e.type=u.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:e.type=u.Syntax.ObjectPattern;for(var t=0;t<e.properties.length;t++){var n=e.properties[t];this.reinterpretExpressionAsPattern(n.type===u.Syntax.SpreadElement?n:n.value)}break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:c,params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:c,params:[e],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var i=[];for(this.context.isAssignmentTarget=!1,i.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:c,params:i,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:c,params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(e=this.finalize(this.startNode(t),new s.SequenceExpression(i)))}if(!r){if(this.expect(")"),this.match("=>")&&(e.type===u.Syntax.Identifier&&"yield"===e.name&&(r=!0,e={type:c,params:[e],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(var o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);var a=e.type===u.Syntax.SequenceExpression?e.expressions:[e];e={type:c,params:a,async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new s.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e=this.createNode(),t=this.parseIdentifierName();r.assert("new"===t.name,"New expression must start with `new`");var n;if(this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var i=this.parseIdentifierName();n=new s.MetaProperty(t,i)}else this.throwUnexpectedToken(this.lookahead);else if(this.matchKeyword("import"))this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];n=new s.NewExpression(o,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(e,n)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.matchImportCall=function(){var e=this.matchKeyword("import");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=7===n.type&&"("===n.value}return e},e.prototype.parseImportCall=function(){var e=this.createNode();return this.expectKeyword("import"),this.finalize(e,new s.Import)},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e=this.lookahead,t=this.matchContextualKeyword("async"),n=this.context.allowIn;this.context.allowIn=!0;var r;for(this.matchKeyword("super")&&this.context.inFunctionBody?(r=this.createNode(),this.nextToken(),r=this.finalize(r,new s.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):r=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();r=this.finalize(this.startNode(e),new s.StaticMemberExpression(r,i))}else if(this.match("(")){var a=t&&e.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var l=a?this.parseAsyncArguments():this.parseArguments();if(r.type===u.Syntax.Import&&1!==l.length&&this.tolerateError(o.Messages.BadImportCallArity),r=this.finalize(this.startNode(e),new s.CallExpression(r,l)),a&&this.match("=>")){for(var h=0;h<l.length;++h)this.reinterpretExpressionAsPattern(l[h]);r={type:c,params:l,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),r=this.finalize(this.startNode(e),new s.ComputedMemberExpression(r,i))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var f=this.parseTemplateLiteral();r=this.finalize(this.startNode(e),new s.TaggedTemplateExpression(r,f))}return this.context.allowIn=n,r},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new s.Super)},e.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new s.ComputedMemberExpression(t,n))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var n=this.parseIdentifierName();t=this.finalize(e,new s.StaticMemberExpression(t,n))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var i=this.parseTemplateLiteral();t=this.finalize(e,new s.TaggedTemplateExpression(t,i))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var i=!0;e=this.finalize(n,new s.UpdateExpression(r.value,e,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var a=this.nextToken().value,i=!1;e=this.finalize(this.startNode(t),new s.UpdateExpression(a,e,i))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new s.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new s.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,r=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new s.BinaryExpression("**",n,r))}return t},e.prototype.binaryPrecedence=function(e){var t,n=e.value;return t=7===e.type?this.operatorPrecedence[n]||0:4===e.type&&("instanceof"===n||this.context.allowIn&&"in"===n)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(r>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[e,this.lookahead],o=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[o,n.value,a],l=[r];;){if(r=this.binaryPrecedence(this.lookahead),r<=0)break;for(;u.length>2&&r<=l[l.length-1];){a=u.pop();var c=u.pop();l.pop(),o=u.pop(),i.pop();var h=this.startNode(i[i.length-1]);u.push(this.finalize(h,new s.BinaryExpression(c,o,a)))}u.push(this.nextToken().value),l.push(r),i.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var f=u.length-1;for(t=u[f],i.pop();f>1;){var h=this.startNode(i.pop()),c=u[f-1];t=this.finalize(h,new s.BinaryExpression(c,u[f-2],t)),f-=2}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new s.ConditionalExpression(t,r,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;
case u.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case u.Syntax.ObjectPattern:for(var n=0;n<t.properties.length;n++){var r=t.properties[n];this.checkPatternParam(e,r.type===u.Syntax.RestElement?r:r.value)}}e.simple=e.simple&&t instanceof s.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],r=!1;switch(e.type){case u.Syntax.Identifier:break;case c:n=e.params,r=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var i=0;i<n.length;++i){var s=n[i];s.type===u.Syntax.AssignmentPattern?s.right.type===u.Syntax.YieldExpression&&(s.right.argument&&this.throwUnexpectedToken(this.lookahead),s.right.type=u.Syntax.Identifier,s.right.name="yield",delete s.right.argument,delete s.right.delegate):r&&s.type===u.Syntax.Identifier&&"await"===s.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,s),n[i]=s}if(this.context.strict||!this.context.allowYield)for(var i=0;i<n.length;++i){var s=n[i];s.type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var a=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(a,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),e={type:c,params:[r],async:!0}}if(e.type===c||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e.async,a=this.reinterpretAsCoverFormalsList(e);if(a){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var l=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var f=this.context.allowYield,d=this.context.await;this.context.allowYield=!0,this.context.await=i;var p=this.startNode(t);this.expect("=>");var m=void 0;if(this.match("{")){var g=this.context.allowIn;this.context.allowIn=!0,m=this.parseFunctionSourceElements(),this.context.allowIn=g}else m=this.isolateCoverGrammar(this.parseAssignmentExpression);var v=m.type!==u.Syntax.BlockStatement;this.context.strict&&a.firstRestricted&&this.throwUnexpectedToken(a.firstRestricted,a.message),this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message),e=i?this.finalize(p,new s.AsyncArrowFunctionExpression(a.params,m,v)):this.finalize(p,new s.ArrowFunctionExpression(a.params,m,v)),this.context.strict=l,this.context.allowStrictDirective=h,this.context.allowYield=f,this.context.await=d}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var y=e;this.scanner.isRestrictedWord(y.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(y.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),n=this.nextToken();var x=n.value,b=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new s.AssignmentExpression(x,e,b)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new s.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.matchImportCall()?e=this.parseExpressionStatement():(this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration());break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];;){if(this.match("}"))break;t.push(this.parseStatementListItem())}return this.expect("}"),this.finalize(e,new s.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),r=[],i=this.parsePattern(r,e);this.context.strict&&i.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(o.Messages.StrictVarName);var a=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),a=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&i.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),a=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new s.VariableDeclarator(i,a))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;r.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var i=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new s.VariableDeclaration(i,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var r=this.parsePattern(e,t);return this.finalize(n,new s.RestElement(r))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");for(var r=[];!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new s.ArrayPattern(r))},e.prototype.parsePropertyPattern=function(e,t){var n,r,i=this.createNode(),o=!1,a=!1,u=!1;if(3===this.lookahead.type){var l=this.lookahead;n=this.parseVariableIdentifier();var c=this.finalize(i,new s.Identifier(l.value));if(this.match("=")){e.push(l),a=!0,this.nextToken();var h=this.parseAssignmentExpression();r=this.finalize(this.startNode(l),new s.AssignmentPattern(c,h))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(e,t)):(e.push(l),a=!0,r=c)}else o=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(e,t);return this.finalize(i,new s.Property("init",n,o,r,u,a))},e.prototype.parseRestProperty=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestProperty),this.match("}")||this.throwError(o.Messages.PropertyAfterRestProperty),this.finalize(t,new s.RestElement(n))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.match("...")?this.parseRestProperty(e,t):this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new s.ObjectPattern(r))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,r=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,r=this.finalize(this.startNode(n),new s.AssignmentPattern(r,o))}return r},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new s.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=[],r=this.parsePattern(n,"var");this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):r.type===u.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new s.VariableDeclarator(r,i))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new s.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new s.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new s.IfStatement(r,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new s.DoWhileStatement(n,r))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=r}return this.finalize(t,new s.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n=null,r=null,i=null,a=!0,l=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){n=this.createNode(),this.nextToken();var c=this.context.allowIn;this.context.allowIn=!1;var h=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=c,1===h.length&&this.matchKeyword("in")){var f=h[0];f.init&&(f.id.type===u.Syntax.ArrayPattern||f.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),n=this.finalize(n,new s.VariableDeclaration(h,"var")),this.nextToken(),e=n,t=this.parseExpression(),n=null}else 1===h.length&&null===h[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new s.VariableDeclaration(h,"var")),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,a=!1):(n=this.finalize(n,new s.VariableDeclaration(h,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){n=this.createNode();var d=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){var c=this.context.allowIn;this.context.allowIn=!1;var h=this.parseBindingList(d,{inFor:!0});this.context.allowIn=c,1===h.length&&null===h[0].init&&this.matchKeyword("in")?(n=this.finalize(n,new s.VariableDeclaration(h,d)),this.nextToken(),e=n,t=this.parseExpression(),n=null):1===h.length&&null===h[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new s.VariableDeclaration(h,d)),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,a=!1):(this.consumeSemicolon(),n=this.finalize(n,new s.VariableDeclaration(h,d)))}else n=this.finalize(n,new s.Identifier(d)),this.nextToken(),e=n,t=this.parseExpression(),n=null}else{var p=this.lookahead,c=this.context.allowIn;if(this.context.allowIn=!1,n=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=c,this.matchKeyword("in"))this.context.isAssignmentTarget&&n.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseExpression(),n=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&n.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseAssignmentExpression(),n=null,a=!1;else{if(this.match(",")){for(var m=[n];this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));n=this.finalize(this.startNode(p),new s.SequenceExpression(m))}this.expect(";")}}"undefined"==typeof e&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(i=this.parseExpression()));var g;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),g=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,g=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return"undefined"==typeof e?this.finalize(l,new s.ForStatement(n,r,i,g)):a?this.finalize(l,new s.ForInStatement(e,t,g)):this.finalize(l,new s.ForOfStatement(e,t,g))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new s.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new s.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type,n=t?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(e,new s.ReturnStatement(n))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new s.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var n=[];;){if(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"))break;n.push(this.parseStatementListItem())}return this.finalize(t,new s.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var r=[],i=!1;for(this.expect("{");;){if(this.match("}"))break;var a=this.parseSwitchCase();null===a.test&&(i&&this.throwError(o.Messages.MultipleDefaultsInSwitch),i=!0),r.push(a)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new s.SwitchStatement(t,r))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var r=n,i="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)&&this.throwError(o.Messages.Redeclaration,"Label",r.name),this.context.labelSet[i]=!0;var a=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),a=this.parseClassDeclaration();else if(this.matchKeyword("function")){var l=this.lookahead,c=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(l,o.Messages.StrictFunction):c.generator&&this.tolerateUnexpectedToken(l,o.Messages.GeneratorInLegacyContext),a=c}else a=this.parseStatement();delete this.context.labelSet[i],e=new s.LabeledStatement(r,a)}else this.consumeSemicolon(),e=new s.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),r={},i=0;i<t.length;i++){var a="$"+t[i].value;Object.prototype.hasOwnProperty.call(r,a)&&this.tolerateError(o.Messages.DuplicateBinding,t[i].value),r[a]=!0}this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var l=this.parseBlock();return this.finalize(e,new s.CatchClause(n,l))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||r||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new s.TryStatement(t,n,r))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new s.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,r=this.context.inIteration,i=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=i,this.context.inFunctionBody=o,this.finalize(e,new s.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new s.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);e.simple=e.simple&&n instanceof s.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var r=!n&&this.match("*");r&&this.nextToken();var i,a=null,u=null;if(!e||!this.match("(")){var l=this.lookahead;a=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(u=l,i=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(u=l,i=o.Messages.StrictReservedWord)}var c=this.context.await,h=this.context.allowYield;this.context.await=n,this.context.allowYield=!r;var f=this.parseFormalParameters(u),d=f.params,p=f.stricted;u=f.firstRestricted,f.message&&(i=f.message);var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=f.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,i),this.context.strict&&p&&this.tolerateUnexpectedToken(p,i),this.context.strict=m,this.context.allowStrictDirective=g,this.context.await=c,this.context.allowYield=h,n?this.finalize(t,new s.AsyncFunctionDeclaration(a,d,v)):this.finalize(t,new s.FunctionDeclaration(a,d,v,r))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n=!t&&this.match("*");n&&this.nextToken();var r,i,a=null,u=this.context.await,l=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!n,!this.match("(")){var c=this.lookahead;a=this.context.strict||n||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(i=c,r=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(i=c,r=o.Messages.StrictReservedWord)}var h=this.parseFormalParameters(i),f=h.params,d=h.stricted;i=h.firstRestricted,h.message&&(r=h.message);var p=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,r),this.context.strict&&d&&this.tolerateUnexpectedToken(d,r),this.context.strict=p,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=l,t?this.finalize(e,new s.AsyncFunctionExpression(a,f,g)):this.finalize(e,new s.FunctionExpression(a,f,g,n))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),r=n.type===u.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,r?new s.Directive(n,r):new s.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(8!==n.type)break;var r=this.parseDirective();t.push(r);var i=r.directive;if("string"!=typeof i)break;"use strict"===i?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,o.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=!1,n=this.context.allowYield;this.context.allowYield=!1;var r=this.parseFormalParameters();r.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(e,new s.FunctionExpression(null,r.params,i,t))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=!1,n=this.context.allowYield;this.context.allowYield=!1;var r=this.parseFormalParameters();1!==r.params.length?this.tolerateError(o.Messages.BadSetterArity):r.params[0]instanceof s.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(e,new s.FunctionExpression(null,r.params,i,t))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=!0,n=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();this.context.allowYield=!1;var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(e,new s.FunctionExpression(null,r.params,i,t))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,n=this.match("*"),n?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(e,new s.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),r="",i=null,a=null,u=!1,l=!1,c=!1,h=!1;if(this.match("*"))this.nextToken();else{u=this.match("["),i=this.parseObjectPropertyKey();var f=i;if("static"===f.name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,c=!0,u=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var d=this.lookahead.value;":"!==d&&"("!==d&&"*"!==d&&(h=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),3===t.type&&("get"===t.value||"set"===t.value?this.tolerateUnexpectedToken(t):"constructor"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync)))}}var p=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&p?(r="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod()):"set"===t.value&&p&&(r="set",u=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseSetterMethod()):7===t.type&&"*"===t.value&&p&&(r="init",u=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),l=!0),!r&&i&&this.match("(")&&(r="init",a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0),r||this.throwUnexpectedToken(this.lookahead),"init"===r&&(r="method"),u||(c&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!c&&this.isPropertyKey(i,"constructor")&&(("method"!==r||!l||a&&a.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,r="constructor")),this.finalize(n,new s.MethodDefinition(i,u,a,r,c))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new s.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(t,new s.ClassDeclaration(r,i,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));
var i=this.parseClassBody();return this.context.strict=t,this.finalize(e,new s.ClassExpression(n,r,i))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new s.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(e=this.parseVariableIdentifier(),t=e,this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(e=this.parseIdentifierName(),t=e,this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new s.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new s.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new s.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e=this.createNode();this.expectKeyword("import");var t,n=[];if(8===this.lookahead.type)t=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new s.ImportDeclaration(n,t))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new s.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e=this.createNode();this.expectKeyword("export");var t;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else if(this.matchKeyword("class")){var n=this.parseClassDeclaration(!0);t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else if(this.matchContextualKeyword("async")){var n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else{this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value);var n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(e,new s.ExportAllDeclaration(i))}else if(4===this.lookahead.type){var n=void 0;switch(this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(e,new s.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction()){var n=this.parseFunctionDeclaration();t=this.finalize(e,new s.ExportNamedDeclaration(n,[],null))}else{var a=[],u=null,l=!1;for(this.expect("{");!this.match("}");)l=l||this.matchKeyword("default"),a.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon();else if(l){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}else this.consumeSemicolon();t=this.finalize(e,new s.ExportNamedDeclaration(null,a,u))}return t},e}();t.Parser=h},function(e,t){"use strict";function n(e,t){if(!e)throw new Error("ASSERT: "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,r){var i="Line "+t+": "+r,o=this.constructError(i,n);return o.index=e,o.lineNumber=t,o.description=r,o},e.prototype.throwError=function(e,t,n,r){throw this.createError(e,t,n,r)},e.prototype.tolerateError=function(e,t,n,r){var i=this.createError(e,t,n,r);if(!this.tolerant)throw i;this.recordError(i)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadImportCallArity:"Unexpected token",BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DefaultRestProperty:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",PropertyAfterRestProperty:"Unexpected token",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";function r(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function i(e){return"01234567".indexOf(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=n(4),a=n(11),u=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=a.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=a.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,r=[];for(this.trackComment&&(r=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(++this.index,s.Character.isLineTerminator(i)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var o={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};r.push(o)}return 13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n};r.push(o)}return r},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(s.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var i={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(i)}return n}++this.index}else++this.index}if(this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var i={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t};n.push(i)}return this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(s.Character.isWhiteSpace(n))++this.index;else if(s.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(n=this.source.charCodeAt(this.index+1),47===n){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),t=!0}else{if(42!==n)break;this.index+=2;var r=this.skipMultiLineComment();this.trackComment&&(e=e.concat(r))}else if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;var r=this.skipSingleLineComment(3);this.trackComment&&(e=e.concat(r))}else{if(60!==n)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;var r=this.skipSingleLineComment(4);this.trackComment&&(e=e.concat(r))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);if(n>=56320&&n<=57343){var r=t;t=1024*(r-55296)+n-56320+65536}}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,i=0;i<t;++i){if(this.eof()||!s.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+r(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],s.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+r(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),s.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!s.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e=this.codePointAt(this.index),t=s.Character.fromCodePoint(e);this.index+=t.length;var n;for(92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,n=this.scanUnicodeCodePointEscape()):(n=this.scanHexEscape("u"),null!==n&&"\\"!==n&&s.Character.isIdentifierStart(n.charCodeAt(0))||this.throwUnexpectedToken()),t=n);!this.eof()&&(e=this.codePointAt(this.index),s.Character.isIdentifierPart(e));)n=s.Character.fromCodePoint(e),t+=n,this.index+=n.length,92===e&&(t=t.substr(0,t.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,n=this.scanUnicodeCodePointEscape()):(n=this.scanHexEscape("u"),null!==n&&"\\"!==n&&s.Character.isIdentifierPart(n.charCodeAt(0))||this.throwUnexpectedToken()),t+=n);return t},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=i(e);return!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+i(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+i(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3,3!==e&&t+n.length!==this.index){var r=this.index;this.index=t,this.tolerateUnexpectedToken(a.Messages.InvalidEscapedReservedWord),this.index=r}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:t=this.source.substr(this.index,4),">>>="===t?this.index+=4:(t=t.substr(0,3),"==="===t||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:(t=t.substr(0,2),"&&"===t||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)))}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&s.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),s.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&(t=this.source[this.index],"0"===t||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(s.Character.isIdentifierStart(t)||s.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",r=!1;for(s.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return r||0!==n.length||this.throwUnexpectedToken(),(s.Character.isIdentifierStart(this.source.charCodeAt(this.index))||s.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!s.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];o.assert(s.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&s.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],t=this.source[this.index],"+"!==t&&"-"!==t||(n+=this.source[this.index++]),s.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return s.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];o.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var n=!1,r="";!this.eof();){var i=this.source[this.index++];if(i===t){t="";break}if("\\"===i)if(i=this.source[this.index++],i&&s.Character.isLineTerminator(i.charCodeAt(0)))++this.lineNumber,"\r"===i&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(i){case"u":if("{"===this.source[this.index])++this.index,r+=this.scanUnicodeCodePointEscape();else{var u=this.scanHexEscape(i);null===u&&this.throwUnexpectedToken(),r+=u}break;case"x":var l=this.scanHexEscape(i);null===l&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),r+=l;break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\x0B";break;case"8":case"9":r+=i,this.tolerateUnexpectedToken();break;default:if(i&&s.Character.isOctalDigit(i.charCodeAt(0))){var c=this.octalToDecimal(i);n=c.octal||n,r+=String.fromCharCode(c.code)}else r+=i}else{if(s.Character.isLineTerminator(i.charCodeAt(0)))break;r+=i}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:r,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,r="`"===this.source[n],i=!1,o=2;for(++this.index;!this.eof();){var u=this.source[this.index++];if("`"===u){o=1,i=!0,t=!0;break}if("$"===u){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=u}else if("\\"===u)if(u=this.source[this.index++],s.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var l=this.index,c=this.scanHexEscape(u);null!==c?e+=c:(this.index=l,e+=u)}break;case"x":var h=this.scanHexEscape(u);null===h&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),e+=h;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\x0B";break;default:"0"===u?(s.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral),e+="\0"):s.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral):e+=u}else s.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=u}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-o),cooked:e,head:r,tail:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n="\uffff",r=e,i=this;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,r){var o=parseInt(t||r,16);return o>1114111&&i.throwUnexpectedToken(a.Messages.InvalidRegExp),o<=65535?String.fromCharCode(o):n}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n));try{RegExp(r)}catch(e){this.throwUnexpectedToken(a.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];o.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],n=!1,r=!1;!this.eof();)if(e=this.source[this.index++],t+=e,"\\"===e)e=this.source[this.index++],s.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),t+=e;else if(s.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="",t="";!this.eof();){var n=this.source[this.index];if(!s.Character.isIdentifierPart(n.charCodeAt(0)))break;if(++this.index,"\\"!==n||this.eof())t+=n,e+=n;else if(n=this.source[this.index],"u"===n){++this.index;var r=this.index,i=this.scanHexEscape("u");if(null!==i)for(t+=i,e+="\\u";r<this.index;++r)e+=this.source[r];else this.index=r,t+="u",e+="\\u";this.tolerateUnexpectedToken()}else e+="\\",this.tolerateUnexpectedToken()}return t},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags(),r=this.testRegExp(t,n);return{type:9,value:"",pattern:t,flags:n,regex:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return s.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?s.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():s.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&s.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",frasl:"\u2044",euro:"\u20ac",image:"\u2111",weierp:"\u2118",real:"\u211c",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27e8",rang:"\u27e9"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(12),o=n(13),s=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3]){var r=this.values[this.curly-4];t=!!r&&!this.beforeFunctionExpression(r)}else if("function"===this.values[this.curly-4]){var r=this.values[this.curly-5];t=!r||!this.beforeFunctionExpression(r)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),a=function(){function e(e,t){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!t&&("boolean"==typeof t.tolerant&&t.tolerant),this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&("boolean"==typeof t.comment&&t.comment),this.trackRange=!!t&&("boolean"==typeof t.range&&t.range),this.trackLoc=!!t&&("boolean"==typeof t.loc&&t.loc),this.buffer=[],
this.reader=new s}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],r=this.scanner.source.slice(n.slice[0],n.slice[1]),i={type:n.multiLine?"BlockComment":"LineComment",value:r};this.trackRange&&(i.range=n.range),this.trackLoc&&(i.loc=n.loc),this.buffer.push(i)}if(!this.scanner.eof()){var s=void 0;this.trackLoc&&(s={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart(),u=a?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(u);var l={type:o.TokenName[u.type],value:this.scanner.source.slice(u.start,u.end)};if(this.trackRange&&(l.range=[u.start,u.end]),this.trackLoc&&(s.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},l.loc=s),9===u.type){var c=u.pattern,h=u.flags;l.regex={pattern:c,flags:h}}this.buffer.push(l)}}return this.buffer.shift()},e}();t.Tokenizer=a}])}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function s(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function a(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function u(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function l(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function h(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}function f(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function d(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);o==-1&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function p(e){for(;Ks.length<=e;)Ks.push(m(Ks)+" ");return Ks[e]}function m(e){return e[e.length-1]}function g(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function v(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function y(){}function x(e,t){var n;return Object.create?n=Object.create(e):(y.prototype=e,n=new y),t&&c(t,n),n}function b(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Gs.test(e))}function w(e,t){return t?!!(t.source.indexOf("\\w")>-1&&b(e))||t.test(e):b(e)}function k(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function C(e){return e.charCodeAt(0)>=768&&Ys.test(e)}function S(e,t,n){for(;(n<0?t>0:t<e.length)&&C(e.charAt(t));)t+=n;return t}function D(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function E(e,t,n){var o=this;this.input=n,o.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=r("div",null,"CodeMirror-cursors"),o.measure=r("div",null,"CodeMirror-measure"),o.lineMeasure=r("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var s=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=r("div",[s],null,"position: relative"),o.sizer=r("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=r("div",null,null,"position: absolute; height: "+qs+"px; width: 1px;"),o.gutters=r("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=r("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=r("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),bs&&ws<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),ks||gs&&Ms||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function A(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function T(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function _(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function F(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function M(e){if(null==e.parent)return null;for(var t=e.parent,n=f(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function L(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s],u=a.height;if(t<u)break;t-=u}return n+s}function P(e,t){return t>=e.first&&t<e.first+e.size}function N(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function B(e,t,n){return void 0===n&&(n=null),this instanceof B?(this.line=e,this.ch=t,void(this.sticky=n)):new B(e,t,n)}function O(e,t){return e.line-t.line||e.ch-t.ch}function I(e,t){return e.sticky==t.sticky&&0==O(e,t)}function z(e){return B(e.line,e.ch)}function j(e,t){return O(e,t)<0?t:e}function R(e,t){return O(e,t)<0?e:t}function H(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function W(e,t){if(t.line<e.first)return B(e.first,0);var n=e.first+e.size-1;return t.line>n?B(n,A(e,n).text.length):U(t,A(e,t.line).text.length)}function U(e,t){var n=e.ch;return null==n||n>t?B(e.line,t):n<0?B(e.line,0):e}function q(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=W(e,t[r]);return n}function $(){Zs=!0}function X(){Qs=!0}function J(e,t,n){this.marker=e,this.from=t,this.to=n}function V(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function K(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function G(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Y(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new J(s,o.from,u?null:o.to))}}return r}function Z(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new J(s,u?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Q(e,t){if(t.full)return null;var n=P(e,t.from.line)&&A(e,t.from.line).markedSpans,r=P(e,t.to.line)&&A(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==O(t.from,t.to),a=Y(n,i,s),u=Z(r,o,s),l=1==t.text.length,c=m(t.text).length+(l?i:0);if(a)for(var h=0;h<a.length;++h){var f=a[h];if(null==f.to){var d=V(u,f.marker);d?l&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(u)for(var p=0;p<u.length;++p){var g=u[p];if(null!=g.to&&(g.to+=c),null==g.from){var v=V(a,g.marker);v||(g.from=c,l&&(a||(a=[])).push(g))}else g.from+=c,l&&(a||(a=[])).push(g)}a&&(a=ee(a)),u&&u!=a&&(u=ee(u));var y=[a];if(!l){var x,b=t.text.length-2;if(b>0&&a)for(var w=0;w<a.length;++w)null==a[w].to&&(x||(x=[])).push(new J(a[w].marker,null,null));for(var k=0;k<b;++k)y.push(x);y.push(u)}return y}function ee(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function te(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&f(r,n)!=-1||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),u=0;u<i.length;++u){var l=i[u];if(!(O(l.to,a.from)<0||O(l.from,a.to)>0)){var c=[u,1],h=O(l.from,a.from),d=O(l.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&c.push({from:l.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&c.push({from:a.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}function ne(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function re(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function se(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=O(r.from,i.from)||ie(e)-ie(t);if(o)return-o;var s=O(r.to,i.to)||oe(e)-oe(t);return s?s:t.id-e.id}function ae(e,t){var n,r=Qs&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||se(n,i.marker)<0)&&(n=i.marker);return n}function ue(e){return ae(e,!0)}function le(e){return ae(e,!1)}function ce(e,t,n,r,i){var o=A(e,t),s=Qs&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var u=s[a];if(u.marker.collapsed){var l=u.marker.find(0),c=O(l.from,n)||ie(u.marker)-ie(i),h=O(l.to,r)||oe(u.marker)-oe(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?O(l.to,n)>=0:O(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?O(l.from,r)<=0:O(l.from,r)<0)))return!0}}}function he(e){for(var t;t=ue(e);)e=t.find(-1,!0).line;return e}function fe(e){for(var t;t=le(e);)e=t.find(1,!0).line;return e}function de(e){for(var t,n;t=le(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function pe(e,t){var n=A(e,t),r=he(n);return n==r?t:M(r)}function me(e,t){if(t>e.lastLine())return t;var n,r=A(e,t);if(!ge(e,r))return t;for(;n=le(r);)r=n.find(1,!0).line;return M(r)+1}function ge(e,t){var n=Qs&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ve(e,t,r))return!0}}function ve(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ve(e,r.line,V(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ve(e,t,i))return!0}function ye(e){e=he(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function xe(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=ue(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=le(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function be(e){var t=e.display,n=e.doc;t.maxLine=A(n,n.first),t.maxLineLength=xe(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=xe(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function we(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function ke(e,t,n){var r;ea=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ea=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ea=i)}return null!=r?r:ea}function Ce(e,t){var n=e.order;return null==n&&(n=e.order=ta(e.text,t)),n}function Se(e,t){return e._handlers&&e._handlers[t]||na}function De(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=f(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Ee(e,t){var n=Se(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Ae(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ee(e,n||t.type,e,t),Pe(t)||t.codemirrorIgnore}function Te(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)f(n,t[r])==-1&&n.push(t[r])}function _e(e,t){return Se(e,t).length>0}function Fe(e){e.prototype.on=function(e,t){ra(this,e,t)},e.prototype.off=function(e,t){De(this,e,t)}}function Me(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Le(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Pe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ne(e){Me(e),Le(e)}function Be(e){return e.target||e.srcElement}function Oe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ls&&e.ctrlKey&&1==t&&(t=3),t}function Ie(e){if(null==Ws){var t=r("span","\u200b");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ws=t.offsetWidth<=1&&t.offsetHeight>2&&!(bs&&ws<8))}var i=Ws?r("span","\u200b"):r("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function ze(e){if(null!=Us)return Us;var r=n(e,document.createTextNode("A\u062eA")),i=Os(r,0,1).getBoundingClientRect(),o=Os(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Us=o.right-i.right<3)}function je(e){if(null!=ua)return ua;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Os(t,0,1).getBoundingClientRect();return ua=Math.abs(i.left-o.left)>1}function Re(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),la[e]=t}function He(e,t){ca[e]=t}function We(e){if("string"==typeof e&&ca.hasOwnProperty(e))e=ca[e];else if(e&&"string"==typeof e.name&&ca.hasOwnProperty(e.name)){var t=ca[e.name];"string"==typeof t&&(t={name:t}),e=x(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return We("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return We("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=We(t);var n=la[t.name];if(!n)return Ue(e,"text/plain");var r=n(e,t);if(ha.hasOwnProperty(t.name)){var i=ha[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}function qe(e,t){var n=ha.hasOwnProperty(e)?ha[e]:ha[e]={};c(t,n)}function $e(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Xe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),n&&n.mode!=e);)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Je(e,t,n){return!e.startState||e.startState(t,n)}function Ve(e,t,n,r){var i=[e.state.modeGen],o={};nt(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=e.state.overlays[r],u=1,l=0;n.state=!0,nt(e,t.text,a.mode,n,function(e,t){for(var n=u;l<e;){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,l=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,u-n,e,"overlay "+t),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},u=0;u<e.state.overlays.length;++u)a(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Ke(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Ge(e,M(t)),i=t.text.length>e.options.maxHighlightLength&&$e(e.doc.mode,r.state),o=Ve(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ge(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new pa(r,!0,t);var o=rt(e,t,n),s=o>r.first&&A(r,o-1).stateAfter,a=s?pa.fromSaved(r,s,o):new pa(r,Je(r.mode),o);return r.iter(o,t,function(n){Ye(e,n.text,a);var r=a.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()}),n&&(r.modeFrontier=a.line),a}function Ye(e,t,n,r){var i=e.doc.mode,o=new fa(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Ze(i,n.state);!o.eol();)Qe(i,o,n.state),o.start=o.pos}function Ze(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Xe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Qe(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Xe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,n,r){var i,o=e.doc,s=o.mode;t=W(o,t);var a,u=A(o,t.line),l=Ge(e,t.line,n),c=new fa(u.text,e.options.tabSize,l);for(r&&(a=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Qe(s,c,l.state),r&&a.push(new ma(c,i,$e(o.mode,l.state)));return r?a:new ma(c,i,l.state)}function tt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function nt(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var u,l=0,c=null,h=new fa(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(""==t&&tt(Ze(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&Ye(e,t,r,h.pos),h.pos=t.length,u=null):u=tt(Qe(n,h,r.state,f),o),f){var d=f[0].name;d&&(u="m-"+(u?d+" "+u:d))}if(!a||c!=u){for(;l<h.start;)l=Math.min(h.start,l+5e3),i(l,c);c=u}h.start=h.pos}for(;l<h.pos;){var p=Math.min(h.pos,l+5e3);i(p,c),l=p}}function rt(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var u=A(o,a-1),l=u.stateAfter;if(l&&(!n||a+(l instanceof da?l.lookAhead:0)<=o.modeFrontier))return a;var c=h(u.text,null,e.options.tabSize);(null==i||r>c)&&(i=a-1,r=c)}return i}function it(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=A(e,r).stateAfter;if(i&&(!(i instanceof da)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function ot(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ne(e),re(e,n);var i=r?r(e):1;i!=e.height&&F(e,i)}function st(e){e.parent=null,ne(e)}function at(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?xa:ya;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ut(e,t){var n=i("span",null,null,ks?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(bs||ks)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var s=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=ct,ze(e.display.measure)&&(a=Ce(s,e.doc.direction))&&(r.addToken=ft(r.addToken,a)),r.map=[];var l=t!=e.display.externalMeasured&&M(s);pt(s,r,Ke(e,s,l)),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=u(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=u(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ie(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(ks){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ee(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=u(r.pre.className,r.textClass||"")),r}function lt(e){var t=r("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,n,i,o,s,a){if(t){var u,l=e.splitSpaces?ht(t,e.trailingSpace):t,c=e.cm.state.specialChars,h=!1;if(c.test(t)){u=document.createDocumentFragment();for(var f=0;;){c.lastIndex=f;var d=c.exec(t),m=d?d.index-f:t.length-f;if(m){var g=document.createTextNode(l.slice(f,f+m));bs&&ws<9?u.appendChild(r("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!d)break;f+=m+1;var v=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,x=y-e.col%y;v=u.appendChild(r("span",p(x),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=x}else"\r"==d[0]||"\n"==d[0]?(v=u.appendChild(r("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar")),v.setAttribute("cm-text",d[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(d[0]),v.setAttribute("cm-text",d[0]),bs&&ws<9?u.appendChild(r("span",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,u),bs&&ws<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||i||o||h||a){var b=n||"";i&&(b+=i),o&&(b+=o);var w=r("span",[u],b,a);return s&&(w.title=s),e.content.appendChild(w)}e.content.appendChild(u)}}function ht(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function ft(e,t){return function(n,r,i,o,s,a,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var h=void 0,f=0;f<t.length&&(h=t[f],!(h.to>l&&h.from<=l));f++);if(h.to>=c)return e(n,r,i,o,s,a,u);e(n,r.slice(0,h.to-l),i,o,null,a,u),o=null,r=r.slice(h.to-l),l=h.to}}}function dt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function pt(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,u,l,c,h,f,d=i.length,p=0,m=1,g="",v=0;;){if(v==p){u=l=c=h=a="",f=null,v=1/0;for(var y=[],x=void 0,b=0;b<r.length;++b){var w=r[b],k=w.marker;"bookmark"==k.type&&w.from==p&&k.widgetNode?y.push(k):w.from<=p&&(null==w.to||w.to>p||k.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,l=""),k.className&&(u+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&w.from==p&&(c+=" "+k.startStyle),k.endStyle&&w.to==v&&(x||(x=[])).push(k.endStyle,w.to),k.title&&!h&&(h=k.title),k.collapsed&&(!f||se(f.marker,k)<0)&&(f=w)):w.from>p&&v>w.from&&(v=w.from)}if(x)for(var C=0;C<x.length;C+=2)x[C+1]==v&&(l+=" "+x[C]);if(!f||f.from==p)for(var S=0;S<y.length;++S)dt(t,0,y[S]);if(f&&(f.from||0)==p){if(dt(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var D=Math.min(d,v);;){if(g){var E=p+g.length;if(!f){var A=E>D?g.slice(0,D-p):g;t.addToken(t,A,s?s+u:u,c,p+A.length==v?l:"",h,a)}if(E>=D){g=g.slice(D-p),p=D;break}p=E,c=""}g=i.slice(o,o=n[m++]),s=at(n[m++],t.cm.options)}}else for(var T=1;T<n.length;T+=2)t.addToken(t,i.slice(o,o=n[T]),at(n[T+1],t.cm.options))}function mt(e,t,n){this.line=t,this.rest=de(t),this.size=this.rest?M(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ge(e,t)}function gt(e,t,n){for(var r,i=[],o=t;o<n;o=r){var s=new mt(e.doc,A(e.doc,o),o);r=o+s.size,i.push(s)}return i}function vt(e){ba?ba.ops.push(e):e.ownsGroup=ba={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function xt(e,t){var n=e.ownsGroup;if(n)try{yt(n)}finally{ba=null,t(n)}}function bt(e,t){var n=Se(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);ba?r=ba.delayedCallbacks:wa?r=wa:(r=wa=[],setTimeout(wt,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},s=0;s<n.length;++s)o(s)}}function wt(){var e=wa;wa=null;for(var t=0;t<e.length;++t)e[t]()}function kt(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Et(e,t):"gutter"==o?Tt(e,t,n,r):"class"==o?At(e,t):"widget"==o&&_t(e,t,r)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bs&&ws<8&&(e.node.style.zIndex=2)),e.node}function St(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Ct(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function Dt(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ut(e,t)}function Et(e,t){var n=t.text.className,r=Dt(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,At(e,t)):n&&(t.text.className=n)}function At(e,t){St(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Tt(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var a=Ct(t),u=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(u),a.insertBefore(u,t.text),t.line.gutterClass&&(u.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=u.appendChild(r("div",N(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],h=s.hasOwnProperty(c)&&s[c];h&&u.appendChild(r("div",[h],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function _t(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Mt(e,t,n)}function Ft(e,t,n,r){var i=Dt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),At(e,t),Tt(e,t,n,r),Mt(e,t,r),t.node}function Mt(e,t,n){if(Lt(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Lt(e,t.rest[r],t,n,!1)}function Lt(e,t,n,i,o){if(t.widgets)for(var s=Ct(n),a=0,u=t.widgets;a<u.length;++a){var l=u[a],c=r("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Pt(l,c,n,i),e.display.input.setUneditable(c),o&&l.above?s.insertBefore(c,n.gutter||n.text):s.appendChild(c),bt(l,"redraw")}}function Pt(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Nt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Bt(e,t){for(var n=Be(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Ot(e){return e.lineSpace.offsetTop}function It(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function zt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function jt(e){return qs-e.display.nativeBarWidth}function Rt(e){return e.display.scroller.clientWidth-jt(e)-e.display.barWidth}function Ht(e){return e.display.scroller.clientHeight-jt(e)-e.display.barHeight}function Wt(e,t,n){var r=e.options.lineWrapping,i=r&&Rt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var u=s[a],l=s[a+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Ut(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(M(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function qt(e,t){t=he(t);var r=M(t),i=e.display.externalMeasured=new mt(e.doc,t,r);i.lineN=r;var o=i.built=ut(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function $t(e,t,n,r){return Vt(e,Jt(e,t),n,r)}function Xt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[En(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Jt(e,t){var n=M(t),r=Xt(e,n);r&&!r.text?r=null:r&&r.changes&&(kt(e,r,n,wn(e)),e.curOp.forceUpdate=!0),r||(r=qt(e,t));var i=Ut(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Vt(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Wt(e,t.view,t.rect),t.hasHeights=!0),o=Yt(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Kt(e,t,n){for(var r,i,o,s,a,u,l=0;l<e.length;l+=3)if(a=e[l],u=e[l+1],t<a?(i=0,o=1,s="left"):t<u?(i=t-a,o=i+1):(l==e.length-3||t==u&&e[l+3]>t)&&(o=u-a,i=o-1,t>=u&&(s="right")),null!=i){if(r=e[l+2],a==u&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)r=e[(l-=3)+2],s="left";if("right"==n&&i==u-a)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)r=e[(l+=3)+2],
s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:u}}function Gt(e,t){var n=ka;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Yt(e,t,n,r){var i,o=Kt(t.map,n,r),s=o.node,a=o.start,u=o.end,l=o.collapse;if(3==s.nodeType){for(var c=0;c<4;c++){for(;a&&C(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+u<o.coverEnd&&C(t.line.text.charAt(o.coverStart+u));)++u;if(i=bs&&ws<9&&0==a&&u==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():Gt(Os(s,a,u).getClientRects(),r),i.left||i.right||0==a)break;u=a,a-=1,l="right"}bs&&ws<11&&(i=Zt(e.display.measure,i))}else{a>0&&(l=r="right");var h;i=e.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==r?h.length-1:0]:s.getBoundingClientRect()}if(bs&&ws<9&&!a&&(!i||!i.left&&!i.right)){var f=s.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+bn(e.display),top:f.top,bottom:f.bottom}:ka}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,m=(d+p)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,x=g[v],b={left:("right"==l?i.right:i.left)-t.rect.left,right:("left"==l?i.left:i.right)-t.rect.left,top:y,bottom:x};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!je(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Qt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return Ss&&Fs?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return Ss&&Fs?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Nt(e.widgets[n]));return t}function sn(e,t,n,r,i){if(!i){var o=on(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=ye(t);if("local"==r?s+=Ot(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:rn());var u=a.left+("window"==r?0:nn());n.left+=u,n.right+=u}return n.top+=s,n.bottom+=s,n}function an(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=nn(),i-=rn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function un(e,t,n,r,i){return r||(r=A(e.doc,t.line)),sn(e,r,$t(e,r,t.ch,i),n)}function ln(e,t,n,r,i,o){function s(t,s){var a=Vt(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,sn(e,r,a,n)}function a(e,t,n){var r=u[t],i=1==r.level;return s(n?e-1:e,i!=n)}r=r||A(e.doc,t.line),i||(i=Jt(e,r));var u=Ce(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!u)return s("before"==c?l-1:l,"before"==c);var h=ke(u,l,c),f=ea,d=a(l,h,"before"==c);return null!=f&&(d.other=a(l,f,"before"!=c)),d}function cn(e,t){var n=0;t=W(e.doc,t),e.options.lineWrapping||(n=bn(e.display)*t.ch);var r=A(e.doc,t.line),i=ye(r)+Ot(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function hn(e,t,n,r,i){var o=B(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function fn(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return hn(r.first,0,null,!0,-1);var i=L(r,n),o=r.first+r.size-1;if(i>o)return hn(r.first+r.size-1,A(r,o).text.length,null,!0,1);t<0&&(t=0);for(var s=A(r,i);;){var a=gn(e,s,i,t,n),u=le(s),l=u&&u.find(0,!0);if(!u||!(a.ch>l.from.ch||a.ch==l.from.ch&&a.xRel>0))return a;i=M(s=l.to.line)}}function dn(e,t,n,r){r-=on(t);var i=t.text.length,o=D(function(t){return Vt(e,n,t-1).bottom<=r},i,0);return i=D(function(t){return Vt(e,n,t).top>r},o,i),{begin:o,end:i}}function pn(e,t,n,r){n||(n=Jt(e,t));var i=sn(e,t,Vt(e,n,r),"line").top;return dn(e,t,n,i)}function mn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function gn(e,t,n,r,i){i-=ye(t);var o=Jt(e,t),s=on(t),a=0,u=t.text.length,l=!0,c=Ce(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?yn:vn)(e,t,n,o,c,r,i);l=1!=h.level,a=l?h.from:h.to-1,u=l?h.to:h.from-1}var f,d,p=null,m=null,g=D(function(t){var n=Vt(e,o,t);return n.top+=s,n.bottom+=s,!!mn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)},a,u),v=!1;if(m){var y=r-m.left<m.right-r,x=y==l;g=p+(x?0:1),d=x?"after":"before",f=y?m.left:m.right}else{l||g!=u&&g!=a||g++,d=0==g?"after":g==t.text.length?"before":Vt(e,o,g-(l?1:0)).bottom+s<=i==l?"after":"before";var b=ln(e,B(n,g,d),"line",t,o);f=b.left,v=i<b.top||i>=b.bottom}return g=S(t.text,g,1),hn(n,g,d,v,r-f)}function vn(e,t,n,r,i,o,s){var a=D(function(a){var u=i[a],l=1!=u.level;return mn(ln(e,B(n,l?u.to:u.from,l?"before":"after"),"line",t,r),o,s,!0)},0,i.length-1),u=i[a];if(a>0){var l=1!=u.level,c=ln(e,B(n,l?u.from:u.to,l?"after":"before"),"line",t,r);mn(c,o,s,!0)&&c.top>s&&(u=i[a-1])}return u}function yn(e,t,n,r,i,o,s){var a=dn(e,t,r,s),u=a.begin,l=a.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,h=null,f=0;f<i.length;f++){var d=i[f];if(!(d.from>=l||d.to<=u)){var p=1!=d.level,m=Vt(e,r,p?Math.min(l,d.to)-1:Math.max(u,d.from)).right,g=m<o?o-m+1e9:m-o;(!c||h>g)&&(c=d,h=g)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}function xn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==va){va=r("pre");for(var i=0;i<49;++i)va.appendChild(document.createTextNode("x")),va.appendChild(r("br"));va.appendChild(document.createTextNode("x"))}n(e.measure,va);var o=va.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function bn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t]);n(e.measure,i);var o=t.getBoundingClientRect(),s=(o.right-o.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function wn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[s]]=o.clientWidth;return{fixedPos:kn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function kn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cn(e){var t=xn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/bn(e.display)-3);return function(i){if(ge(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Sn(e){var t=e.doc,n=Cn(e);t.iter(function(e){var t=n(e);t!=e.height&&F(e,t)})}function Dn(e,t,n,r){var i=e.display;if(!n&&"true"==Be(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(e){return null}var u,l=fn(e,o,s);if(r&&1==l.xRel&&(u=A(e.doc,l.line).text).length==l.ch){var c=h(u,u.length,e.options.tabSize)-u.length;l=B(l.line,Math.max(0,Math.round((o-zt(e.display).left)/bn(e.display))-c))}return l}function En(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function An(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Tn(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var u=a.empty();(u||e.options.showCursorWhenSelecting)&&_n(e,a.head,i),u||Mn(e,a,o)}}return r}function _n(e,t,n){var i=ln(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div","\xa0","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var s=n.appendChild(r("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=i.other.left+"px",s.style.top=i.other.top+"px",s.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Fn(e,t){return e.top-t.top||e.left-t.left}function Mn(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),u.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?h-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return un(e,B(t,n),"div",d,r)}function s(t,n,r){var i=pn(e,d,null,t),s="ltr"==n==("after"==r)?"left":"right",a="after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1);return o(a,s)[s]}var u,l,d=A(a,t),p=d.text.length,m=Ce(d,a.direction);return we(m,n||0,null==r?p:r,function(e,t,a,d){var g="ltr"==a,v=o(e,g?"left":"right"),y=o(t-1,g?"right":"left"),x=null==n&&0==e,b=null==r&&t==p,w=0==d,k=!m||d==m.length-1;if(y.top-v.top<=3){var C=(f?x:b)&&w,S=(f?b:x)&&k,D=C?c:(g?v:y).left,E=S?h:(g?y:v).right;i(D,v.top,E-D,v.bottom)}else{var A,T,_,F;g?(A=f&&x&&w?c:v.left,T=f?h:s(e,a,"before"),_=f?c:s(t,a,"after"),F=f&&b&&k?h:y.right):(A=f?s(e,a,"before"):c,T=!f&&x&&w?h:v.right,_=!f&&b&&k?c:y.left,F=f?s(t,a,"after"):h),i(A,v.top,T-A,v.bottom),v.bottom<y.top&&i(c,v.bottom,null,y.top),i(_,y.top,F-_,y.bottom)}(!u||Fn(v,u)<0)&&(u=v),Fn(y,u)<0&&(u=y),(!l||Fn(v,l)<0)&&(l=v),Fn(y,l)<0&&(l=y)}),{start:u,end:l}}var s=e.display,a=e.doc,u=document.createDocumentFragment(),l=zt(e.display),c=l.left,h=Math.max(s.sizerWidth,Rt(e)-s.sizer.offsetLeft)-l.right,f="ltr"==a.direction,d=t.from(),p=t.to();if(d.line==p.line)o(d.line,d.ch,p.ch);else{var m=A(a,d.line),g=A(a,p.line),v=he(m)==he(g),y=o(d.line,d.ch,v?m.text.length+1:null).end,x=o(p.line,v?0:null,p.ch).start;v&&(y.top<x.top-2?(i(y.right,y.top,null,y.bottom),i(c,x.top,x.left,x.bottom)):i(y.right,y.top,x.left-y.right,y.bottom)),y.bottom<x.top&&i(c,y.bottom,null,x.top)}n.appendChild(u)}function Ln(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Pn(e){e.state.focused||(e.display.input.focus(),Bn(e))}function Nn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,On(e))},100)}function Bn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ee(e,"focus",e,t),e.state.focused=!0,a(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ks&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ln(e))}function On(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Ee(e,"blur",e,t),e.state.focused=!1,js(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function In(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(bs&&ws<8){var s=i.node.offsetTop+i.node.offsetHeight;o=s-n,n=s}else{var a=i.node.getBoundingClientRect();o=a.bottom-a.top}var u=i.line.height-o;if(o<2&&(o=xn(t)),(u>.005||u<-.005)&&(F(i.line,o),zn(i.line),i.rest))for(var l=0;l<i.rest.length;l++)zn(i.rest[l])}}}function zn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function jn(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Ot(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=L(t,r),s=L(t,i);if(n&&n.ensure){var a=n.ensure.from.line,u=n.ensure.to.line;a<o?(o=a,s=L(t,ye(A(t,a))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=s&&(o=L(t,ye(A(t,u))-e.wrapper.clientHeight),s=u)}return{from:o,to:Math.max(s,o+1)}}function Rn(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=kn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var u=0;u<a.length;u++)a[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Hn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=N(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=o.firstChild.offsetWidth,a=o.offsetWidth-s;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(s,i.lineGutter.offsetWidth-a)+1,i.lineNumWidth=i.lineNumInnerWidth+a,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Lr(e),!0}return!1}function Wn(e,t){if(!Ae(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Ts){var s=r("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Ot(e.display))+"px;\n                         height: "+(t.bottom-t.top+jt(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(o),e.display.lineSpace.removeChild(s)}}}function Un(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(t=t.ch?B(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?B(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=ln(e,t),u=n&&n!=t?ln(e,n):a;i={left:Math.min(a.left,u.left),top:Math.min(a.top,u.top)-r,right:Math.max(a.left,u.left),bottom:Math.max(a.bottom,u.bottom)+r};var l=$n(e,i),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=l.scrollTop&&(Zn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=l.scrollLeft&&(er(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return i}function qn(e,t){var n=$n(e,t);null!=n.scrollTop&&Zn(e,n.scrollTop),null!=n.scrollLeft&&er(e,n.scrollLeft)}function $n(e,t){var n=e.display,r=xn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Ht(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+It(n),u=t.top<r,l=t.bottom>a-r;if(t.top<i)s.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?a:t.bottom)-o);c!=i&&(s.scrollTop=c)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,f=Rt(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>f;return d&&(t.right=t.left+f),t.left<10?s.scrollLeft=0:t.left<h?s.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>f+h-3&&(s.scrollLeft=t.right+(d?0:10)-f),s}function Xn(e,t){null!=t&&(Gn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Jn(e){Gn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Vn(e,t,n){null==t&&null==n||Gn(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Kn(e,t){Gn(e),e.curOp.scrollToPos=t}function Gn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=cn(e,t.from),r=cn(e,t.to);Yn(e,n,r,t.margin)}}function Yn(e,t,n,r){var i=$n(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Vn(e,i.scrollLeft,i.scrollTop)}function Zn(e,t){Math.abs(e.doc.scrollTop-t)<2||(gs||Fr(e,{top:t}),Qn(e,t,!0),gs&&Fr(e),Cr(e,100))}function Qn(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function er(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Rn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function tr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+It(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+jt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function nr(e,t){t||(t=tr(e));var n=e.display.barWidth,r=e.display.barHeight;rr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&In(e),rr(e,tr(e)),n=e.display.barWidth,r=e.display.barHeight}function rr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function ir(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&js(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Da[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ra(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?er(e,t):Zn(e,t)},e),e.display.scrollbars.addClass&&a(e.display.wrapper,e.display.scrollbars.addClass)}function or(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ea},vt(e.curOp)}function sr(e){var t=e.curOp;xt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ar(e)})}function ar(e){for(var t=e.ops,n=0;n<t.length;n++)ur(t[n]);for(var r=0;r<t.length;r++)lr(t[r]);for(var i=0;i<t.length;i++)cr(t[i]);for(var o=0;o<t.length;o++)hr(t[o]);for(var s=0;s<t.length;s++)fr(t[s])}function ur(e){var t=e.cm,n=t.display;Dr(t),e.updateMaxLine&&be(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Aa(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function lr(e){e.updatedDisplay=e.mustUpdate&&Tr(e.cm,e.update)}function cr(e){var t=e.cm,n=t.display;e.updatedDisplay&&In(t),e.barMeasure=tr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=$t(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+jt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Rt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function hr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&er(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==s();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&nr(t,e.barMeasure),e.updatedDisplay&&Pr(t,e.barMeasure),e.selectionChanged&&Ln(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Pn(e.cm)}function fr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&_r(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Qn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&er(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=Un(t,W(r,e.scrollToPos.from),W(r,e.scrollToPos.to),e.scrollToPos.margin);Wn(t,i)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ee(o[a],"hide");if(s)for(var u=0;u<s.length;++u)s[u].lines.length&&Ee(s[u],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ee(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function dr(e,t){if(e.curOp)return t();or(e);try{return t()}finally{sr(e)}}function pr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);or(e);try{return t.apply(e,arguments)}finally{sr(e)}}}function mr(e){return function(){if(this.curOp)return e.apply(this,arguments);or(this);try{return e.apply(this,arguments)}finally{sr(this)}}}function gr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);or(t);try{return e.apply(this,arguments)}finally{sr(t)}}}function vr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Qs&&pe(e.doc,t)<i.viewTo&&xr(e);else if(n<=i.viewFrom)Qs&&me(e.doc,n+r)>i.viewFrom?xr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)xr(e);else if(t<=i.viewFrom){var o=br(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):xr(e)}else if(n>=i.viewTo){var s=br(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):xr(e)}else{var a=br(e,t,t,-1),u=br(e,n,n+r,1);a&&u?(i.view=i.view.slice(0,a.index).concat(gt(e,a.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):xr(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function yr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[En(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);f(s,n)==-1&&s.push(n)}}}function xr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function br(e,t,n,r){var i,o=En(e,t),s=e.display.view;if(!Qs||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,u=0;u<o;u++)a+=s[u].size;if(a!=t){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-t,o++}else i=a-t;t+=i,n+=i}for(;pe(e.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function wr(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=gt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=gt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(En(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(gt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,En(e,n)))),r.viewTo=n}function kr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Cr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,l(Sr,e))}function Sr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Ge(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?$e(t.mode,r.state):null,u=Ve(e,o,r,!0);a&&(r.state=a),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),f=0;!h&&f<s.length;++f)h=s[f]!=o.styles[f];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Ye(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Cr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&dr(e,function(){for(var t=0;t<i.length;t++)yr(e,i[t],"text")})}}function Dr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=jt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=jt(e)+"px",t.scrollbarsClipped=!0)}function Er(e){if(e.hasFocus())return null;var t=s();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&o(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Ar(e){if(e&&e.activeElt&&e.activeElt!=s()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Tr(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return xr(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==kr(e))return!1;Hn(e)&&(xr(e),n.dims=wn(e));var o=i.first+i.size,s=Math.max(n.visible.from-e.options.viewportMargin,i.first),a=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<s&&s-r.viewFrom<20&&(s=Math.max(i.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(o,r.viewTo)),Qs&&(s=pe(e.doc,s),a=me(e.doc,a));var u=s!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;wr(e,s,a),r.viewOffset=ye(A(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=kr(e);if(!u&&0==l&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Er(e);return l>4&&(r.lineDiv.style.display="none"),Mr(e,r.updateLineNumbers,n.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Ar(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,u&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,Cr(e,400)),r.updateLineNumbers=null,!0}function _r(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Rt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+It(e.display)-Ht(e),n.top)}),t.visible=jn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Tr(e,t);r=!1){In(e);var i=tr(e);An(e),nr(e,i),Pr(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Fr(e,t){var n=new Aa(e,t);if(Tr(e,n)){In(e),_r(e,n);var r=tr(e);An(e),nr(e,r),Pr(e,r),n.finish()}}function Mr(e,n,r){function i(t){var n=t.nextSibling;return ks&&Ls&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,s=e.options.lineNumbers,a=o.lineDiv,u=a.firstChild,l=o.view,c=o.viewFrom,h=0;h<l.length;h++){var d=l[h];if(d.hidden);else if(d.node&&d.node.parentNode==a){for(;u!=d.node;)u=i(u);var p=s&&null!=n&&n<=c&&d.lineNumber;d.changes&&(f(d.changes,"gutter")>-1&&(p=!1),kt(e,d,c,r)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(N(e.options,c)))),u=d.node.nextSibling}else{var m=Ft(e,d,c,r);a.insertBefore(m,u)}c+=d.size}for(;u;)u=i(u)}function Lr(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Pr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+jt(e)+"px"}function Nr(e){var n=e.display.gutters,i=e.options.gutters;t(n);for(var o=0;o<i.length;++o){var s=i[o],a=n.appendChild(r("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Lr(e)}function Br(e){var t=f(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Or(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Ir(e){var t=Or(e);return t.x*=_a,t.y*=_a,t}function zr(e,t){var n=Or(t),r=n.x,i=n.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(r&&a||i&&u){if(i&&Ls&&ks)e:for(var l=t.target,c=o.view;l!=s;l=l.parentNode)for(var h=0;h<c.length;h++)if(c[h].node==l){e.display.currentWheelTarget=l;break e}if(r&&!gs&&!Ds&&null!=_a)return i&&u&&Zn(e,Math.max(0,s.scrollTop+i*_a)),er(e,Math.max(0,s.scrollLeft+r*_a)),(!i||i&&u)&&Me(t),void(o.wheelStartX=null);if(i&&null!=_a){var f=i*_a,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;f<0?d=Math.max(0,d+f-50):p=Math.min(e.doc.height,p+f+50),Fr(e,{top:d,bottom:p})}Ta<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(_a=(_a*Ta+n)/(Ta+1),++Ta)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function jr(e,t){var n=e[t];e.sort(function(e,t){return O(e.from(),t.from())}),t=f(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(O(o.to(),i.from())>=0){var s=R(o.from(),i.from()),a=j(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new Ma(u?a:s,u?s:a))}}return new Fa(e,t)}function Rr(e,t){return new Fa([new Ma(e,t||e)],0)}function Hr(e){return e.text?B(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Wr(e,t){if(O(e,t.from)<0)return e;if(O(e,t.to)<=0)return Hr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Hr(t).ch-t.to.ch),B(n,r)}function Ur(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Ma(Wr(i.anchor,t),Wr(i.head,t)))}return jr(n,e.sel.primIndex)}function qr(e,t,n){return e.line==t.line?B(n.line,e.ch-t.ch+n.ch):B(n.line+(e.line-t.line),e.ch)}function $r(e,t,n){for(var r=[],i=B(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],u=qr(a.from,i,o),l=qr(Hr(a),i,o);if(i=a.to,o=l,"around"==n){var c=e.sel.ranges[s],h=O(c.head,c.anchor)<0;r[s]=new Ma(h?l:u,h?u:l)}else r[s]=new Ma(u,u)}return new Fa(r,e.sel.primIndex)}function Xr(e){e.doc.mode=Ue(e.options,e.doc.modeOption),Jr(e)}function Jr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Cr(e,100),e.state.modeGen++,e.curOp&&vr(e)}function Vr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Kr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){ot(e,n,i,r),bt(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new ga(l[o],i(o),r));return n}var a=t.from,u=t.to,l=t.text,c=A(e,a.line),h=A(e,u.line),f=m(l),d=i(l.length-1),p=u.line-a.line;
if(t.full)e.insert(0,s(0,l.length)),e.remove(l.length,e.size-l.length);else if(Vr(e,t)){var g=s(0,l.length-1);o(h,h.text,d),p&&e.remove(a.line,p),g.length&&e.insert(a.line,g)}else if(c==h)if(1==l.length)o(c,c.text.slice(0,a.ch)+f+c.text.slice(u.ch),d);else{var v=s(1,l.length-1);v.push(new ga(f+c.text.slice(u.ch),d,r)),o(c,c.text.slice(0,a.ch)+l[0],i(0)),e.insert(a.line+1,v)}else if(1==l.length)o(c,c.text.slice(0,a.ch)+l[0]+h.text.slice(u.ch),i(0)),e.remove(a.line+1,p);else{o(c,c.text.slice(0,a.ch)+l[0],i(0)),o(h,f+h.text.slice(u.ch),d);var y=s(1,l.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,y)}bt(e,"change",e,t)}function Gr(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var u=o&&a.sharedHist;n&&!u||(t(a.doc,u),r(a.doc,e,u))}}}r(e,null,!0)}function Yr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sn(e),Xr(e),Zr(e),e.options.lineWrapping||be(e),e.options.mode=t.modeOption,vr(e)}function Zr(e){("rtl"==e.doc.direction?a:js)(e.display.lineDiv,"CodeMirror-rtl")}function Qr(e){dr(e,function(){Zr(e),vr(e)})}function ei(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ti(e,t){var n={from:z(t.from),to:Hr(t),text:T(e,t.from,t.to)};return ui(e,n,t.from.line,t.to.line+1),Gr(e,function(e){return ui(e,n,t.from.line,t.to.line+1)},!0),n}function ni(e){for(;e.length;){var t=m(e);if(!t.ranges)break;e.pop()}}function ri(e,t){return t?(ni(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function ii(e,t,n,r){var i=e.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ri(i,i.lastOp==r)))s=m(o.changes),0==O(t.from,t.to)&&0==O(t.from,s.to)?s.to=Hr(t):o.changes.push(ti(e,t));else{var u=m(i.done);for(u&&u.ranges||ai(e.sel,i.done),o={changes:[ti(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||Ee(e,"historyAdded")}function oi(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function si(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||oi(e,o,m(i.done),t))?i.done[i.done.length-1]=t:ai(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&ni(i.undone)}function ai(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ui(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function li(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ci(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(li(n[i]));return r}function hi(e,t){var n=ci(e,t),r=Q(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var u=s[a],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else s&&(n[i]=s)}return n}function fi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Fa.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var u=0;u<s.length;++u){var l=s[u],c=void 0;if(a.push({from:l.from,to:l.to,text:l.text}),t)for(var h in l)(c=h.match(/^spans_(\d+)$/))&&f(t,Number(c[1]))>-1&&(m(a)[h]=l[h],delete l[h])}}}return r}function di(e,t,n,r){if(r){var i=e.anchor;if(n){var o=O(t,i)<0;o!=O(n,i)<0?(i=t,t=n):o!=O(t,n)<0&&(t=n)}return new Ma(i,t)}return new Ma(n||t,t)}function pi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),bi(e,new Fa([di(e.sel.primary(),t,n,i)],0),r)}function mi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=di(e.sel.ranges[o],t[o],null,i);var s=jr(r,e.sel.primIndex);bi(e,s,n)}function gi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,bi(e,jr(i,e.sel.primIndex),r)}function vi(e,t,n,r){bi(e,Rr(t,n),r)}function yi(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new Ma(W(e,t[r].anchor),W(e,t[r].head))},origin:n&&n.origin};return Ee(e,"beforeSelectionChange",e,r),e.cm&&Ee(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?jr(r.ranges,r.ranges.length-1):t}function xi(e,t,n){var r=e.history.done,i=m(r);i&&i.ranges?(r[r.length-1]=t,wi(e,t,n)):bi(e,t,n)}function bi(e,t,n){wi(e,t,n),si(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function wi(e,t,n){(_e(e,"beforeSelectionChange")||e.cm&&_e(e.cm,"beforeSelectionChange"))&&(t=yi(e,t,n));var r=n&&n.bias||(O(t.primary().head,e.sel.primary().head)<0?-1:1);ki(e,Si(e,t,r,!0)),n&&n.scroll===!1||!e.cm||Jn(e.cm)}function ki(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Te(e.cm)),bt(e,"cursorActivity",e))}function Ci(e){ki(e,Si(e,e.sel,null,!1))}function Si(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=Ei(e,s.anchor,a&&a.anchor,n,r),l=Ei(e,s.head,a&&a.head,n,r);(i||u!=s.anchor||l!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Ma(u,l))}return i?jr(i,t.primIndex):t}function Di(e,t,n,r,i){var o=A(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],u=a.marker;if((null==a.from||(u.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(i&&(Ee(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!u.atomic)continue;if(n){var l=u.find(r<0?1:-1),c=void 0;if((r<0?u.inclusiveRight:u.inclusiveLeft)&&(l=Ai(e,l,-r,l&&l.line==t.line?o:null)),l&&l.line==t.line&&(c=O(l,n))&&(r<0?c<0:c>0))return Di(e,l,t,r,i)}var h=u.find(r<0?-1:1);return(r<0?u.inclusiveLeft:u.inclusiveRight)&&(h=Ai(e,h,r,h.line==t.line?o:null)),h?Di(e,h,t,r,i):null}}return t}function Ei(e,t,n,r,i){var o=r||1,s=Di(e,t,n,o,i)||!i&&Di(e,t,n,o,!0)||Di(e,t,n,-o,i)||!i&&Di(e,t,n,-o,!0);return s?s:(e.cantEdit=!0,B(e.first,0))}function Ai(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?W(e,B(t.line-1)):null:n>0&&t.ch==(r||A(e,t.line)).text.length?t.line<e.first+e.size-1?B(t.line+1,0):null:new B(t.line,t.ch+n)}function Ti(e){e.setSelection(B(e.firstLine(),0),B(e.lastLine()),Xs)}function _i(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=W(e,t)),n&&(r.to=W(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),Ee(e,"beforeChange",e,r),e.cm&&Ee(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Fi(e,t,n){if(e.cm){if(!e.cm.curOp)return pr(e.cm,Fi)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"))||(t=_i(e,t,!0))){var r=Zs&&!n&&te(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Mi(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Mi(e,t)}}function Mi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=O(t.from,t.to)){var n=Ur(e,t);ii(e,t,n,e.cm?e.cm.curOp.id:NaN),Ni(e,t,n,Q(e,t));var r=[];Gr(e,function(e,n){n||f(r,e.history)!=-1||(ji(e.history,t),r.push(e.history)),Ni(e,t,null,Q(e,t))})}}function Li(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,s="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,u=0;u<s.length&&(r=s[u],n?!r.ranges||r.equals(e.sel):r.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;r=s.pop(),r.ranges;){if(ai(r,a),n&&!r.equals(e.sel))return void bi(e,r,{clearRedo:!1});o=r}var l=[];ai(o,a),a.push({changes:l,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"),h=function(n){var i=r.changes[n];if(i.origin=t,c&&!_i(e,i,!1))return s.length=0,{};l.push(ti(e,i));var o=n?Ur(e,i):m(s);Ni(e,i,o,hi(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Hr(i)});var a=[];Gr(e,function(e,t){t||f(a,e.history)!=-1||(ji(e.history,i),a.push(e.history)),Ni(e,i,null,hi(e,i))})},d=r.changes.length-1;d>=0;--d){var p=h(d);if(p)return p.v}}}}function Pi(e,t){if(0!=t&&(e.first+=t,e.sel=new Fa(g(e.sel.ranges,function(e){return new Ma(B(e.anchor.line+t,e.anchor.ch),B(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){vr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)yr(e.cm,r,"gutter")}}function Ni(e,t,n,r){if(e.cm&&!e.cm.curOp)return pr(e.cm,Ni)(e,t,n,r);if(t.to.line<e.first)return void Pi(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Pi(e,i),t={from:B(e.first,0),to:B(t.to.line+i,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:B(o,A(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=T(e,t.from,t.to),n||(n=Ur(e,t)),e.cm?Bi(e.cm,t,r):Kr(e,t,r),wi(e,n,Xs)}}function Bi(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,a=!1,u=o.line;e.options.lineWrapping||(u=M(he(A(r,o.line))),r.iter(u,s.line+1,function(e){if(e==i.maxLine)return a=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Te(e),Kr(r,t,n,Cn(e)),e.options.lineWrapping||(r.iter(u,o.line+t.text.length,function(e){var t=xe(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),it(r,o.line),Cr(e,400);var l=t.text.length-(s.line-o.line)-1;t.full?vr(e):o.line!=s.line||1!=t.text.length||Vr(e.doc,t)?vr(e,o.line,s.line+1,l):yr(e,o.line,"text");var c=_e(e,"changes"),h=_e(e,"change");if(h||c){var f={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&bt(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Oi(e,t,n,r,i){if(r||(r=n),O(r,n)<0){var o;o=[r,n],n=o[0],r=o[1],o}"string"==typeof t&&(t=e.splitLines(t)),Fi(e,{from:n,to:r,text:t,origin:i})}function Ii(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function zi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Ii(o.ranges[a].anchor,t,n,r),Ii(o.ranges[a].head,t,n,r)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(n<l.from.line)l.from=B(l.from.line+r,l.from.ch),l.to=B(l.to.line+r,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function ji(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;zi(e.done,n,r,i),zi(e.undone,n,r,i)}function Ri(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=A(e,H(e,t)):i=M(t),null==i?null:(r(o,i)&&e.cm&&yr(e.cm,i,n),o)}function Hi(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function Wi(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null}function Ui(e,t,n){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Xn(e,n)}function qi(e,t,n,r){var i=new La(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ri(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ge(e,t)){var r=ye(t)<e.scrollTop;F(t,t.height+Nt(i)),r&&Xn(o,i.height),o.curOp.forceUpdate=!0}return!0}),bt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:M(t)),i}function $i(e,t,n,r,o){if(r&&r.shared)return Xi(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return pr(e.cm,$i)(e,t,n,r,o);var s=new Na(e,o),a=O(t,n);if(r&&c(r,s,!1),a>0||0==a&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=i("span",[s.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(ce(e,t.line,t,n,s)||t.line!=n.line&&ce(e,n.line,t,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");X()}s.addToHistory&&ii(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var u,l=t.line,h=e.cm;if(e.iter(l,n.line+1,function(e){h&&s.collapsed&&!h.options.lineWrapping&&he(e)==h.display.maxLine&&(u=!0),s.collapsed&&l!=t.line&&F(e,0),G(e,new J(s,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),s.collapsed&&e.iter(t.line,n.line+1,function(t){ge(e,t)&&F(t,0)}),s.clearOnEnter&&ra(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&($(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++Pa,s.atomic=!0),h){if(u&&(h.curOp.updateMaxLine=!0),s.collapsed)vr(h,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var f=t.line;f<=n.line;f++)yr(h,f,"text");s.atomic&&Ci(h.doc),bt(h,"markerAdded",h,s)}return s}function Xi(e,t,n,r,i){r=c(r),r.shared=!1;var o=[$i(e,t,n,r,i)],s=o[0],a=r.widgetNode;return Gr(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push($i(e,W(e,t),W(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;s=m(o)}),new Ba(o,s)}function Ji(e){return e.findMarks(B(e.first,0),e.clipPos(B(e.lastLine())),function(e){return e.parent})}function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(O(o,s)){var a=$i(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function Ki(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Gr(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];f(r,o.doc)==-1&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}function Gi(e){var t=this;if(Qi(t),!Ae(t,e)&&!Bt(t.display,e)){Me(e),bs&&(za=+new Date);var n=Dn(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,a=function(e,r){if(!t.options.allowDropFileTypes||f(t.options.allowDropFileTypes,e.type)!=-1){var a=new FileReader;a.onload=pr(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){n=W(t.doc,n);var u={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Fi(t.doc,u),xi(t.doc,Rr(n,Hr(u)))}}),a.readAsText(e)}},u=0;u<i;++u)a(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var l=e.dataTransfer.getData("Text");if(l){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),wi(t.doc,Rr(n,n)),c)for(var h=0;h<c.length;++h)Oi(t.doc,"",c[h].anchor,c[h].head,"drag");t.replaceSelection(l,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Yi(e,t){if(bs&&(!e.state.draggingText||+new Date-za<100))return void Ne(t);if(!Ae(e,t)&&!Bt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Es)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ds&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ds&&n.parentNode.removeChild(n)}}function Zi(e,t){var i=Dn(e,t);if(i){var o=document.createDocumentFragment();_n(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Qi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function eo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function to(){ja||(no(),ja=!0)}function no(){var e;ra(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,eo(ro)},100))}),ra(window,"blur",function(){return eo(On)})}function ro(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function io(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,s=0;s<t.length-1;s++){var a=t[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function oo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=g(n.split(" "),io),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var u=t[a];if(u){if(u!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var l in t)e[l]=t[l];return e}function so(e,t,n,r){t=co(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return so(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=so(e,t.fallthrough[o],n,r);if(s)return s}}}function ao(e){var t="string"==typeof e?e:Ra[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function uo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(Is?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(Is?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function lo(e,t){if(Ds&&34==e.keyCode&&e["char"])return!1;var n=Ra[e.keyCode];return null!=n&&!e.altGraphKey&&uo(n,e,t)}function co(e){return"string"==typeof e?qa[e]:e}function ho(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&O(o.from,m(r).to)<=0;){var s=r.pop();if(O(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}dr(e,function(){for(var t=r.length-1;t>=0;t--)Oi(e.doc,"",r[t].from,r[t].to,"+delete");Jn(e)})}function fo(e,t,n){var r=S(e.text,t+n,n);return r<0||r>e.text.length?null:r}function po(e,t,n){var r=fo(e,t.ch,n);return null==r?null:new B(t.line,r,n<0?"after":"before")}function mo(e,t,n,r,i){if(e){var o=Ce(n,t.doc.direction);if(o){var s,a=i<0?m(o):o[0],u=i<0==(1==a.level),l=u?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=Jt(t,n);s=i<0?n.text.length-1:0;var h=Vt(t,c,s).top;s=D(function(e){return Vt(t,c,e).top==h},i<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=fo(n,s,1))}else s=i<0?a.to:a.from;return new B(r,s,l)}}return new B(r,i<0?n.text.length:0,i<0?"before":"after")}function go(e,t,n,r){var i=Ce(t,e.doc.direction);if(!i)return po(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ke(i,n.ch,n.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return po(t,n,r);var a,u=function(e,n){return fo(t,e instanceof B?e.ch:e,n)},l=function(n){return e.options.lineWrapping?(a=a||Jt(e,t),pn(e,t,a,n)):{begin:0,end:t.text.length}},c=l("before"==n.sticky?u(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var h=1==s.level==r<0,f=u(n,h?1:-1);if(null!=f&&(h?f<=s.to&&f<=c.end:f>=s.from&&f>=c.begin)){var d=h?"before":"after";return new B(n.line,f,d)}}var p=function(e,t,r){for(var o=function(e,t){return t?new B(n.line,u(e,1),"before"):new B(n.line,e,"after")};e>=0&&e<i.length;e+=t){var s=i[e],a=t>0==(1!=s.level),l=a?r.begin:u(r.end,-1);if(s.from<=l&&l<s.to)return o(l,a);if(l=a?s.from:u(s.to,-1),r.begin<=l&&l<r.end)return o(l,a)}},m=p(o+r,r,c);if(m)return m;var g=r>0?c.end:u(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=p(r>0?0:i.length-1,r,l(g)))?null:m}function vo(e,t){var n=A(e.doc,t),r=he(n);return r!=n&&(t=M(r)),mo(!0,e,r,t,1)}function yo(e,t){var n=A(e.doc,t),r=fe(n);return r!=n&&(t=M(r)),mo(!0,e,n,t,-1)}function xo(e,t){var n=vo(e,t.line),r=A(e.doc,n.line),i=Ce(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return B(n.line,s?0:o,n.sticky)}return n}function bo(e,t,n){if("string"==typeof t&&(t=$a[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=$s}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function wo(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=so(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&so(t,e.options.extraKeys,n,e)||so(t,e.options.keyMap,n,e)}function ko(e,t,n,r){var i=e.state.keySeq;if(i){if(ao(t))return"handled";Xa.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=wo(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&bt(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Me(n),Ln(e)),i&&!o&&/\'$/.test(t)?(Me(n),!0):!!o}function Co(e,t){var n=lo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ko(e,"Shift-"+n,t,function(t){return bo(e,t,!0)})||ko(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return bo(e,t)}):ko(e,n,t,function(t){return bo(e,t)}))}function So(e,t,n){return ko(e,"'"+n+"'",t,function(t){return bo(e,t,!0)})}function Do(e){var t=this;if(t.curOp.focus=s(),!Ae(t,e)){bs&&ws<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Co(t,e);Ds&&(Ja=r?n:null,!r&&88==n&&!aa&&(Ls?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Eo(t)}}function Eo(e){function t(e){18!=e.keyCode&&e.altKey||(js(n,"CodeMirror-crosshair"),De(document,"keyup",t),De(document,"mouseover",t))}var n=e.display.lineDiv;a(n,"CodeMirror-crosshair"),ra(document,"keyup",t),ra(document,"mouseover",t)}function Ao(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ae(this,e)}function To(e){var t=this;if(!(Bt(t.display,e)||Ae(t,e)||e.ctrlKey&&!e.altKey||Ls&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ds&&n==Ja)return Ja=null,void Me(e);if(!Ds||e.which&&!(e.which<10)||!Co(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(So(t,e,i)||t.display.input.onKeyPress(e))}}}function _o(e,t){var n=+new Date;return Ya&&Ya.compare(n,e,t)?(Ga=Ya=null,"triple"):Ga&&Ga.compare(n,e,t)?(Ya=new Ka(n,e,t),Ga=null,"double"):(Ga=new Ka(n,e,t),Ya=null,"single")}function Fo(e){var t=this,n=t.display;if(!(Ae(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Bt(n,e))return void(ks||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!jo(t,e)){var r=Dn(t,e),i=Oe(e),o=r?_o(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&Mo(t,i,r,o,e)||(1==i?r?Po(t,r,o,e):Be(e)==n.scroller&&Me(e):2==i?(r&&pi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(zs?Ro(t,e):Nn(t)))}}}function Mo(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,ko(e,uo(o,i),i,function(t){if("string"==typeof t&&(t=$a[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=$s}finally{e.state.suppressEdits=!1}return r})}function Lo(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Ps?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=Ls?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Ls?n.altKey:n.ctrlKey)),i}function Po(e,t,n,r){bs?setTimeout(l(Pn,e),0):e.curOp.focus=s();var i,o=Lo(e,n,r),a=e.doc.sel;e.options.dragDrop&&ia&&!e.isReadOnly()&&"single"==n&&(i=a.contains(t))>-1&&(O((i=a.ranges[i]).from(),t)<0||t.xRel>0)&&(O(i.to(),t)>0||t.xRel<0)?No(e,r,t,o):Oo(e,r,t,o)}function No(e,t,n,r){var i=e.display,o=!1,s=pr(e,function(t){ks&&(i.scroller.draggable=!1),e.state.draggingText=!1,De(document,"mouseup",s),De(document,"mousemove",a),De(i.scroller,"dragstart",u),De(i.scroller,"drop",s),o||(Me(t),r.addNew||pi(e.doc,n,null,null,r.extend),ks||bs&&9==ws?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),a=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return o=!0};ks&&(i.scroller.draggable=!0),e.state.draggingText=s,s.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ra(document,"mouseup",s),ra(document,"mousemove",a),ra(i.scroller,"dragstart",u),ra(i.scroller,"drop",s),Nn(e),setTimeout(function(){return i.input.focus()},20)}function Bo(e,t,n){if("char"==n)return new Ma(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Ma(B(t.line,0),W(e.doc,B(t.line+1,0)));var r=n(e,t);return new Ma(r.from,r.to)}function Oo(e,t,n,r){function i(t){if(0!=O(v,t))if(v=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,s=h(A(l,n.line).text,n.ch,o),a=h(A(l,t.line).text,t.ch,o),u=Math.min(s,a),m=Math.max(s,a),g=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=y;g++){var x=A(l,g).text,b=d(x,u,o);u==m?i.push(new Ma(B(g,b),B(g,b))):x.length>b&&i.push(new Ma(B(g,b),B(g,d(x,m,o))))}i.length||i.push(new Ma(n,n)),bi(l,jr(p.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w,k=c,C=Bo(e,t,r.unit),S=k.anchor;O(C.anchor,S)>0?(w=C.head,S=R(k.from(),C.anchor)):(w=C.anchor,S=j(k.to(),C.head));var D=p.ranges.slice(0);D[f]=Io(e,new Ma(W(l,S),w)),bi(l,jr(D,f),Js)}}function o(t){var n=++x,a=Dn(e,t,!0,"rectangle"==r.unit);if(a)if(0!=O(a,v)){e.curOp.focus=s(),i(a);var c=jn(u,l);(a.line>=c.to||a.line<c.from)&&setTimeout(pr(e,function(){x==n&&o(t)}),150)}else{var h=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;h&&setTimeout(pr(e,function(){x==n&&(u.scroller.scrollTop+=h,o(t))}),50)}}function a(t){e.state.selectingText=!1,x=1/0,Me(t),u.input.focus(),De(document,"mousemove",b),De(document,"mouseup",w),l.history.lastSelOrigin=null}var u=e.display,l=e.doc;Me(t);var c,f,p=l.sel,m=p.ranges;if(r.addNew&&!r.extend?(f=l.sel.contains(n),c=f>-1?m[f]:new Ma(n,n)):(c=l.sel.primary(),f=l.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Ma(n,n)),n=Dn(e,t,!0,!0),f=-1;else{var g=Bo(e,n,r.unit);c=r.extend?di(c,g.anchor,g.head,r.extend):g}r.addNew?f==-1?(f=m.length,bi(l,jr(m.concat([c]),f),{scroll:!1,origin:"*mouse"})):m.length>1&&m[f].empty()&&"char"==r.unit&&!r.extend?(bi(l,jr(m.slice(0,f).concat(m.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),p=l.sel):gi(l,f,c,Js):(f=0,bi(l,new Fa([c],0),Js),p=l.sel);var v=n,y=u.wrapper.getBoundingClientRect(),x=0,b=pr(e,function(e){Oe(e)?o(e):a(e)}),w=pr(e,a);e.state.selectingText=w,ra(document,"mousemove",b),ra(document,"mouseup",w)}function Io(e,t){var n=t.anchor,r=t.head,i=A(e.doc,n.line);if(0==O(n,r)&&n.sticky==r.sticky)return t;var o=Ce(i);if(!o)return t;var s=ke(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var u=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==u||u==o.length)return t;var l;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ke(o,r.ch,r.sticky),h=c-s||(r.ch-n.ch)*(1==a.level?-1:1);l=c==u-1||c==u?h<0:h>0}var f=o[u+(l?-1:0)],d=l==(1==f.level),p=d?f.from:f.to,m=d?"after":"before";return n.ch==p&&n.sticky==m?t:new Ma(new B(n.line,p,m),r)}function zo(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Me(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!_e(e,n))return Pe(t);o-=a.top-s.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=s.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i){var c=L(e.doc,o),h=e.options.gutters[u];return Ee(e,n,e,c,h,t),Pe(t)}}}function jo(e,t){return zo(e,t,"gutterClick",!0)}function Ro(e,t){Bt(e.display,t)||Ho(e,t)||Ae(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Ho(e,t){return!!_e(e,"gutterContextMenu")&&zo(e,t,"gutterContextMenu",!1)}function Wo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Uo(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=Za&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=Za,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Xr(e)},!0),t("indentUnit",2,Xr,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Jr(e),tn(e),vr(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,n.push(B(r,o))}r++});for(var i=n.length-1;i>=0;i--)Oi(e.doc,t,n[i],B(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Za&&e.refresh()}),t("specialCharPlaceholder",lt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Ms?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Ns),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Wo(e),qo(e)},!0),t("keyMap","default",function(e,t,n){var r=co(t),i=n!=Za&&co(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Xo,!0),t("gutters",[],function(e){Br(e.options),qo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?kn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return nr(e)},!0),t("scrollbarStyle","native",function(e){ir(e),nr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Br(e.options),qo(e)},!0),t("firstLineNumber",1,qo,!0),t("lineNumberFormatter",function(e){return e},qo,!0),t("showCursorWhenSelecting",!1,An,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(On(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,$o),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,An,!0),t("singleCursorHeightPerLine",!0,An,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Jr,!0),t("addModeClass",!1,Jr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Jr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}function qo(e){Nr(e),vr(e),Rn(e)}function $o(e,t,n){var r=n&&n!=Za;if(!t!=!r){var i=e.display.dragFunctions,o=t?ra:De;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Xo(e){e.options.lineWrapping?(a(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(js(e.display.wrapper,"CodeMirror-wrap"),be(e)),Sn(e),vr(e),tn(e),setTimeout(function(){return nr(e)},100)}function Jo(e,t){var n=this;if(!(this instanceof Jo))return new Jo(e,t);this.options=t=t?c(t):{},c(Qa,t,!1),Br(t);var r=t.value;"string"==typeof r&&(r=new Ia(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new Jo.inputStyles[t.inputStyle](this),o=this.display=new E(e,r,i);o.wrapper.CodeMirror=this,Nr(this),Wo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ir(this),
this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Hs,keySeq:null,specialChars:null},t.autofocus&&!Ms&&o.input.focus(),bs&&ws<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Vo(this),to(),or(this),this.curOp.forceUpdate=!0,Yr(this,r),t.autofocus&&!Ms||this.hasFocus()?setTimeout(l(Bn,this),20):On(this);for(var s in eu)eu.hasOwnProperty(s)&&eu[s](n,t[s],Za);Hn(this),t.finishInit&&t.finishInit(this);for(var a=0;a<tu.length;++a)tu[a](n);sr(this),ks&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Vo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),s=i.activeTouch,s.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;ra(i.scroller,"mousedown",pr(e,Fo)),bs&&ws<11?ra(i.scroller,"dblclick",pr(e,function(t){if(!Ae(e,t)){var n=Dn(e,t);if(n&&!jo(e,t)&&!Bt(e.display,t)){Me(t);var r=e.findWordAt(n);pi(e.doc,r.anchor,r.head)}}})):ra(i.scroller,"dblclick",function(t){return Ae(e,t)||Me(t)}),zs||ra(i.scroller,"contextmenu",function(t){return Ro(e,t)});var o,s={end:0};ra(i.scroller,"touchstart",function(t){if(!Ae(e,t)&&!n(t)&&!jo(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-s.end<=300?s:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),ra(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ra(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Bt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(i.activeTouch,"page");s=!o.prev||r(o,o.prev)?new Ma(a,a):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(a):new Ma(B(a.line,0),W(e.doc,B(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Me(n)}t()}),ra(i.scroller,"touchcancel",t),ra(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Zn(e,i.scroller.scrollTop),er(e,i.scroller.scrollLeft,!0),Ee(e,"scroll",e))}),ra(i.scroller,"mousewheel",function(t){return zr(e,t)}),ra(i.scroller,"DOMMouseScroll",function(t){return zr(e,t)}),ra(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ae(e,t)||Ne(t)},over:function(t){Ae(e,t)||(Zi(e,t),Ne(t))},start:function(t){return Yi(e,t)},drop:pr(e,Gi),leave:function(t){Ae(e,t)||Qi(e)}};var a=i.input.getField();ra(a,"keyup",function(t){return Ao.call(e,t)}),ra(a,"keydown",pr(e,Do)),ra(a,"keypress",pr(e,To)),ra(a,"focus",function(t){return Bn(e,t)}),ra(a,"blur",function(t){return On(e,t)})}function Ko(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Ge(e,t).state:n="prev");var s=e.options.tabSize,a=A(o,t),u=h(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var l,c=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&(l=o.mode.indent(i,a.text.slice(c.length),a.text),l==$s||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>o.first?h(A(o,t-1).text,null,s):0:"add"==n?l=u+e.options.indentUnit:"subtract"==n?l=u-e.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var f="",d=0;if(e.options.indentWithTabs)for(var m=Math.floor(l/s);m;--m)d+=s,f+="\t";if(d<l&&(f+=p(l-d)),f!=c)return Oi(o,f,B(t,0),B(t,c.length),"+input"),a.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var v=o.sel.ranges[g];if(v.head.line==t&&v.head.ch<c.length){var y=B(t,c.length);gi(o,g,new Ma(y,y));break}}}function Go(e){nu=e}function Yo(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=e.state.pasteIncoming||"paste"==i,a=oa(t),u=null;if(s&&r.ranges.length>1)if(nu&&nu.text.join("\n")==t){if(r.ranges.length%nu.text.length==0){u=[];for(var l=0;l<nu.text.length;l++)u.push(o.splitLines(nu.text[l]))}}else a.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=g(a,function(e){return[e]}));for(var c,h=r.ranges.length-1;h>=0;h--){var f=r.ranges[h],d=f.from(),p=f.to();f.empty()&&(n&&n>0?d=B(d.line,d.ch-n):e.state.overwrite&&!s?p=B(p.line,Math.min(A(o,p.line).text.length,p.ch+m(a).length)):nu&&nu.lineWise&&nu.text.join("\n")==t&&(d=p=B(d.line,0))),c=e.curOp.updateInput;var v={from:d,to:p,text:u?u[h%u.length]:a,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};Fi(e.doc,v),bt(e,"inputRead",e,v)}t&&!s&&Qo(e,t),Jn(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Zo(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||dr(t,function(){return Yo(t,n,0,null,"paste")}),!0}function Qo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Ko(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(A(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Ko(e,i.head.line,"smart"));s&&bt(e,"electricInput",e,i.head.line)}}}function es(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:B(i,0),head:B(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ts(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function ns(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ks?e.style.width="1000px":e.setAttribute("wrap","off"),_s&&(e.style.border="1px solid black"),ts(e),t}function rs(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&pr(this,t[e])(this,n,i),Ee(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](co(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:mr(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,vr(this)}),removeOverlay:mr(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,void vr(t)}}),indentLine:mr(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),P(this.doc,e)&&Ko(this,e,t,n)}),indentSelection:mr(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Ko(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&Jn(t));else{var s=o.from(),a=o.to(),u=Math.max(r,s.line);r=Math.min(t.lastLine(),a.line-(a.ch?0:1))+1;for(var l=u;l<r;++l)Ko(t,l,e);var c=t.doc.sel.ranges;0==s.ch&&n.length==c.length&&c[i].from().ch>0&&gi(t.doc,i,new Ma(s,c[i].to()),Xs)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,B(e),t,!0)},getTokenTypeAt:function(e){e=W(this.doc,e);var t,n=Ke(this,A(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],s=this.getModeAt(e);if("string"==typeof s[t])o[s[t]]&&i.push(o[s[t]]);else if(s[t])for(var a=0;a<s[t].length;a++){var u=o[s[t][a]];u&&i.push(u)}else s.helperType&&o[s.helperType]?i.push(o[s.helperType]):o[s.name]&&i.push(o[s.name]);for(var l=0;l<o._global.length;l++){var c=o._global[l];c.pred(s,r)&&f(i,c.val)==-1&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=H(n,null==e?n.first+n.size-1:e),Ge(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?W(this.doc,e):e?r.from():r.to(),ln(this,n,t||"page")},charCoords:function(e,t){return un(this,W(this.doc,e),t||"page")},coordsChar:function(e,t){return e=an(this,e,t||"page"),fn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=an(this,{top:e,left:0},t||"page").top,L(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=A(this.doc,e)}else r=e;return sn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-ye(r):0)},defaultTextHeight:function(){return xn(this.display)},defaultCharWidth:function(){return bn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=ln(this,W(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(s=e.bottom),a+t.offsetWidth>l&&(a=l-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&qn(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:mr(Do),triggerOnKeyPress:mr(To),triggerOnKeyUp:Ao,triggerOnMouseDown:mr(Fo),execCommand:function(e){if($a.hasOwnProperty(e))return $a[e].call(null,this)},triggerElectric:mr(function(e){Qo(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;t<0&&(o=-1,t=-t);for(var s=W(this.doc,e),a=0;a<t&&(s=is(i.doc,s,o,n,r),!s.hitSide);++a);return s},moveH:mr(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?is(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Vs)}),deleteH:mr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ho(this,function(n){var i=is(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,s=r;t<0&&(o=-1,t=-t);for(var a=W(this.doc,e),u=0;u<t;++u){var l=ln(i,a,"div");if(null==s?s=l.left:l.left=s,a=os(i,l,o,n),a.hitSide)break}return a},moveV:mr(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=ln(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var u=os(n,a,e,t);return"page"==t&&s==r.sel.primary()&&Xn(n,un(n,u,"div").top-a.top),u},Vs),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(e){var t=this.doc,n=A(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var s=n.charAt(r),a=w(s,o)?function(e){return w(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!w(e)};r>0&&a(n.charAt(r-1));)--r;for(;i<n.length&&a(n.charAt(i));)++i}return new Ma(B(e.line,r),B(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):js(this.display.cursorDiv,"CodeMirror-overwrite"),Ee(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==s()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:mr(function(e,t){Vn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-jt(this)-this.display.barHeight,width:e.scrollWidth-jt(this)-this.display.barWidth,clientHeight:Ht(this),clientWidth:Rt(this)}},scrollIntoView:mr(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:B(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Kn(this,e):Yn(this,e.from,e.to,e.margin)}),setSize:mr(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&en(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){yr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Ee(this,"refresh",this)}),operation:function(e){return dr(this,e)},startOperation:function(){return or(this)},endOperation:function(){return sr(this)},refresh:mr(function(){var e=this.display.cachedTextHeight;vr(this),this.curOp.forceUpdate=!0,tn(this),Vn(this,this.doc.scrollLeft,this.doc.scrollTop),Lr(this),(null==e||Math.abs(e-xn(this.display))>.5)&&Sn(this),Ee(this,"refresh",this)}),swapDoc:mr(function(e){var t=this.doc;return t.cm=null,Yr(this,e),tn(this),this.display.input.reset(),Vn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,bt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Fe(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function is(e,t,n,r,i){function o(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new B(r,t.ch,t.sticky),l=A(e,r))}function s(r){var s;if(s=i?go(e.cm,l,t,n):po(l,t,n),null==s){if(r||!o())return!1;t=mo(i,e.cm,l,t.line,n)}else t=s;return!0}var a=t,u=n,l=A(e,t.line);if("char"==r)s();else if("column"==r)s(!0);else if("word"==r||"group"==r)for(var c=null,h="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||s(!d);d=!1){var p=l.text.charAt(t.ch)||"\n",m=w(p,f)?"w":h&&"\n"==p?"n":!h||/\s/.test(p)?null:"p";if(!h||d||m||(m="s"),c&&c!=m){n<0&&(n=1,s(),t.sticky="after");break}if(m&&(c=m),n>0&&!s(!d))break}var g=Ei(e,t,a,u,!0);return I(a,g)&&(g.hitSide=!0),g}function os(e,t,n,r){var i,o=e.doc,s=t.left;if("page"==r){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(a-.5*xn(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var l;l=fn(e,s,i),l.outside;){if(n<0?i<=0:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function ss(e,t){var n=Xt(e,t.line);if(!n||n.hidden)return null;var r=A(e.doc,t.line),i=Ut(n,r,t.line),o=Ce(r,e.doc.direction),s="left";if(o){var a=ke(o,t.ch);s=a%2?"right":"left"}var u=Kt(i.map,t.ch,s);return u.offset="right"==u.collapse?u.end:u.start,u}function as(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function us(e,t){return t&&(e.bad=!0),e}function ls(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function s(){c&&(l+=h,c=!1)}function a(e){e&&(s(),l+=e)}function u(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void a(n||t.textContent.replace(/\u200b/g,""));var l,f=t.getAttribute("cm-marker");if(f){var d=e.findMarks(B(r,0),B(i+1,0),o(+f));return void(d.length&&(l=d[0].find(0))&&a(T(e.doc,l.from,l.to).join(h)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&s();for(var m=0;m<t.childNodes.length;m++)u(t.childNodes[m]);p&&(c=!0)}else 3==t.nodeType&&a(t.nodeValue)}for(var l="",c=!1,h=e.doc.lineSeparator();u(t),t!=n;)t=t.nextSibling;return l}function cs(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return us(e.clipPos(B(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return hs(o,t,n)}}function hs(e,t,n){function r(t,n,r){for(var i=-1;i<(h?h.length:0);i++)for(var o=i<0?c.map:h[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var u=M(i<0?e.line:e.rest[i]),l=o[s]+r;return(r<0||a!=t)&&(l=o[s+(r?1:0)]),B(u,l)}}}var i=e.text.firstChild,s=!1;if(!t||!o(i,t))return us(B(M(e.line),0),!0);if(t==i&&(s=!0,t=i.childNodes[n],n=0,!t)){var a=e.rest?m(e.rest):e.line;return us(B(M(a),a.text.length),s)}var u=3==t.nodeType?t:null,l=t;for(u||1!=t.childNodes.length||3!=t.firstChild.nodeType||(u=t.firstChild,n&&(n=u.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var c=e.measure,h=c.maps,f=r(u,l,n);if(f)return us(f,s);for(var d=l.nextSibling,p=u?u.nodeValue.length-n:0;d;d=d.nextSibling){if(f=r(d,d.firstChild,0))return us(B(f.line,f.ch-p),s);p+=d.textContent.length}for(var g=l.previousSibling,v=n;g;g=g.previousSibling){if(f=r(g,g.firstChild,-1))return us(B(f.line,f.ch+v),s);v+=g.textContent.length}}function fs(e,t){function n(){e.value=u.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=s();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(ra(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(De(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var u=Jo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return u}function ds(e){e.off=De,e.on=ra,e.wheelEventPixels=Ir,e.Doc=Ia,e.splitLines=oa,e.countColumn=h,e.findColumn=d,e.isWordChar=b,e.Pass=$s,e.signal=Ee,e.Line=ga,e.changeEnd=Hr,e.scrollbarModel=Da,e.Pos=B,e.cmpPos=O,e.modes=la,e.mimeModes=ca,e.resolveMode=We,e.getMode=Ue,e.modeExtensions=ha,e.extendMode=qe,e.copyState=$e,e.startState=Je,e.innerMode=Xe,e.commands=$a,e.keyMap=qa,e.keyName=lo,e.isModifierKey=ao,e.lookupKey=so,e.normalizeKeyMap=oo,e.StringStream=fa,e.SharedTextMarker=Ba,e.TextMarker=Na,e.LineWidget=La,e.e_preventDefault=Me,e.e_stopPropagation=Le,e.e_stop=Ne,e.addClass=a,e.contains=o,e.rmClass=js,e.keyNames=Ra}var ps=navigator.userAgent,ms=navigator.platform,gs=/gecko\/\d/i.test(ps),vs=/MSIE \d/.test(ps),ys=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ps),xs=/Edge\/(\d+)/.exec(ps),bs=vs||ys||xs,ws=bs&&(vs?document.documentMode||6:+(xs||ys)[1]),ks=!xs&&/WebKit\//.test(ps),Cs=ks&&/Qt\/\d+\.\d+/.test(ps),Ss=!xs&&/Chrome\//.test(ps),Ds=/Opera\//.test(ps),Es=/Apple Computer/.test(navigator.vendor),As=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ps),Ts=/PhantomJS/.test(ps),_s=!xs&&/AppleWebKit/.test(ps)&&/Mobile\/\w+/.test(ps),Fs=/Android/.test(ps),Ms=_s||Fs||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ps),Ls=_s||/Mac/.test(ms),Ps=/\bCrOS\b/.test(ps),Ns=/win/i.test(ms),Bs=Ds&&ps.match(/Version\/(\d*\.\d*)/);Bs&&(Bs=Number(Bs[1])),Bs&&Bs>=15&&(Ds=!1,ks=!0);var Os,Is=Ls&&(Cs||Ds&&(null==Bs||Bs<12.11)),zs=gs||bs&&ws>=9,js=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Os=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Rs=function(e){e.select()};_s?Rs=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bs&&(Rs=function(e){try{e.select()}catch(e){}});var Hs=function(){this.id=null};Hs.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ws,Us,qs=30,$s={toString:function(){return"CodeMirror.Pass"}},Xs={scroll:!1},Js={origin:"*mouse"},Vs={origin:"+move"},Ks=[""],Gs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ys=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Zs=!1,Qs=!1,ea=null,ta=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,u=/[1n]/;return function(n,r){var l="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,h=[],f=0;f<c;++f)h.push(e(n.charCodeAt(f)));for(var d=0,p=l;d<c;++d){var g=h[d];"m"==g?h[d]=p:p=g}for(var v=0,y=l;v<c;++v){var x=h[v];"1"==x&&"r"==y?h[v]="n":s.test(x)&&(y=x,"r"==x&&(h[v]="R"))}for(var b=1,w=h[0];b<c-1;++b){var k=h[b];"+"==k&&"1"==w&&"1"==h[b+1]?h[b]="1":","!=k||w!=h[b+1]||"1"!=w&&"n"!=w||(h[b]=w),w=k}for(var C=0;C<c;++C){var S=h[C];if(","==S)h[C]="N";else if("%"==S){var D=void 0;for(D=C+1;D<c&&"%"==h[D];++D);for(var E=C&&"!"==h[C-1]||D<c&&"1"==h[D]?"1":"N",A=C;A<D;++A)h[A]=E;C=D-1}}for(var T=0,_=l;T<c;++T){var F=h[T];"L"==_&&"1"==F?h[T]="L":s.test(F)&&(_=F)}for(var M=0;M<c;++M)if(o.test(h[M])){var L=void 0;for(L=M+1;L<c&&o.test(h[L]);++L);for(var P="L"==(M?h[M-1]:l),N="L"==(L<c?h[L]:l),B=P==N?P?"L":"R":l,O=M;O<L;++O)h[O]=B;M=L-1}for(var I,z=[],j=0;j<c;)if(a.test(h[j])){var R=j;for(++j;j<c&&a.test(h[j]);++j);z.push(new t(0,R,j))}else{var H=j,W=z.length;for(++j;j<c&&"L"!=h[j];++j);for(var U=H;U<j;)if(u.test(h[U])){H<U&&z.splice(W,0,new t(1,H,U));var q=U;for(++U;U<j&&u.test(h[U]);++U);z.splice(W,0,new t(2,q,U)),H=U}else++U;H<j&&z.splice(W,0,new t(1,H,j))}return"ltr"==r&&(1==z[0].level&&(I=n.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new t(0,0,I[0].length))),1==m(z).level&&(I=n.match(/\s+$/))&&(m(z).to-=I[0].length,z.push(new t(0,c-I[0].length,c)))),"rtl"==r?z.reverse():z}}(),na=[],ra=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||na).concat(n)}},ia=function(){if(bs&&ws<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),oa=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");s!=-1?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},sa=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},aa=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ua=null,la={},ca={},ha={},fa=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};fa.prototype.eol=function(){return this.pos>=this.string.length},fa.prototype.sol=function(){return this.pos==this.lineStart},fa.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},fa.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},fa.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},fa.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},fa.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},fa.prototype.skipToEnd=function(){this.pos=this.string.length},fa.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},fa.prototype.backUp=function(e){this.pos-=e},fa.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},fa.prototype.indentation=function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},fa.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},fa.prototype.current=function(){return this.string.slice(this.start,this.pos)},fa.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},fa.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},fa.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var da=function(e,t){this.state=e,this.lookAhead=t},pa=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};pa.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},pa.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},pa.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},pa.fromSaved=function(e,t,n){return t instanceof da?new pa(e,$e(e.mode,t.state),n,t.lookAhead):new pa(e,$e(e.mode,t),n)},pa.prototype.save=function(e){var t=e!==!1?$e(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new da(t,this.maxLookAhead):t};var ma=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},ga=function(e,t,n){this.text=e,re(this,t),this.height=n?n(this):1};ga.prototype.lineNo=function(){return M(this)},Fe(ga);var va,ya={},xa={},ba=null,wa=null,ka={left:0,right:0,top:0,bottom:0},Ca=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),ra(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ra(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bs&&ws<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ca.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Ca.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ca.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ca.prototype.zeroWidthHack=function(){var e=Ls&&!As?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Hs,this.disableVert=new Hs},Ca.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},Ca.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Sa=function(){};Sa.prototype.update=function(){return{bottom:0,right:0}},Sa.prototype.setScrollLeft=function(){},Sa.prototype.setScrollTop=function(){},Sa.prototype.clear=function(){};var Da={"native":Ca,"null":Sa},Ea=0,Aa=function(e,t,n){var r=e.display;this.viewport=t,this.visible=jn(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Rt(e),this.force=n,this.dims=wn(e),this.events=[]};Aa.prototype.signal=function(e,t){_e(e,t)&&this.events.push(arguments)},Aa.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Ee.apply(null,e.events[t]);
};var Ta=0,_a=null;bs?_a=-.53:gs?_a=15:Ss?_a=-.7:Es&&(_a=-1/3);var Fa=function(e,t){this.ranges=e,this.primIndex=t};Fa.prototype.primary=function(){return this.ranges[this.primIndex]},Fa.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!I(r.anchor,i.anchor)||!I(r.head,i.head))return!1}return!0},Fa.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Ma(z(e.ranges[n].anchor),z(e.ranges[n].head));return new Fa(t,this.primIndex)},Fa.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Fa.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(O(t,i.from())>=0&&O(e,i.to())<=0)return r}return-1};var Ma=function(e,t){this.anchor=e,this.head=t};Ma.prototype.from=function(){return R(this.anchor,this.head)},Ma.prototype.to=function(){return j(this.anchor,this.head)},Ma.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Hi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height,st(o),bt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function(e,t,n){for(var r=this,i=e+t;e<i;++e)if(n(r.lines[e]))return!0}},Wi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e),a=i.height;if(i.removeInner(e,s),n.height-=a-i.height,o==s&&(n.children.splice(r--,1),i.parent=null),0==(t-=s))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Hi))){var u=[];this.collapse(u),this.children=[new Hi(u)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(e<=s){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,u=a;u<o.lines.length;){var l=new Hi(o.lines.slice(u,u+=25));o.height-=l.height,r.children.splice(++i,0,l),l.parent=r}o.lines=o.lines.slice(0,a),r.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Wi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=f(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Wi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(e<s){var a=Math.min(t,s-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=s}}};var La=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};La.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=M(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var s=Nt(this);F(r,Math.max(0,r.height-s)),t&&(dr(t,function(){Ui(t,r,-s),yr(t,i,"widget")}),bt(t,"lineWidgetCleared",t,this,i))}},La.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Nt(this)-t;i&&(F(r,r.height+i),n&&dr(n,function(){n.curOp.forceUpdate=!0,Ui(n,r,i),bt(n,"lineWidgetChanged",n,e,M(r))}))},Fe(La);var Pa=0,Na=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Pa};Na.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&or(t),_e(this,"clear")){var r=this.find();r&&bt(this,"clear",r.from,r.to)}for(var i=null,o=null,s=0;s<this.lines.length;++s){var a=e.lines[s],u=V(a.markedSpans,e);t&&!e.collapsed?yr(t,M(a),"text"):t&&(null!=u.to&&(o=M(a)),null!=u.from&&(i=M(a))),a.markedSpans=K(a.markedSpans,u),null==u.from&&e.collapsed&&!ge(e.doc,a)&&t&&F(a,xn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=he(e.lines[l]),h=xe(c);h>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=h,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&vr(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ci(t.doc)),t&&bt(t,"markerCleared",t,this,i,o),n&&sr(t),this.parent&&this.parent.clear()}},Na.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var s=n.lines[o],a=V(s.markedSpans,n);if(null!=a.from&&(r=B(t?s:M(s),a.from),e==-1))return r;if(null!=a.to&&(i=B(t?s:M(s),a.to),1==e))return i}return r&&{from:r,to:i}},Na.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&dr(r,function(){var i=t.line,o=M(t.line),s=Xt(r,o);if(s&&(Qt(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!ge(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var u=Nt(n)-a;u&&F(i,i.height+u)}bt(r,"markerChanged",r,e)})},Na.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&f(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Na.prototype.detachLine=function(e){if(this.lines.splice(f(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Fe(Na);var Ba=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Ba.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();bt(this,"clear")}},Ba.prototype.find=function(e,t){return this.primary.find(e,t)},Fe(Ba);var Oa=0,Ia=function(e,t,n,r,i){if(!(this instanceof Ia))return new Ia(e,t,n,r,i);null==n&&(n=0),Wi.call(this,[new Hi([new ga("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=B(n,0);this.sel=Rr(o),this.history=new ei(null),this.id=++Oa,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Kr(this,{from:o,to:o,text:e}),bi(this,Rr(o),Xs)};Ia.prototype=x(Wi.prototype,{constructor:Ia,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=_(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:gr(function(e){var t=B(this.first,0),n=this.first+this.size-1;Fi(this,{from:t,to:B(n,A(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Vn(this.cm,0,0),bi(this,Rr(t),Xs)}),replaceRange:function(e,t,n,r){t=W(this,t),n=n?W(this,n):t,Oi(this,e,t,n,r)},getRange:function(e,t,n){var r=T(this,W(this,e),W(this,t));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(P(this,e))return A(this,e)},getLineNumber:function(e){return M(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=A(this,e)),he(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return W(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gr(function(e,t,n){vi(this,W(this,"number"==typeof e?B(e,t||0):e),null,n)}),setSelection:gr(function(e,t,n){vi(this,W(this,e),W(this,t||e),n)}),extendSelection:gr(function(e,t,n){pi(this,W(this,e),t&&W(this,t),n)}),extendSelections:gr(function(e,t){mi(this,q(this,e),t)}),extendSelectionsBy:gr(function(e,t){var n=g(this.sel.ranges,e);mi(this,q(this,n),t)}),setSelections:gr(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Ma(W(r,e[o].anchor),W(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),bi(this,jr(i,t),n)}}),addSelection:gr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Ma(W(this,e),W(this,t||e))),bi(this,jr(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=T(n,r[i].from(),r[i].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=T(t,r[i].from(),r[i].to());e!==!1&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:gr(function(e,t,n){for(var r=this,i=[],o=this.sel,s=0;s<o.ranges.length;s++){var a=o.ranges[s];i[s]={from:a.from(),to:a.to(),text:r.splitLines(e[s]),origin:n}}for(var u=t&&"end"!=t&&$r(this,i,t),l=i.length-1;l>=0;l--)Fi(r,i[l]);u?xi(this,u):this.cm&&Jn(this.cm)}),undo:gr(function(){Li(this,"undo")}),redo:gr(function(){Li(this,"redo")}),undoSelection:gr(function(){Li(this,"undo",!0)}),redoSelection:gr(function(){Li(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ei(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fi(this.history.done),undone:fi(this.history.undone)}},setHistory:function(e){var t=this.history=new ei(this.history.maxGeneration);t.done=fi(e.done.slice(0),null,!0),t.undone=fi(e.undone.slice(0),null,!0)},setGutterMarker:gr(function(e,t,n){return Ri(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&k(r)&&(e.gutterMarkers=null),!0})}),clearGutter:gr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Ri(t,n,"gutter",function(){return n.gutterMarkers[e]=null,k(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!P(this,e))return null;if(t=e,e=A(this,e),!e)return null}else if(t=M(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:gr(function(t,n,r){return Ri(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:gr(function(t,n,r){return Ri(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var s=o.match(e(r));if(!s)return!1;var a=s.index+s[0].length;t[i]=o.slice(0,s.index)+(s.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:gr(function(e,t,n){return qi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return $i(this,W(this,e),W(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=W(this,e),$i(this,e,e,n,"bookmark")},findMarksAt:function(e){e=W(this,e);var t=[],n=A(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=W(this,e),t=W(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var u=s[a];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>e?(t=e,!0):(e-=o,void++n)}),W(this,B(n,t))},indexFromPos:function(e){e=W(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ia(_(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ia(_(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Vi(r,Ji(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Jo&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Ki(Ji(t));break}}if(e.history==this.history){var i=[e.id];Gr(e,function(e){return i.push(e.id)},!0),e.history=new ei(null),e.history.done=fi(this.history.done,i),e.history.undone=fi(this.history.undone,i)}},iterLinkedDocs:function(e){Gr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):oa(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qr(this.cm))})}),Ia.prototype.eachLine=Ia.prototype.iter;for(var za=0,ja=!1,Ra={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ha=0;Ha<10;Ha++)Ra[Ha+48]=Ra[Ha+96]=String(Ha);for(var Wa=65;Wa<=90;Wa++)Ra[Wa]=String.fromCharCode(Wa);for(var Ua=1;Ua<=12;Ua++)Ra[Ua+111]=Ra[Ua+63235]="F"+Ua;var qa={};qa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},qa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},qa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},qa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},qa["default"]=Ls?qa.macDefault:qa.pcDefault;var $a={selectAll:Ti,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Xs)},killLine:function(e){return ho(e,function(t){if(t.empty()){var n=A(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:B(t.head.line+1,0)}:{from:t.head,to:B(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ho(e,function(t){return{from:B(t.from().line,0),to:W(e.doc,B(t.to().line+1,0))}})},delLineLeft:function(e){return ho(e,function(e){return{from:B(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(B(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(B(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return vo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return xo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Vs)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Vs)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?xo(e,t.head):r},Vs)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=h(e.getLine(o.line),o.ch,r);t.push(p(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return dr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=A(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new B(i.line,i.ch-1)),i.ch>0)i=new B(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),B(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=A(e.doc,i.line-1).text;s&&(i=new B(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),B(i.line-1,s.length-1),i,"+transpose"))}n.push(new Ma(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return dr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Jn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Xa=new Hs,Ja=null,Va=400,Ka=function(e,t,n){this.time=e,this.pos=t,this.button=n};Ka.prototype.compare=function(e,t,n){return this.time+Va>e&&0==O(t,this.pos)&&n==this.button};var Ga,Ya,Za={toString:function(){return"CodeMirror.Init"}},Qa={},eu={};Jo.defaults=Qa,Jo.optionHandlers=eu;var tu=[];Jo.defineInitHook=function(e){return tu.push(e)};var nu=null,ru=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Hs,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ru.prototype.init=function(e){function t(e){if(!Ae(i,e)){if(i.somethingSelected())Go({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=es(i);Go({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Xs),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=nu.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var s=ns(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=nu.text.join("\n");var u=document.activeElement;Rs(a),setTimeout(function(){i.display.lineSpace.removeChild(s),u.focus(),u==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=e.lineDiv;ts(o,i.options.spellcheck),ra(o,"paste",function(e){Ae(i,e)||Zo(e,i)||ws<=11&&setTimeout(pr(i,function(){return n.updateFromDOM()}),20)}),ra(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),ra(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),ra(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ra(o,"touchstart",function(){return r.forceCompositionEnd()}),ra(o,"input",function(){n.composing||n.readFromDOMSoon()}),ra(o,"copy",t),ra(o,"cut",t)},ru.prototype.prepareSelection=function(){var e=Tn(this.cm,!1);return e.focus=this.cm.state.focused,e},ru.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},ru.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=cs(t,e.anchorNode,e.anchorOffset),s=cs(t,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=O(R(o,s),r)||0!=O(j(o,s),i)){var a=t.display.view,u=r.line>=t.display.viewFrom&&ss(t,r)||{node:a[0].measure.map[2],offset:0},l=i.line<t.display.viewTo&&ss(t,i);if(!l){var c=a[a.length-1].measure,h=c.maps?c.maps[c.maps.length-1]:c.map;l={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(!u||!l)return void e.removeAllRanges();var f,d=e.rangeCount&&e.getRangeAt(0);try{f=Os(u.node,u.offset,l.offset,l.node)}catch(e){}f&&(!gs&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),d&&null==e.anchorNode?e.addRange(d):gs&&this.startGracePeriod()),this.rememberSelection()}},ru.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},ru.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},ru.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},ru.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},ru.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ru.prototype.blur=function(){this.div.blur()},ru.prototype.getField=function(){return this.div},ru.prototype.supportsTouch=function(){return!0},ru.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():dr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},ru.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},ru.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(Fs&&Ss&&this.cm.options.gutters.length&&as(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=cs(t,e.anchorNode,e.anchorOffset),r=cs(t,e.focusNode,e.focusOffset);n&&r&&dr(t,function(){bi(t.doc,Rr(n,r),Xs),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},ru.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=B(r.line-1,A(e.doc,r.line-1).length)),i.ch==A(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=B(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,s,a;r.line==t.viewFrom||0==(o=En(e,r.line))?(s=M(t.view[0].line),a=t.view[0].node):(s=M(t.view[o].line),a=t.view[o-1].node.nextSibling);var u,l,c=En(e,i.line);if(c==t.view.length-1?(u=t.viewTo-1,l=t.lineDiv.lastChild):(u=M(t.view[c+1].line)-1,l=t.view[c+1].node.previousSibling),!a)return!1;for(var h=e.doc.splitLines(ls(e,a,l,s,u)),f=T(e.doc,B(s,0),B(u,A(e.doc,u).text.length));h.length>1&&f.length>1;)if(m(h)==m(f))h.pop(),f.pop(),u--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),s++}for(var d=0,p=0,g=h[0],v=f[0],y=Math.min(g.length,v.length);d<y&&g.charCodeAt(d)==v.charCodeAt(d);)++d;for(var x=m(h),b=m(f),w=Math.min(x.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<w&&x.charCodeAt(x.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==f.length&&s==r.line)for(;d&&d>r.ch&&x.charCodeAt(x.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;h[h.length-1]=x.slice(0,x.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var k=B(s,d),C=B(u,f.length?m(f).length-p:0);return h.length>1||h[0]||O(k,C)?(Oi(e.doc,h,k,C,"+input"),!0):void 0},ru.prototype.ensurePolled=function(){this.forceCompositionEnd()},ru.prototype.reset=function(){this.forceCompositionEnd()},ru.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ru.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},ru.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||dr(this.cm,function(){return vr(e.cm)})},ru.prototype.setUneditable=function(e){e.contentEditable="false"},ru.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||pr(this.cm,Yo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},ru.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},ru.prototype.onContextMenu=function(){},ru.prototype.resetPosition=function(){},ru.prototype.needsContentAttribute=!0;var iu=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Hs,this.hasSelection=!1,this.composing=null};iu.prototype.init=function(e){function t(e){if(!Ae(i,e)){if(i.somethingSelected())Go({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=es(i);Go({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Xs):(r.prevInput="",s.value=t.text.join("\n"),Rs(s))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,r=this,i=this.cm,o=this.wrapper=ns(),s=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),_s&&(s.style.width="0px"),ra(s,"input",function(){bs&&ws>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),ra(s,"paste",function(e){Ae(i,e)||Zo(e,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),ra(s,"cut",t),ra(s,"copy",t),ra(e.scroller,"paste",function(t){Bt(e,t)||Ae(i,t)||(i.state.pasteIncoming=!0,r.focus())}),ra(e.lineSpace,"selectstart",function(t){Bt(e,t)||Me(t)}),ra(s,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ra(s,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},iu.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Tn(e);if(e.options.moveInputWithCursor){var i=ln(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},iu.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},iu.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Rs(this.textarea),bs&&ws>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",bs&&ws>=9&&(this.hasSelection=null));
}},iu.prototype.getField=function(){return this.textarea},iu.prototype.supportsTouch=function(){return!1},iu.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Ms||s()!=this.textarea))try{this.textarea.focus()}catch(e){}},iu.prototype.blur=function(){this.textarea.blur()},iu.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},iu.prototype.receivedFocus=function(){this.slowPoll()},iu.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},iu.prototype.fastPoll=function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},iu.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||sa(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(bs&&ws>=9&&this.hasSelection===i||Ls&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,a=Math.min(r.length,i.length);s<a&&r.charCodeAt(s)==i.charCodeAt(s);)++s;return dr(t,function(){Yo(t,i.slice(s),r.length-s,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},iu.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},iu.prototype.onKeyPress=function(){bs&&ws>=9&&(this.hasSelection=null),this.fastPoll()},iu.prototype.onContextMenu=function(e){function t(){if(null!=s.selectionStart){var e=i.somethingSelected(),t="\u200b"+(e?s.value:"");s.value="\u21da",s.value=t,r.prevInput=e?"":"\u200b",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=h,s.style.cssText=c,bs&&ws<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=u),null!=s.selectionStart){(!bs||bs&&ws<9)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==r.prevInput?pr(i,Ti)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,s=r.textarea,a=Dn(i,e),u=o.scroller.scrollTop;if(a&&!Ds){var l=i.options.resetSelectionOnContextMenu;l&&i.doc.sel.contains(a)==-1&&pr(i,bi)(i.doc,Rr(a),Xs);var c=s.style.cssText,h=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var f=r.wrapper.getBoundingClientRect();s.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(bs?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(ks&&(d=window.scrollY),o.input.focus(),ks&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(s.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),bs&&ws>=9&&t(),zs){Ne(e);var p=function(){De(window,"mouseup",p),setTimeout(n,20)};ra(window,"mouseup",p)}else setTimeout(n,50)}},iu.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},iu.prototype.setUneditable=function(){},iu.prototype.needsContentAttribute=!1,Uo(Jo),rs(Jo);var ou="iter insert remove copy getEditor constructor".split(" ");for(var su in Ia.prototype)Ia.prototype.hasOwnProperty(su)&&f(ou,su)<0&&(Jo.prototype[su]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ia.prototype[su]));return Fe(Ia),Jo.inputStyles={textarea:iu,contenteditable:ru},Jo.defineMode=function(e){Jo.defaults.mode||"null"==e||(Jo.defaults.mode=e),Re.apply(this,arguments)},Jo.defineMIME=He,Jo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Jo.defineMIME("text/plain","null"),Jo.defineExtension=function(e,t){Jo.prototype[e]=t},Jo.defineDocExtension=function(e,t){Ia.prototype[e]=t},Jo.fromTextArea=fs,ds(Jo),Jo.version="5.31.0",Jo}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),r=[],u=0;u<n.length;u++){if(!n[u].empty())return e.Pass;var l=n[u].head,c=t.getTokenAt(l),h=e.innerMode(t.getMode(),c.state),f=h.state;if("xml"!=h.mode.name||!f.tagName)return e.Pass;var d=t.getOption("autoCloseTags"),p="html"==h.mode.configuration,m="object"==typeof d&&d.dontCloseTags||p&&s,g="object"==typeof d&&d.indentTags||p&&a,v=f.tagName;c.end>l.ch&&(v=v.slice(0,v.length-c.end+l.ch));var y=v.toLowerCase();if(!v||"string"==c.type&&(c.end!=l.ch||!/[\"\']/.test(c.string.charAt(c.string.length-1))||1==c.string.length)||"tag"==c.type&&"closeTag"==f.type||c.string.indexOf("/")==c.string.length-1||m&&i(m,y)>-1||o(t,v,l,f,!0))return e.Pass;var x=g&&i(g,y)>-1;r[u]={indent:x,text:">"+(x?"\n\n":"")+"</"+v+">",newPos:x?e.Pos(l.line+1,0):e.Pos(l.line,l.ch+1)}}for(var u=n.length-1;u>=0;u--){var b=r[u];t.replaceRange(b.text,n[u].head,n[u].anchor,"+insert");var w=t.listSelections().slice(0);w[u]={head:b.newPos,anchor:b.newPos},t.setSelections(w),b.indent&&(t.indentLine(b.newPos.line,null,!0),t.indentLine(b.newPos.line+1,null,!0))}}function n(t,n){for(var r=t.listSelections(),i=[],s=n?"/":"</",a=0;a<r.length;a++){if(!r[a].empty())return e.Pass;var u=r[a].head,l=t.getTokenAt(u),c=e.innerMode(t.getMode(),l.state),h=c.state;if(n&&("string"==l.type||"<"!=l.string.charAt(0)||l.start!=u.ch-1))return e.Pass;var f;if("xml"!=c.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==c.mode.name)f=s+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=c.mode.name)return e.Pass;f=s+"style"}else{if(!h.context||!h.context.tagName||o(t,h.context.tagName,u,h))return e.Pass;f=s+h.context.tagName}">"!=t.getLine(u.line).charAt(l.end)&&(f+=">"),i[a]=f}t.replaceSelections(i),r=t.listSelections();for(var a=0;a<r.length;a++)(a==r.length-1||r[a].head.line<r[a+1].head.line)&&t.indentLine(r[a].head.line)}function r(t){return t.getOption("disableInput")?e.Pass:n(t,!0)}function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var s=Math.min(t.lastLine()+1,r.line+500),a=e.scanForClosingTag(t,r,null,s);if(!a||a.tag!=n)return!1;for(var u=i.context,l=o?1:0;u&&u.tagName==n;u=u.prev)++l;r=a.to;for(var c=1;c<l;c++){var h=e.scanForClosingTag(t,r,null,s);if(!h||h.tag!=n)return!1;r=h.to}return!0}e.defineOption("autoCloseTags",!1,function(n,i,o){if(o!=e.Init&&o&&n.removeKeyMap("autoCloseTags"),i){var s={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(s["'/'"]=function(e){return r(e)}),("object"!=typeof i||i.whenOpening)&&(s["'>'"]=function(e){return t(e)}),n.addKeyMap(s)}});var s=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return n(e)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);return n&&n.index==t.pos?(t.pos+=n[0].length||1,"searching"):void(n?t.pos=n.index:t.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:!0})}function s(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){p(e)},onKeyDown:i})}function a(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function u(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function l(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function c(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],t[2].indexOf("i")==-1?"":"i")}catch(e){}else e=l(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function h(e,n,r){n.queryText=r,n.query=c(r),e.removeOverlay(n.overlay,i(n.query)),n.overlay=t(n.query,i(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,i(n.query)))}function f(t,n,i,o){var u=r(t);if(u.query)return d(t,n);var l=t.getSelection()||u.lastQuery;if(l instanceof RegExp&&"x^"==l.source&&(l=null),i&&t.openDialog){var c=null,f=function(n,r){e.e_stop(r),n&&(n!=u.queryText&&(h(t,u,n),u.posFrom=u.posTo=t.getCursor()),c&&(c.style.opacity=1),d(t,r.shiftKey,function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((c=r).style.opacity=.4)}))};s(t,v,l,f,function(n,i){var o=e.keyName(n),s=t.getOption("extraKeys"),a=s&&s[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==a||"findPrev"==a||"findPersistentNext"==a||"findPersistentPrev"==a?(e.e_stop(n),h(t,r(t),i),t.execCommand(a)):"find"!=a&&"findPersistent"!=a||(e.e_stop(n),f(i,n))}),o&&l&&(h(t,u,l),d(t,n))}else a(t,v,"Search for:",l,function(e){e&&!u.query&&t.operation(function(){h(t,u,e),u.posFrom=u.posTo=t.getCursor(),d(t,n)})})}function d(t,n,i){t.operation(function(){var s=r(t),a=o(t,s.query,n?s.posFrom:s.posTo);(a.find(n)||(a=o(t,s.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0)),a.find(n)))&&(t.setSelection(a.from(),a.to()),t.scrollIntoView({from:a.from(),to:a.to()},20),s.posFrom=a.from(),s.posTo=a.to(),i&&i(a.from(),a.to()))})}function p(e){e.operation(function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function m(e,t,n){e.operation(function(){for(var r=o(e,t);r.findNext();)if("string"!=typeof t){var i=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,function(e,t){return i[t]}))}else r.replace(n)})}function g(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,i='<span class="CodeMirror-search-label">'+(t?"Replace all:":"Replace:")+"</span>";a(e,i+y,i,n,function(n){n&&(n=c(n),a(e,x,"Replace with:","",function(r){if(r=l(r),t)m(e,n,r);else{p(e);var i=o(e,n,e.getCursor("from")),s=function(){var t,l=i.from();!(t=i.findNext())&&(i=o(e,n),!(t=i.findNext())||l&&i.from().line==l.line&&i.from().ch==l.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),u(e,b,"Replace?",[function(){a(t)},s,function(){m(e,n,r)}]))},a=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),s()};s()}}))})}}var v='<span class="CodeMirror-search-label">Search:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',y=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',x='<span class="CodeMirror-search-label">With:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',b='<span class="CodeMirror-search-label">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';e.commands.find=function(e){p(e),f(e)},e.commands.findPersistent=function(e){p(e),f(e,!1,!0)},e.commands.findPersistentNext=function(e){f(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){f(e,!0,!0,!0)},e.commands.findNext=f,e.commands.findPrev=function(e){f(e,!0)},e.commands.clearSearch=p,e.commands.replace=g,e.commands.replaceAll=function(e){g(e,!0)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function n(e){return e.global?e:new RegExp(e.source,t(e)+"g")}function r(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function i(e,t,r){t=n(t);for(var i=r.line,o=r.ch,s=e.lastLine();i<=s;i++,o=0){t.lastIndex=o;var a=e.getLine(i),u=t.exec(a);if(u)return{from:m(i,u.index),to:m(i,u.index+u[0].length),match:u}}}function o(e,t,o){if(!r(t))return i(e,t,o);t=n(t);for(var s,a=1,u=o.line,l=e.lastLine();u<=l;){for(var c=0;c<a;c++){var h=e.getLine(u++);s=null==s?h:s+"\n"+h}a*=2,t.lastIndex=o.ch;var f=t.exec(s);if(f){var d=s.slice(0,f.index).split("\n"),p=f[0].split("\n"),g=o.line+d.length-1,v=d[d.length-1].length;return{from:m(g,v),to:m(g+p.length-1,1==p.length?v+p[0].length:p[p.length-1].length),match:f}}}}function s(e,t){for(var n,r=0;;){t.lastIndex=r;var i=t.exec(e);if(!i)return n;if(n=i,r=n.index+(n[0].length||1),r==e.length)return n}}function a(e,t,r){t=n(t);for(var i=r.line,o=r.ch,a=e.firstLine();i>=a;i--,o=-1){var u=e.getLine(i);o>-1&&(u=u.slice(0,o));var l=s(u,t);if(l)return{from:m(i,l.index),to:m(i,l.index+l[0].length),match:l}}}function u(e,t,r){t=n(t);for(var i,o=1,a=r.line,u=e.firstLine();a>=u;){for(var l=0;l<o;l++){var c=e.getLine(a--);i=null==i?c.slice(0,r.ch):c+"\n"+i}o*=2;var h=s(i,t);if(h){var f=i.slice(0,h.index).split("\n"),d=h[0].split("\n"),p=a+f.length,g=f[f.length-1].length;return{from:m(p,g),to:m(p+d.length-1,1==d.length?g+d[0].length:d[d.length-1].length),match:h}}}}function l(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var s=i+o>>1,a=r(e.slice(0,s)).length;if(a==n)return s;a>n?o=s:i=s+1}}function c(e,t,n,r){if(!t.length)return null;var i=r?d:p,o=i(t).split(/\r|\n\r?/);e:for(var s=n.line,a=n.ch,u=e.lastLine()+1-o.length;s<=u;s++,a=0){var c=e.getLine(s).slice(a),h=i(c);if(1==o.length){var f=h.indexOf(o[0]);if(f==-1)continue e;var n=l(c,h,f,i)+a;return{from:m(s,l(c,h,f,i)+a),to:m(s,l(c,h,f+o[0].length,i)+a)}}var g=h.length-o[0].length;if(h.slice(g)==o[0]){for(var v=1;v<o.length-1;v++)if(i(e.getLine(s+v))!=o[v])continue e;var y=e.getLine(s+o.length-1),x=i(y),b=o[o.length-1];if(y.slice(0,b.length)==b)return{from:m(s,l(c,h,g,i)+a),to:m(s+o.length-1,l(y,x,b.length,i))}}}}function h(e,t,n,r){if(!t.length)return null;var i=r?d:p,o=i(t).split(/\r|\n\r?/);e:for(var s=n.line,a=n.ch,u=e.firstLine()-1+o.length;s>=u;s--,a=-1){var c=e.getLine(s);a>-1&&(c=c.slice(0,a));var h=i(c);if(1==o.length){var f=h.lastIndexOf(o[0]);if(f==-1)continue e;return{from:m(s,l(c,h,f,i)),to:m(s,l(c,h,f+o[0].length,i))}}var g=o[o.length-1];if(h.slice(0,g.length)==g){for(var v=1,n=s-o.length+1;v<o.length-1;v++)if(i(e.getLine(n+v))!=o[v])continue e;var y=e.getLine(s+1-o.length),x=i(y);if(x.slice(x.length-o[0].length)==o[0])return{from:m(s+1-o.length,l(y,x,y.length-o[0].length,i)),to:m(s,l(c,h,g.length,i))}}}}function f(e,t,r,s){this.atOccurrence=!1,this.doc=e,r=r?e.clipPos(r):m(0,0),this.pos={from:r,to:r};var l;"object"==typeof s?l=s.caseFold:(l=s,s=null),"string"==typeof t?(null==l&&(l=!1),this.matches=function(n,r){return(n?h:c)(e,t,r,l)}):(t=n(t),s&&s.multiline===!1?this.matches=function(n,r){return(n?a:i)(e,t,r)}:this.matches=function(n,r){return(n?u:o)(e,t,r)})}var d,p,m=e.Pos;String.prototype.normalize?(d=function(e){return e.normalize("NFD").toLowerCase()},p=function(e){return e.normalize("NFD")}):(d=function(e){return e.toLowerCase()},p=function(e){return e}),f.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=m(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(m(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=m(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,m(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var r=m(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=m(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new f(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new f(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,n){var r,i=e.getWrapperElement();return r=i.appendChild(document.createElement("div")),n?r.className="CodeMirror-dialog CodeMirror-dialog-bottom":r.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?r.innerHTML=t:r.appendChild(t),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function s(e){if("string"==typeof e)h.value=e;else{if(l)return;l=!0,u.parentNode.removeChild(u),c.focus(),o.onClose&&o.onClose(u)}}o||(o={}),n(this,null);var a,u=t(this,r,o.bottom),l=!1,c=this,h=u.getElementsByTagName("input")[0];return h?(h.focus(),o.value&&(h.value=o.value,o.selectValueOnOpen!==!1&&h.select()),o.onInput&&e.on(h,"input",function(e){o.onInput(e,h.value,s)}),o.onKeyUp&&e.on(h,"keyup",function(e){o.onKeyUp(e,h.value,s)}),e.on(h,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,h.value,s)||((27==t.keyCode||o.closeOnEnter!==!1&&13==t.keyCode)&&(h.blur(),e.e_stop(t),s()),13==t.keyCode&&i(h.value,t))}),o.closeOnBlur!==!1&&e.on(h,"blur",s)):(a=u.getElementsByTagName("button")[0])&&(e.on(a,"click",function(){s(),c.focus()}),o.closeOnBlur!==!1&&e.on(a,"blur",s),a.focus()),s}),e.defineExtension("openConfirm",function(r,i,o){function s(){l||(l=!0,a.parentNode.removeChild(a),c.focus())}n(this,null);var a=t(this,r,o&&o.bottom),u=a.getElementsByTagName("button"),l=!1,c=this,h=1;u[0].focus();for(var f=0;f<u.length;++f){var d=u[f];!function(t){e.on(d,"click",function(n){e.e_preventDefault(n),s(),t&&t(c)})}(i[f]),e.on(d,"blur",function(){--h,setTimeout(function(){h<=0&&s()},200)}),e.on(d,"focus",function(){++h})}}),e.defineExtension("openNotification",function(r,i){function o(){u||(u=!0,clearTimeout(s),a.parentNode.removeChild(a))}n(this,o);var s,a=t(this,r,i&&i.bottom),u=!1,l=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(a,"click",function(t){e.e_preventDefault(t),o()}),l&&(s=setTimeout(o,l)),o})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,r){var i=e.getLineHandle(t.line),o=t.ch-1,u=r&&r.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var l=!u&&o>=0&&a[i.text.charAt(o)]||a[i.text.charAt(++o)];if(!l)return null;var c=">"==l.charAt(1)?1:-1;if(r&&r.strict&&c>0!=(o==t.ch))return null;var h=e.getTokenTypeAt(s(t.line,o+1)),f=n(e,s(t.line,o+(c>0?1:0)),c,h||null,r);return null==f?null:{from:s(t.line,o),to:f&&f.pos,match:f&&f.ch==l.charAt(0),forward:c>0}}function n(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,u=i&&i.maxScanLines||1e3,l=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,h=n>0?Math.min(t.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-u),f=t.line;f!=h;f+=n){var d=e.getLine(f);if(d){var p=n>0?0:d.length-1,m=n>0?d.length:-1;if(!(d.length>o))for(f==t.line&&(p=t.ch-(n<0?1:0));p!=m;p+=n){var g=d.charAt(p);if(c.test(g)&&(void 0===r||e.getTokenTypeAt(s(f,p+1))==r)){var v=a[g];if(">"==v.charAt(1)==n>0)l.push(g);else{if(!l.length)return{pos:s(f,p),ch:g};l.pop()}}}}}return f-n!=(n>0?e.lastLine():e.firstLine())&&null}function r(e,n,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],u=e.listSelections(),l=0;l<u.length;l++){var c=u[l].empty()&&t(e,u[l].head,r);if(c&&e.getLine(c.from.line).length<=i){var h=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,s(c.from.line,c.from.ch+1),{className:h})),c.to&&e.getLine(c.to.line).length<=i&&a.push(e.markText(c.to,s(c.to.line,c.to.ch+1),{className:h}))}}if(a.length){o&&e.state.focused&&e.focus();var f=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return f;setTimeout(f,800)}}function i(e){e.operation(function(){u&&(u(),u=null),u=r(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},u=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",i),u&&(u(),u=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,r){return(r||"boolean"==typeof n)&&(r?(r.strict=n,n=r):n=n?{strict:!0}:null),t(this,e,n)}),e.defineExtension("scanForBracket",function(e,t,r,i){return n(this,e,t,r,i)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:d[t]}function n(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),i="'"+n+"'";m[i]||(m[i]=r(n))}}function r(e){return function(t){return u(t,e)}}function i(e){var t=e.state.closeBrackets;if(!t||t.override)return t;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function o(n){var r=i(n);if(!r||n.getOption("disableInput"))return e.Pass;for(var o=t(r,"pairs"),s=n.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return e.Pass;var u=c(n,s[a].head);if(!u||o.indexOf(u)%2!=0)return e.Pass}for(var a=s.length-1;a>=0;a--){var l=s[a].head;n.replaceRange("",p(l.line,l.ch-1),p(l.line,l.ch+1),"+delete")}}function s(n){var r=i(n),o=r&&t(r,"explode");if(!o||n.getOption("disableInput"))return e.Pass;for(var s=n.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return e.Pass;var u=c(n,s[a].head);if(!u||o.indexOf(u)%2!=0)return e.Pass}n.operation(function(){var e=n.lineSeparator()||"\n";n.replaceSelection(e+e,null),n.execCommand("goCharLeft"),s=n.listSelections();for(var t=0;t<s.length;t++){var r=s[t].head.line;n.indentLine(r,null,!0),n.indentLine(r+1,null,!0)}})}function a(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new p(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new p(t.head.line,t.head.ch+(n?1:-1))}}function u(n,r){var o=i(n);if(!o||n.getOption("disableInput"))return e.Pass;var s=t(o,"pairs"),u=s.indexOf(r);if(u==-1)return e.Pass;for(var c,d=t(o,"triples"),m=s.charAt(u+1)==r,g=n.listSelections(),v=u%2==0,y=0;y<g.length;y++){var x,b=g[y],w=b.head,k=n.getRange(w,p(w.line,w.ch+1));if(v&&!b.empty())x="surround";else if(!m&&v||k!=r)if(m&&w.ch>1&&d.indexOf(r)>=0&&n.getRange(p(w.line,w.ch-2),w)==r+r&&(w.ch<=2||n.getRange(p(w.line,w.ch-3),p(w.line,w.ch-2))!=r))x="addFour";else if(m){if(e.isWordChar(k)||!h(n,w,r))return e.Pass;x="both"}else{if(!v||n.getLine(w.line).length!=w.ch&&!l(k,s)&&!/\s/.test(k))return e.Pass;x="both"}else x=m&&f(n,w)?"both":d.indexOf(r)>=0&&n.getRange(w,p(w.line,w.ch+3))==r+r+r?"skipThree":"skip";if(c){if(c!=x)return e.Pass}else c=x}var C=u%2?s.charAt(u-1):r,S=u%2?r:s.charAt(u+1);n.operation(function(){if("skip"==c)n.execCommand("goCharRight");else if("skipThree"==c)for(var e=0;e<3;e++)n.execCommand("goCharRight");else if("surround"==c){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=C+t[e]+S;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(var e=0;e<t.length;e++)t[e]=a(t[e]);n.setSelections(t)}else"both"==c?(n.replaceSelection(C+S,null),n.triggerElectric(C+S),n.execCommand("goCharLeft")):"addFour"==c&&(n.replaceSelection(C+C+C+C,"before"),n.execCommand("goCharRight"))})}function l(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function c(e,t){var n=e.getRange(p(t.line,t.ch-1),p(t.line,t.ch+1));return 2==n.length?n:null}function h(t,n,r){var i=t.getLine(n.line),o=t.getTokenAt(n);if(/\bstring2?\b/.test(o.type)||f(t,n))return!1;var s=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(s.pos=s.start=o.start;;){var a=t.getMode().token(s,o.state);if(s.pos>=n.ch+1)return/\bstring2?\b/.test(a);s.start=s.pos}}function f(e,t){var n=e.getTokenAt(p(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch}var d={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},p=e.Pos;e.defineOption("autoCloseBrackets",!1,function(r,i,o){o&&o!=e.Init&&(r.removeKeyMap(m),r.state.closeBrackets=null),i&&(n(t(i,"pairs")),r.state.closeBrackets=i,r.addKeyMap(m))});var m={Backspace:o,Enter:s};n(d.pairs+"`")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i,o,s){function a(e){var n=u(t,i);if(!n||n.to.line-n.from.line<l)return null;for(var r=t.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==s){if(!e)return null;n.cleared=!0,r[o].clear()}return n}if(o&&o.call){var u=o;o=null}else var u=r(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var l=r(t,o,"minFoldSize"),c=a(!0);if(r(t,o,"scanUp"))for(;!c&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),c=a(!1);if(c&&!c.cleared&&"unfold"!==s){var h=n(t,o);e.on(h,"mousedown",function(t){f.clear(),e.e_preventDefault(t)});var f=t.markText(c.from,c.to,{replacedWith:h,clearOnEnter:r(t,o,"clearOnEnter"),__isFold:!0});f.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,c.from,c.to)}}function n(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);n=document.createElement("span"),n.appendChild(i),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}function r(e,t,n){if(t&&void 0!==t[n])return t[n];var r=e.options.foldOptions;return r&&void 0!==r[n]?r[n]:i[n]}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],e):e(CodeMirror)}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return e===!0&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarks(h(t,0),h(t+1,0)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==t)return n[r]}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,s=t,a=e.foldOption(o,"minFoldSize"),u=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(r(e,s))n=i(o.indicatorFolded);else{var l=h(s,0),c=u&&u(e,l);c&&c.to.line-c.from.line>=a&&(n=i(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n),++s})}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function a(e,t,n){var i=e.state.foldGutter;if(i){var o=i.options;if(n==o.gutter){var s=r(e,t);s?s.clear():e.foldCode(h(t,0),o.rangeFinder)}}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function c(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}}e.defineOption("foldGutter",!1,function(r,i,o){o&&o!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",a),r.off("change",u),r.off("viewportChange",l),r.off("fold",c),r.off("unfold",c),r.off("swapDoc",u)),i&&(r.state.foldGutter=new t(n(i)),s(r),r.on("gutterClick",a),r.on("change",u),r.on("viewportChange",l),r.on("fold",c),r.on("unfold",c),r.on("swapDoc",u))});var h=e.Pos}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var a=n.ch,u=0;;){var l=a<=0?-1:s.lastIndexOf(r,a-1);if(l!=-1){if(1==u&&l<n.ch)break;if(i=t.getTokenTypeAt(e.Pos(o,l+1)),!/^(comment|string)/.test(i))return l+1;a=l-1}else{if(1==u)break;u=1,a=s.length}}}var i,o=n.line,s=t.getLine(o),a="{",u="}",l=r("{");if(null==l&&(a="[",u="]",l=r("[")),null!=l){var c,h,f=1,d=t.lastLine();e:for(var p=o;p<=d;++p)for(var m=t.getLine(p),g=p==o?l:0;;){var v=m.indexOf(a,g),y=m.indexOf(u,g);if(v<0&&(v=m.length),y<0&&(y=m.length),g=Math.min(v,y),g==m.length)break;if(t.getTokenTypeAt(e.Pos(p,g+1))==i)if(g==v)++f;else if(!--f){c=p,h=g;break e}++g}if(null!=c&&(o!=c||h!=l))return{from:e.Pos(o,l),to:e.Pos(c,h)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var s=t.getLine(i),a=s.indexOf(";");if(a!=-1)return{startCh:r.end,end:e.Pos(i,a)}}}var i,o=n.line,s=r(o);if(!s||r(o-1)||(i=r(o-2))&&i.end.line==o-1)return null;for(var a=s.end;;){
var u=r(a.line+1);if(null==u)break;a=u.end}return{from:t.clipPos(e.Pos(o,s.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=n.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var s=i;;){var a=r(s+1);if(null==a)break;++s}return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(s))}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(f(e.line,t));return n&&/\btag\b/.test(n)}function i(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function s(e){for(;;){var t=e.text.indexOf(">",e.ch);if(t==-1){if(i(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function a(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(t==-1){if(o(e))continue;return}if(r(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function u(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(i(e))continue;return}{if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function l(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(t==-1){if(o(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}}function c(e,t){for(var n=[];;){var r,i=u(e),o=e.line,a=e.ch-(i?i[0].length:0);if(!i||!(r=s(e)))return;if("selfClose"!=r)if(i[1]){for(var l=n.length-1;l>=0;--l)if(n[l]==i[2]){n.length=l;break}if(l<0&&(!t||t==i[2]))return{tag:i[2],from:f(o,a),to:f(e.line,e.ch)}}else n.push(i[2])}}function h(e,t){for(var n=[];;){var r=l(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,s=a(e);if(!s)return;if(s[1])n.push(s[2]);else{for(var u=n.length-1;u>=0;--u)if(n[u]==s[2]){n.length=u;break}if(u<0&&(!t||t==s[2]))return{tag:s[2],from:f(e.line,e.ch),to:f(i,o)}}}else a(e)}}var f=e.Pos,d="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",p=d+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+d+"]["+p+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var r=new n(e,t.line,0);;){var i,o=u(r);if(!o||r.line!=t.line||!(i=s(r)))return;if(!o[1]&&"selfClose"!=i){var a=f(r.line,r.ch),l=c(r,o[2]);return l&&{from:a,to:l.from}}}}),e.findMatchingTag=function(e,r,i){var o=new n(e,r.line,r.ch,i);if(o.text.indexOf(">")!=-1||o.text.indexOf("<")!=-1){var u=s(o),l=u&&f(o.line,o.ch),d=u&&a(o);if(u&&d&&!(t(o,r)>0)){var p={from:f(o.line,o.ch),to:l,tag:d[2]};return"selfClose"==u?{open:p,close:null,at:"open"}:d[1]?{open:h(o,d[2]),close:p,at:"close"}:(o=new n(e,l.line,l.ch,i),{open:p,close:c(o,d[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,r,i){for(var o=new n(e,t.line,t.ch,r);;){var s=h(o,i);if(!s)break;var a=new n(e,t.line,t.ch,r),u=c(a,s.tag);if(u)return{open:s,close:u}}},e.scanForClosingTag=function(e,t,r,i){var o=new n(e,t.line,t.ch,i?{from:0,to:i}:null);return c(o,r)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){function r(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function i(e,t,n){var i=t&&t.match(/^#+/);return i&&r(e)?i[0].length:(i=n&&n.match(/^[=\-]+\s*$/),i&&r(e+1)?"="==n[0]?1:2:o)}var o=100,s=t.getLine(n.line),a=t.getLine(n.line+1),u=i(n.line,s,a);if(u!==o){for(var l=t.lastLine(),c=n.line,h=t.getLine(c+2);c<l&&!(i(c+1,a,h)<=u);)++c,a=h,h=t.getLine(c+2);return{from:e.Pos(n.line,s.length),to:e.Pos(c,t.getLine(c).length)}}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var s,a=n.line,u=t.getLine(a),l=n.ch,c=0;;){var h=l<=0?-1:u.lastIndexOf(i,l-1);if(h!=-1){if(1==c&&h<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(a,h+1)))&&(0==h||u.slice(h-o.length,h)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(a,h))))){s=h+i.length;break}l=h-1}else{if(1==c)return;c=1,l=u.length}}var f,d,p=1,m=t.lastLine();e:for(var g=a;g<=m;++g)for(var v=t.getLine(g),y=g==a?s:0;;){var x=v.indexOf(i,y),b=v.indexOf(o,y);if(x<0&&(x=v.length),b<0&&(b=v.length),y=Math.min(x,b),y==v.length)break;if(y==x)++p;else if(!--p){f=g,d=y;break e}++y}if(null!=f&&(a!=f||d!=s))return{from:e.Pos(a,s),to:e.Pos(f,d)}}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){function i(t){var n=e.wheelEventPixels(t)["horizontal"==o.orientation?"x":"y"],r=o.pos;o.moveTo(o.pos+n),o.pos!=r&&e.e_preventDefault(t)}this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var o=this;e.on(this.inner,"mousedown",function(t){function n(){e.off(document,"mousemove",r),e.off(document,"mouseup",n)}function r(e){return 1!=e.which?n():void o.moveTo(a+(e[i]-s)*(o.total/o.size))}if(1==t.which){e.e_preventDefault(t);var i="horizontal"==o.orientation?"pageX":"pageY",s=t[i],a=o.pos;e.on(document,"mousemove",r),e.on(document,"mouseup",n)}}),e.on(this.node,"click",function(t){e.e_preventDefault(t);var n,r=o.inner.getBoundingClientRect();n="horizontal"==o.orientation?t.clientX<r.left?-1:t.clientX>r.right?1:0:t.clientY<r.top?-1:t.clientY>r.bottom?1:0,o.moveTo(o.pos+n*o.screen)}),e.on(this.node,"mousewheel",i),e.on(this.node,"DOMMouseScroll",i)}function n(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.setPos=function(e,t){return e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),!(!t&&e==this.pos)&&(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",!0)},t.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)};var r=10;t.prototype.update=function(e,t,n){var i=this.screen!=t||this.total!=e||this.size!=n;i&&(this.screen=t,this.total=e,this.size=n);var o=this.screen*(this.size/this.total);o<r&&(this.size-=r-o,o=r),this.inner.style["horizontal"==this.orientation?"width":"height"]=o+"px",this.setPos(this.pos,i)},n.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var n=this.width||0,r=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(r?n:0)),this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(i?n:0)-e.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(e){this.vert.setPos(e)},n.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},n.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new n("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new n("CodeMirror-overlayscroll",e,t)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.runMode=function(t,n,r,i){var o=e.getMode(e.defaults,n),s=/MSIE \d/.test(navigator.userAgent),a=s&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var u=i&&i.tabSize||e.defaults.tabSize,l=r,c=0;l.innerHTML="",r=function(e,t){if("\n"==e)return l.appendChild(document.createTextNode(a?"\r":e)),void(c=0);for(var n="",r=0;;){var i=e.indexOf("\t",r);if(i==-1){n+=e.slice(r),c+=e.length-r;break}c+=i-r,n+=e.slice(r,i);var o=u-c%u;c+=o;for(var s=0;s<o;++s)n+=" ";r=i+1}if(t){var h=l.appendChild(document.createElement("span"));h.className="cm-"+t.replace(/ +/g," cm-"),h.appendChild(document.createTextNode(n))}else l.appendChild(document.createTextNode(n))}}for(var h=e.splitLines(t),f=i&&i.state||e.startState(o),d=0,p=h.length;d<p;++d){d&&r("\n");var m=new e.StringStream(h[d]);for(!m.string&&o.blankLine&&o.blankLine(f);!m.eol();){var g=o.token(m,f);r(m.current(),g,d,m.start,f),m.start=m.pos}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(u("atom","]]>")):null:e.match("--")?n(u("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(l(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=u("meta","?>"),"meta"):(E=e.eat("/")?"closeTag":"openTag",t.tokenize=s,"tag bracket");if("&"==r){var i;return i=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),i?"atom":"error"}return e.eatWhile(/[^&<]/),null}function s(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,E=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return E="equals",null;if("<"==n){t.tokenize=o,t.state=d,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}function u(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function l(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=l(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=o;break}return n.tokenize=l(e-1),n.tokenize(t,n)}}return"meta"}}function c(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function h(e){e.context&&(e.context=e.context.prev)}function f(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(t))return;h(e)}}function d(e,t,n){return"openTag"==e?(n.tagStart=t.column(),p):"closeTag"==e?m:d}function p(e,t,n){return"word"==e?(n.tagName=t.current(),A="tag",y):(A="error",p)}function m(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&h(n),n.context&&n.context.tagName==r||C.matchClosing===!1?(A="tag",g):(A="tag error",v)}return A="error",v}function g(e,t,n){return"endTag"!=e?(A="error",g):(h(n),d)}function v(e,t,n){return A="error",g(e,t,n)}function y(e,t,n){if("word"==e)return A="attribute",x;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(r)?f(n,r):(f(n,r),n.context=new c(n,r,i==n.indented)),d}return A="error",y}function x(e,t,n){return"equals"==e?b:(C.allowMissing||(A="error"),y(e,t,n))}function b(e,t,n){return"string"==e?w:"word"==e&&C.allowUnquoted?(A="string",y):(A="error",y(e,t,n))}function w(e,t,n){return"string"==e?w:y(e,t,n)}var k=r.indentUnit,C={},S=i.htmlMode?t:n;for(var D in S)C[D]=S[D];for(var D in i)C[D]=i[D];var E,A;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:d,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;E=null;var n=t.tokenize(e,t);return(n||E)&&"comment"!=n&&(A=null,t.state=t.state(E||n,e,t),A&&(n="error"==A?n+" error":A)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+k;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return C.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+k*(C.multilineTagIndentFactor||1);if(C.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;i;){if(i.tagName==a[2]){i=i.prev;break}if(!C.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(a)for(;i;){var u=C.contextGrabbers[i.tagName];if(!u||!u.hasOwnProperty(a[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+k:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:C.htmlMode?"html":"xml",helperType:C.htmlMode?"html":"xml",skipAttribute:function(e){e.state==b&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function n(e){var t=u[e];return t?t:u[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function r(e,t){var r=e.match(n(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function i(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function s(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(r(t,i[0])))return i[2]}}var a={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},u={};e.defineMode("htmlmixed",function(n,r){function u(r,o){var a,h=l.token(r,o.htmlState),f=/\btag\b/.test(h);if(f&&!/[<>\s\/]/.test(r.current())&&(a=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(a))o.inTag=a+" ";else if(o.inTag&&f&&/>$/.test(r.current())){var d=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var p=">"==r.current()&&s(c[d[1]],d[2]),m=e.getMode(n,p),g=i(d[1],!0),v=i(d[1],!1);o.token=function(e,n){return e.match(g,!1)?(n.token=u,n.localState=n.localMode=null,null):t(e,v,n.localMode.token(e,n.localState))},o.localMode=m,o.localState=e.startState(m,l.indent(o.htmlState,""))}else o.inTag&&(o.inTag+=r.current(),r.eol()&&(o.inTag+=" "));return h}var l=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag}),c={},h=r&&r.tags,f=r&&r.scriptTypes;if(o(a,c),h&&o(h,c),f)for(var d=f.length-1;d>=0;d--)c.script.unshift(["type",f[d].matches,f[d].mode]);return{startState:function(){var t=e.startState(l);return{token:u,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(l,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?l.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||l}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}function i(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function s(e){return!e||!/\S/.test(e.string)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==l&&(e.f=d,e.block=u),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function u(t,o){var a=t.column()===o.indentation,u=s(o.prevLine.stream),l=o.indentedCode,f=o.prevLine.hr,d=o.list!==!1,p=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var m=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,d)){for(o.list=null;m<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;o.list!==!1&&(o.indentationDiff=m-o.listStack[o.listStack.length-1])}var g=!(u||f||o.prevLine.header||d&&l||o.prevLine.fencedCodeEnd),y=(o.list===!1||f||u)&&o.indentation<=p&&t.match(S),x=null;if(o.indentationDiff>=4&&(l||o.prevLine.fencedCodeEnd||o.prevLine.header||u))return t.skipToEnd(),o.indentedCode=!0,k.code;if(t.eatSpace())return null;if(a&&o.indentation<=p&&(x=t.match(A))&&x[1].length<=6)return o.quote=0,o.header=x[1].length,o.thisLine.header=!0,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,h(o);if(o.indentation<=p&&t.eat(">"))return o.quote=a?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),t.eatSpace(),h(o);if(!y&&!o.setext&&a&&o.indentation<=p&&(x=t.match(D))){var b=x[1]?"ol":"ul";return o.indentation=m+t.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),n.taskLists&&t.match(E,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+b]),h(o)}return a&&o.indentation<=p&&(x=t.match(F,!0))?(o.quote=0,o.fencedEndRE=new RegExp(x[1]+"+ *$"),o.localMode=n.fencedCodeBlockHighlighting&&r(x[2]),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=c,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,h(o)):o.setext||!(g&&d||o.quote||o.list!==!1||o.code||y||M.test(t.string))&&(x=t.lookAhead(1))&&(x=x.match(T))?(o.setext?(o.header=o.setext,o.setext=0,t.skipToEnd(),n.highlightFormatting&&(o.formatting="header")):(o.header="="==x[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,h(o)):y?(t.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,k.hr):"["===t.peek()?i(t,o,v):i(t,o,o.inline)}function l(t,n){var r=b.token(t,n.htmlState);if(!w){var i=e.innerMode(b,n.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=d,n.block=u,n.htmlState=null)}return r}function c(e,t){var r=t.listStack[t.listStack.length-1]||0,i=t.indentation<r,s=r+3;if(t.fencedEndRE&&t.indentation<=s&&(i||e.match(t.fencedEndRE))){n.highlightFormatting&&(t.formatting="code-block");var a;return i||(a=h(t)),t.localMode=t.localState=null,t.block=u,t.f=d,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,i?o(e,t,t.block):a}return t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),k.code)}function h(e){var t=[];if(e.formatting){t.push(k.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(k.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(k.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(k.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(k.linkHref,"url"):(e.strong&&t.push(k.strong),e.em&&t.push(k.em),e.strikethrough&&t.push(k.strikethrough),e.emoji&&t.push(k.emoji),e.linkText&&t.push(k.linkText),e.code&&t.push(k.code),e.image&&t.push(k.image),e.imageAltText&&t.push(k.imageAltText,"link"),e.imageMarker&&t.push(k.imageMarker)),e.header&&t.push(k.header,k.header+"-"+e.header),e.quote&&(t.push(k.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(k.quote+"-"+e.quote):t.push(k.quote+"-"+n.maxBlockquoteDepth)),e.list!==!1){var i=(e.listStack.length-1)%3;i?1===i?t.push(k.list2):t.push(k.list3):t.push(k.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function f(e,t){if(e.match(_,!0))return h(t)}function d(t,r){var i=r.text(t,r);if("undefined"!=typeof i)return i;if(r.list)return r.list=null,h(r);if(r.taskList){var s=" "===t.match(E,!0)[1];return s?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,h(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),h(r);var a=t.next();if(r.linkTitle){r.linkTitle=!1;var u=a;"("===a&&(u=")"),u=(u+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var c="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(new RegExp(c),!0))return k.linkHref}if("`"===a){var f=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var g=t.current().length;if(0!=r.code||r.quote&&1!=g){if(g==r.code){var v=h(r);return r.code=0,v}return r.formatting=f,h(r)}return r.code=g,h(r)}if(r.code)return h(r);if("\\"===a&&(t.next(),n.highlightFormatting)){var y=h(r),x=k.formatting+"-escape";return y?y+" "+x:x}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),h(r);if("["===a&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),h(r);if("]"===a&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var y=h(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=m,y}if("["===a&&!r.image)return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),h(r);if("]"===a&&r.linkText){n.highlightFormatting&&(r.formatting="link");var y=h(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?m:d,y}if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link");var y=h(r);return y?y+=" ":y="",y+k.linkInline}if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link");var y=h(r);return y?y+=" ":y="",y+k.linkEmail}if(n.xml&&"<"===a&&t.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^ >]+)?)*\s*>)/i,!1)){var w=t.string.indexOf(">",t.pos);if(w!=-1){var C=t.string.substring(t.start,w);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(C)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(b),o(t,r,l)}if(n.xml&&"<"===a&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===a||"_"===a){for(var S=1,D=1==t.pos?" ":t.string.charAt(t.pos-2);S<3&&t.eat(a);)S++;var A=t.peek()||" ",T=!/\s/.test(A)&&(!L.test(A)||/\s/.test(D)||L.test(D)),_=!/\s/.test(D)&&(!L.test(D)||/\s/.test(A)||L.test(A)),F=null,M=null;if(S%2&&(r.em||!T||"*"!==a&&_&&!L.test(D)?r.em!=a||!_||"*"!==a&&T&&!L.test(A)||(F=!1):F=!0),S>1&&(r.strong||!T||"*"!==a&&_&&!L.test(D)?r.strong!=a||!_||"*"!==a&&T&&!L.test(A)||(M=!1):M=!0),null!=M||null!=F){n.highlightFormatting&&(r.formatting=null==F?"strong":null==M?"em":"strong em"),F===!0&&(r.em=a),M===!0&&(r.strong=a);var v=h(r);return F===!1&&(r.em=!1),M===!1&&(r.strong=!1),v}}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(r);t.backUp(1)}if(n.strikethrough)if("~"===a&&t.eatWhile(a)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var v=h(r);return r.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),h(r)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return h(r);t.backUp(2)}if(n.emoji&&":"===a&&t.match(/^[a-z_\d+-]+:/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var P=h(r);return r.emoji=!1,P}return" "===a&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),h(r)}function p(e,t){var r=e.next();if(">"===r){t.f=t.inline=d,n.highlightFormatting&&(t.formatting="link");var i=h(t);return i?i+=" ":i="",i+k.linkInline}return e.match(/^[^>]+/,!0),k.linkInline}function m(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=g("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,h(t)):"error"}function g(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=d,n.highlightFormatting&&(r.formatting="link-string");var o=h(r);return r.linkHref=!1,o}return t.match(N[e]),r.linkHref=!0,h(r)}}function v(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,h(t)):i(e,t,d)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=x,n.highlightFormatting&&(t.formatting="link");var r=h(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),k.linkText}function x(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=d,k.linkHref+" url")}var b=e.getMode(t,"text/html"),w="null"==b.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var k={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var C in k)k.hasOwnProperty(C)&&n.tokenTypeOverrides[C]&&(k[C]=n.tokenTypeOverrides[C]);var S=/^([*\-_])(?:\s*\1){2,}\s*$/,D=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,E=/^\[(x| )\](?=\s)/i,A=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,T=/^ *(?:\={1,}|-{1,})\s*$/,_=/^[^#!\[\]*_\\<>` "'(~:]+/,F=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,M=/^\s*\[[^\]]+?\]:\s*\S+(\s*\S*\s*)?$/,L=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~\u2014]/,P="    ",N={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},B={startState:function(){return{f:u,prevLine:{stream:null},thisLine:{stream:null},block:u,htmlState:null,indentation:0,inline:d,text:f,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(b,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return a(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=l)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,P).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==l?{state:e.htmlState,mode:b}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:B}},indent:function(t,n,r){return t.block==l&&b.indent?b.indent(t.htmlState,n,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},blankLine:a,getType:h,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return B},"xml"),e.defineMIME("text/x-markdown","markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../ruby/ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("haml",function(t){function n(e){return function(t,n){var o=t.peek();return o==e&&1==n.rubyState.tokenize.length?(t.next(),n.tokenize=i,"closeAttributeTag"):r(t,n)}}function r(e,t){return e.match("-#")?(e.skipToEnd(),"comment"):s.token(e,t.rubyState)}function i(e,t){var i=e.peek();if("comment"==t.previousToken.style&&t.indented>t.previousToken.indented)return e.skipToEnd(),"commentLine";if(t.startOfLine){if("!"==i&&e.match("!!"))return e.skipToEnd(),"tag";if(e.match(/^%[\w:#\.]+=/))return t.tokenize=r,"hamlTag";if(e.match(/^%[\w:]+/))return"hamlTag";if("/"==i)return e.skipToEnd(),"comment"}if((t.startOfLine||"hamlTag"==t.previousToken.style)&&("#"==i||"."==i))return e.match(/[\w-#\.]*/),"hamlAttribute";if(t.startOfLine&&!e.match("-->",!1)&&("="==i||"-"==i))return t.tokenize=r,t.tokenize(e,t);if("hamlTag"==t.previousToken.style||"closeAttributeTag"==t.previousToken.style||"hamlAttribute"==t.previousToken.style){if("("==i)return t.tokenize=n(")"),t.tokenize(e,t);if("{"==i&&!e.match(/^\{%.*/))return t.tokenize=n("}"),t.tokenize(e,t)}return o.token(e,t.htmlState)}var o=e.getMode(t,{name:"htmlmixed"}),s=e.getMode(t,"ruby");return{startState:function(){var t=e.startState(o),n=e.startState(s);return{htmlState:t,rubyState:n,indented:0,previousToken:{style:null,indented:0},tokenize:i}},copyState:function(t){
return{htmlState:e.copyState(o,t.htmlState),rubyState:e.copyState(s,t.rubyState),indented:t.indented,previousToken:t.previousToken,tokenize:t.tokenize}},token:function(e,t){if(e.sol()&&(t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;var n=t.tokenize(e,t);if(t.startOfLine=!1,n&&"commentLine"!=n&&(t.previousToken={style:n,indented:t.indented}),e.eol()&&t.tokenize==r){e.backUp(1);var o=e.peek();e.next(),o&&","!=o&&(t.tokenize=i)}return"hamlTag"==n?n="tag":"commentLine"==n?n="comment":"hamlAttribute"==n?n="attribute":"closeAttributeTag"==n&&(n=null),n}}},"htmlmixed","ruby"),e.defineMIME("text/x-haml","haml")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../javascript/javascript"),require("../css/css"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../javascript/javascript","../css/css","../htmlmixed/htmlmixed"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("pug",function(t){function n(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(Y),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}function r(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&":"===e.peek())return t.javaScriptLine=!1,void(t.javaScriptLineExcludesColon=!1);var n=Y.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),n||!0}}function i(e,t){if(t.javaScriptArguments){if(0===t.javaScriptArgumentsDepth&&"("!==e.peek())return void(t.javaScriptArguments=!1);if("("===e.peek()?t.javaScriptArgumentsDepth++:")"===e.peek()&&t.javaScriptArgumentsDepth--,0===t.javaScriptArgumentsDepth)return void(t.javaScriptArguments=!1);var n=Y.token(e,t.jsState);return n||!0}}function o(e){if(e.match(/^yield\b/))return"keyword"}function s(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return J}function a(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function u(e,t){if(t.isInterpolating){if("}"===e.peek()){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else"{"===e.peek()&&t.interpolationNesting++;return Y.token(e,t.jsState)||!0}}function l(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,X}function c(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,X}function h(e){if(e.match(/^default\b/))return X}function f(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string",X}function d(e,t){if(e.match(/^append\b/))return t.restOfLine="variable",X}function p(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable",X}function m(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",X}function g(e,t){if(e.match(/^include\b/))return t.restOfLine="string",X}function v(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,X}function y(e,t){if(t.isIncludeFiltered){var n=A(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",n}}function x(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,X}function b(e,t){return e.match(/^\+([-\w]+)/)?(e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):e.match(/^\+#{/,!1)?(e.next(),t.mixinCallAfter=!0,a(e,t)):void 0}function w(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function k(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,X}function C(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,X}function S(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,X;if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){for(;!e.match(/^ in\b/,!1)&&e.next(););return"variable"}}}function D(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,X}function E(e,t){var n;if(n=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=n[1].toLowerCase(),"script"===t.lastTag&&(t.scriptType="application/javascript"),"tag"}function A(n,r){if(n.match(/^:([\w\-]+)/)){var i;return t&&t.innerModes&&(i=t.innerModes(n.current().substring(1))),i||(i=n.current().substring(1)),"string"==typeof i&&(i=e.getMode(t,i)),R(n,r,i),"atom"}}function T(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function _(e){if(e.match(/^#([\w-]+)/))return V}function F(e){if(e.match(/^\.([\w-]+)/))return K}function M(e,t){if("("==e.peek())return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function L(t,n){if(n.isAttrs){if(G[t.peek()]&&n.attrsNest.push(G[t.peek()]),n.attrsNest[n.attrsNest.length-1]===t.peek())n.attrsNest.pop();else if(t.eat(")"))return n.isAttrs=!1,"punctuation";if(n.inAttributeName&&t.match(/^[^=,\)!]+/))return"="!==t.peek()&&"!"!==t.peek()||(n.inAttributeName=!1,n.jsState=e.startState(Y),"script"===n.lastTag&&"type"===t.current().trim().toLowerCase()?n.attributeIsType=!0:n.attributeIsType=!1),"attribute";var r=Y.token(t,n.jsState);if(n.attributeIsType&&"string"===r&&(n.scriptType=t.current().toString()),0===n.attrsNest.length&&("string"===r||"variable"===r||"keyword"===r))try{return Function("","var x "+n.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),n.inAttributeName=!0,n.attrValue="",t.backUp(t.current().length),L(t,n)}catch(e){}return n.attrValue+=t.current(),r||!0}}function P(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function N(e){if(e.sol()&&e.eatSpace())return"indent"}function B(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}function O(e){if(e.match(/^: */))return"colon"}function I(e,t){return e.match(/^(?:\| ?| )([^\n]+)/)?"string":e.match(/^(<[^\n]*)/,!1)?(R(e,t,"htmlmixed"),t.innerModeForLine=!0,H(e,t,!0)):void 0}function z(e,t){if(e.eat(".")){var n=null;return"script"===t.lastTag&&t.scriptType.toLowerCase().indexOf("javascript")!=-1?n=t.scriptType.toLowerCase().replace(/"|'/g,""):"style"===t.lastTag&&(n="css"),R(e,t,n),"dot"}}function j(e){return e.next(),null}function R(n,r,i){i=e.mimeModes[i]||i,i=t.innerModes?t.innerModes(i)||i:i,i=e.mimeModes[i]||i,i=e.getMode(t,i),r.indentOf=n.indentation(),i&&"null"!==i.name?r.innerMode=i:r.indentToken="string"}function H(t,n,r){return t.indentation()>n.indentOf||n.innerModeForLine&&!t.sol()||r?n.innerMode?(n.innerState||(n.innerState=n.innerMode.startState?e.startState(n.innerMode,t.indentation()):{}),t.hideFirstChars(n.indentOf+2,function(){return n.innerMode.token(t,n.innerState)||!0})):(t.skipToEnd(),n.indentToken):void(t.sol()&&(n.indentOf=1/0,n.indentToken=null,n.innerMode=null,n.innerState=null))}function W(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var n=t.restOfLine;return t.restOfLine="",n}}function U(){return new n}function q(e){return e.copy()}function $(e,t){var n=H(e,t)||W(e,t)||u(e,t)||y(e,t)||S(e,t)||L(e,t)||r(e,t)||i(e,t)||w(e,t)||o(e,t)||s(e,t)||a(e,t)||l(e,t)||c(e,t)||h(e,t)||f(e,t)||d(e,t)||p(e,t)||m(e,t)||g(e,t)||v(e,t)||x(e,t)||b(e,t)||k(e,t)||C(e,t)||D(e,t)||E(e,t)||A(e,t)||T(e,t)||_(e,t)||F(e,t)||M(e,t)||P(e,t)||N(e,t)||I(e,t)||B(e,t)||O(e,t)||z(e,t)||j(e,t);return n===!0?null:n}var X="keyword",J="meta",V="builtin",K="qualifier",G={"{":"}","(":")","[":"]"},Y=e.getMode(t,"javascript");return n.prototype.copy=function(){var t=new n;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=e.copyState(Y,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=e.copyState(this.innerMode,this.innerState)),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:U,copyState:q,token:$}},"javascript","css","htmlmixed"),e.defineMIME("text/x-pug","pug"),e.defineMIME("text/x-jade","pug")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../ruby/ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("slim",function(t){function n(e,t,n){var r=function(r,i){return i.tokenize=t,r.pos<e?(r.pos=e,n):i.tokenize(r,i)};return function(e,n){return n.tokenize=r,t(e,n)}}function r(e,t,r,i,o){var s=e.current(),a=s.search(r);return a>-1&&(t.tokenize=n(e.pos,t.tokenize,o),e.backUp(s.length-a-i)),o}function i(e,t){e.stack={parent:e.stack,style:"continuation",indented:t,tokenize:e.line},e.line=e.tokenize}function o(e){e.line==e.tokenize&&(e.line=e.stack.tokenize,e.stack=e.stack.parent)}function s(e,t){return function(n,r){if(o(r),n.match(/^\\$/))return i(r,e),"lineContinuation";var s=t(n,r);return n.eol()&&n.current().match(/(?:^|[^\\])(?:\\\\)*\\$/)&&n.backUp(1),s}}function a(e,t){return function(n,r){o(r);var s=t(n,r);return n.eol()&&n.current().match(/,$/)&&i(r,e),s}}function u(e,t){return function(n,r){var i=n.peek();return i==e&&1==r.rubyState.tokenize.length?(n.next(),r.tokenize=t,"closeAttributeTag"):c(n,r)}}function l(t){var n,r=function(e,r){if(1==r.rubyState.tokenize.length&&!r.rubyState.context.prev){if(e.backUp(1),e.eatSpace())return r.rubyState=n,r.tokenize=t,t(e,r);e.next()}return c(e,r)};return function(t,i){return n=i.rubyState,i.rubyState=e.startState(j),i.tokenize=r,c(t,i)}}function c(e,t){return j.token(e,t.rubyState)}function h(e,t){return e.match(/^\\$/)?"lineContinuation":f(e,t)}function f(e,t){return e.match(/^#\{/)?(t.tokenize=u("}",t.tokenize),null):r(e,t,/[^\\]#\{/,1,z.token(e,t.htmlState))}function d(e){return function(t,n){var r=h(t,n);return t.eol()&&(n.tokenize=e),r}}function p(e,t,n){return t.stack={parent:t.stack,style:"html",indented:e.column()+n,tokenize:t.line},t.line=t.tokenize=f,null}function m(e,t){return e.skipToEnd(),t.stack.style}function g(e,t){return t.stack={parent:t.stack,style:"comment",indented:t.indented+1,tokenize:t.line},t.line=m,m(e,t)}function v(e,t){return e.eat(t.stack.endQuote)?(t.line=t.stack.line,t.tokenize=t.stack.tokenize,t.stack=t.stack.parent,null):e.match(K)?(t.tokenize=y,"slimAttribute"):(e.next(),null)}function y(e,t){return e.match(/^==?/)?(t.tokenize=x,null):v(e,t)}function x(e,t){var n=e.peek();return'"'==n||"'"==n?(t.tokenize=O(n,"string",!0,!1,v),e.next(),t.tokenize(e,t)):"["==n?l(v)(e,t):e.match(/^(true|false|nil)\b/)?(t.tokenize=v,"keyword"):l(v)(e,t)}function b(e,t,n){return e.stack={parent:e.stack,style:"wrapper",indented:e.indented+1,tokenize:n,line:e.line,endQuote:t},e.line=e.tokenize=v,null}function w(t,n){if(t.match(/^#\{/))return n.tokenize=u("}",n.tokenize),null;var r=new e.StringStream(t.string.slice(n.stack.indented),t.tabSize);r.pos=t.pos-n.stack.indented,r.start=t.start-n.stack.indented,r.lastColumnPos=t.lastColumnPos-n.stack.indented,r.lastColumnValue=t.lastColumnValue-n.stack.indented;var i=n.subMode.token(r,n.subState);return t.pos=r.pos+n.stack.indented,i}function k(e,t){return t.stack.indented=e.column(),t.line=t.tokenize=w,t.tokenize(e,t)}function C(n){var r=H[n],i=e.mimeModes[r];if(i)return e.getMode(t,i);var o=e.modes[r];return o?o(t,{name:r}):e.getMode(t,"null")}function S(e){return R.hasOwnProperty(e)?R[e]:R[e]=C(e)}function D(t,n){var r=S(t),i=e.startState(r);return n.subMode=r,n.subState=i,n.stack={parent:n.stack,style:"sub",indented:n.indented+1,tokenize:n.line},n.line=n.tokenize=k,"slimSubmode"}function E(e){return e.skipToEnd(),"slimDoctype"}function A(e,t){var n=e.peek();if("<"==n)return(t.tokenize=d(t.tokenize))(e,t);if(e.match(/^[|']/))return p(e,t,1);if(e.match(/^\/(!|\[\w+])?/))return g(e,t);if(e.match(/^(-|==?[<>]?)/))return t.tokenize=s(e.column(),a(e.column(),c)),"slimSwitch";if(e.match(/^doctype\b/))return t.tokenize=E,"keyword";var r=e.match(W);return r?D(r[1],t):_(e,t)}function T(e,t){return t.startOfLine?A(e,t):_(e,t)}function _(e,t){return e.eat("*")?(t.tokenize=l(F),null):e.match(J)?(t.tokenize=F,"slimTag"):M(e,t)}function F(e,t){return e.match(/^(<>?|><?)/)?(t.tokenize=M,null):M(e,t)}function M(e,t){return e.match(Y)?(t.tokenize=M,"slimId"):e.match(G)?(t.tokenize=M,"slimClass"):L(e,t)}function L(e,t){return e.match(/^([\[\{\(])/)?b(t,q[RegExp.$1],L):e.match(V)?(t.tokenize=P,"slimAttribute"):"*"==e.peek()?(e.next(),t.tokenize=l(I),null):I(e,t)}function P(e,t){return e.match(/^==?/)?(t.tokenize=N,null):L(e,t)}function N(e,t){var n=e.peek();return'"'==n||"'"==n?(t.tokenize=O(n,"string",!0,!1,L),e.next(),t.tokenize(e,t)):"["==n?l(L)(e,t):":"==n?l(B)(e,t):e.match(/^(true|false|nil)\b/)?(t.tokenize=L,"keyword"):l(L)(e,t)}function B(e,t){return e.backUp(1),e.match(/^[^\s],(?=:)/)?(t.tokenize=l(B),null):(e.next(),L(e,t))}function O(e,t,n,r,s){return function(a,l){o(l);var c=0==a.current().length;if(a.match(/^\\$/,c))return c?(i(l,l.indented),"lineContinuation"):t;if(a.match(/^#\{/,c))return c?(l.tokenize=u("}",l.tokenize),null):t;for(var h,f=!1;null!=(h=a.next());){if(h==e&&(r||!f)){l.tokenize=s;break}if(n&&"#"==h&&!f&&a.eat("{")){a.backUp(2);break}f=!f&&"\\"==h}return a.eol()&&f&&a.backUp(1),t}}function I(e,t){return e.match(/^==?/)?(t.tokenize=c,"slimSwitch"):e.match(/^\/$/)?(t.tokenize=T,null):e.match(/^:/)?(t.tokenize=_,"slimSwitch"):(p(e,t,0),t.tokenize(e,t))}var z=e.getMode(t,{name:"htmlmixed"}),j=e.getMode(t,"ruby"),R={html:z,ruby:j},H={ruby:"ruby",javascript:"javascript",css:"text/css",sass:"text/x-sass",scss:"text/x-scss",less:"text/x-less",styl:"text/x-styl",coffee:"coffeescript",asciidoc:"text/x-asciidoc",markdown:"text/x-markdown",textile:"text/x-textile",creole:"text/x-creole",wiki:"text/x-wiki",mediawiki:"text/x-mediawiki",rdoc:"text/x-rdoc",builder:"text/x-builder",nokogiri:"text/x-nokogiri",erb:"application/x-erb"},W=function(e){var t=[];for(var n in e)t.push(n);return new RegExp("^("+t.join("|")+"):")}(H),U={commentLine:"comment",slimSwitch:"operator special",slimTag:"tag",slimId:"attribute def",slimClass:"attribute qualifier",slimAttribute:"attribute",slimSubmode:"keyword special",closeAttributeTag:null,slimDoctype:null,lineContinuation:null},q={"{":"}","[":"]","(":")"},$="_a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd",X=$+"\\-0-9\xb7\u0300-\u036f\u203f-\u2040",J=new RegExp("^[:"+$+"](?::["+X+"]|["+X+"]*)"),V=new RegExp("^[:"+$+"][:\\."+X+"]*(?=\\s*=)"),K=new RegExp("^[:"+$+"][:\\."+X+"]*"),G=/^\.-?[_a-zA-Z]+[\w\-]*/,Y=/^#[_a-zA-Z]+[\w\-]*/,Z={startState:function(){var t=e.startState(z),n=e.startState(j);return{htmlState:t,rubyState:n,stack:null,last:null,tokenize:T,line:T,indented:0}},copyState:function(t){return{htmlState:e.copyState(z,t.htmlState),rubyState:e.copyState(j,t.rubyState),subMode:t.subMode,subState:t.subMode&&e.copyState(t.subMode,t.subState),stack:t.stack,last:t.last,tokenize:t.tokenize,line:t.line}},token:function(e,t){if(e.sol())for(t.indented=e.indentation(),t.startOfLine=!0,t.tokenize=t.line;t.stack&&t.stack.indented>t.indented&&"slimSubmode"!=t.last;)t.line=t.tokenize=t.stack.tokenize,t.stack=t.stack.parent,t.subMode=null,t.subState=null;if(e.eatSpace())return null;var n=t.tokenize(e,t);return t.startOfLine=!1,n&&(t.last=n),U.hasOwnProperty(n)?U[n]:n},blankLine:function(e){if(e.subMode&&e.subMode.blankLine)return e.subMode.blankLine(e.subState)},innerMode:function(e){return e.subMode?{state:e.subState,mode:e.subMode}:{state:e,mode:Z}}};return Z},"htmlmixed","ruby"),e.defineMIME("text/x-slim","slim"),e.defineMIME("application/x-slim","slim")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return p=t,e}function i(e,t){var n=e.next();if(v[n]){var i=v[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=s,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function s(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),r(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function u(e,t,n,r){return e.context=new a(n,t.indentation()+(r===!1?0:g),e.context),n}function l(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,n){return M[n.context.type](e,t,n)}function h(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function f(e){var t=e.current().toLowerCase();m=A.hasOwnProperty(t)?"atom":E.hasOwnProperty(t)?"keyword":"variable"}var d=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var p,m,g=t.indentUnit,v=n.tokenHooks,y=n.documentTypes||{},x=n.mediaTypes||{},b=n.mediaFeatures||{},w=n.mediaValueKeywords||{},k=n.propertyKeywords||{},C=n.nonStandardPropertyKeywords||{},S=n.fontProperties||{},D=n.counterDescriptors||{},E=n.colorKeywords||{},A=n.valueKeywords||{},T=n.allowNested,_=n.lineComment,F=n.supportsAtComponent===!0,M={};return M.top=function(e,t,n){if("{"==e)return u(n,t,"block");if("}"==e&&n.context.prev)return l(n);if(F&&/@component/.test(e))return u(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return u(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return u(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return u(n,t,"at");if("hash"==e)m="builtin";else if("word"==e)m="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return u(n,t,"interpolation");if(":"==e)return"pseudo";if(T&&"("==e)return u(n,t,"parens")}return n.context.type},M.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return k.hasOwnProperty(r)?(m="property","maybeprop"):C.hasOwnProperty(r)?(m="string-2","maybeprop"):T?(m=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return"meta"==e?"block":T||"hash"!=e&&"qualifier"!=e?M.top(e,t,n):(m="error","block")},M.maybeprop=function(e,t,n){return":"==e?u(n,t,"prop"):c(e,t,n)},M.prop=function(e,t,n){if(";"==e)return l(n);if("{"==e&&T)return u(n,t,"propBlock");if("}"==e||"{"==e)return h(e,t,n);if("("==e)return u(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)f(t);else if("interpolation"==e)return u(n,t,"interpolation")}else m+=" error";return"prop"},M.propBlock=function(e,t,n){return"}"==e?l(n):"word"==e?(m="property","maybeprop"):n.context.type},M.parens=function(e,t,n){return"{"==e||"}"==e?h(e,t,n):")"==e?l(n):"("==e?u(n,t,"parens"):"interpolation"==e?u(n,t,"interpolation"):("word"==e&&f(t),"parens")},M.pseudo=function(e,t,n){return"meta"==e?"pseudo":"word"==e?(m="variable-3",n.context.type):c(e,t,n)},M.documentTypes=function(e,t,n){return"word"==e&&y.hasOwnProperty(t.current())?(m="tag",n.context.type):M.atBlock(e,t,n)},M.atBlock=function(e,t,n){if("("==e)return u(n,t,"atBlock_parens");if("}"==e||";"==e)return h(e,t,n);if("{"==e)return l(n)&&u(n,t,T?"block":"top");if("interpolation"==e)return u(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();m="only"==r||"not"==r||"and"==r||"or"==r?"keyword":x.hasOwnProperty(r)?"attribute":b.hasOwnProperty(r)?"property":w.hasOwnProperty(r)?"keyword":k.hasOwnProperty(r)?"property":C.hasOwnProperty(r)?"string-2":A.hasOwnProperty(r)?"atom":E.hasOwnProperty(r)?"keyword":"error"}return n.context.type},M.atComponentBlock=function(e,t,n){return"}"==e?h(e,t,n):"{"==e?l(n)&&u(n,t,T?"block":"top",!1):("word"==e&&(m="error"),n.context.type)},M.atBlock_parens=function(e,t,n){return")"==e?l(n):"{"==e||"}"==e?h(e,t,n,2):M.atBlock(e,t,n)},M.restricted_atBlock_before=function(e,t,n){return"{"==e?u(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(m="variable","restricted_atBlock_before"):c(e,t,n)},M.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,l(n)):"word"==e?(m="@font-face"==n.stateArg&&!S.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!D.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},M.keyframes=function(e,t,n){return"word"==e?(m="variable","keyframes"):"{"==e?u(n,t,"top"):c(e,t,n)},M.at=function(e,t,n){return";"==e?l(n):"{"==e||"}"==e?h(e,t,n):("word"==e?m="tag":"hash"==e&&(m="builtin"),"at")},M.interpolation=function(e,t,n){return"}"==e?l(n):"{"==e||";"==e?h(e,t,n):("word"==e?m="variable":"variable"!=e&&"("!=e&&")"!=e&&(m="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:d?"block":"top",stateArg:null,context:new a(d?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(p=n[1],n=n[0]),m=n,"comment"!=p&&(t.state=M[t.state](p,e,t)),m},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-g)):(n=n.prev,i=n.indent)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:_,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],i=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],u=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(l),h=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","isolate","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],f=t(h),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],p=t(d),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=t(m),v=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],y=t(v),x=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=t(x),w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","isolate","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],k=t(w),C=r.concat(o).concat(a).concat(l).concat(h).concat(d).concat(x).concat(w);
e.registerHelper("hintWords","css",C),e.defineMIME("text/css",{documentTypes:i,mediaTypes:s,mediaFeatures:u,mediaValueKeywords:c,propertyKeywords:f,nonStandardPropertyKeywords:p,fontProperties:g,counterDescriptors:y,colorKeywords:b,valueKeywords:k,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:u,mediaValueKeywords:c,propertyKeywords:f,nonStandardPropertyKeywords:p,colorKeywords:b,valueKeywords:k,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:u,mediaValueKeywords:c,propertyKeywords:f,nonStandardPropertyKeywords:p,colorKeywords:b,valueKeywords:k,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:s,mediaFeatures:u,propertyKeywords:f,nonStandardPropertyKeywords:p,fontProperties:g,counterDescriptors:y,colorKeywords:b,valueKeywords:k,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("sass",function(t){function n(e){return new RegExp("^"+e.join("|"))}function r(e){return!e.peek()||e.match(/\s+$/,!1)}function i(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=c,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=s(e.next()),"string"):(t.tokenizer=s(")",!1),"string")}function o(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=c,c(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=c):n.skipToEnd(),"comment")}}function s(e,t){function n(i,o){var s=i.next(),u=i.peek(),l=i.string.charAt(i.pos-2),h="\\"!==s&&u===e||s===e&&"\\"!==l;return h?(s!==e&&t&&i.next(),r(i)&&(o.cursorHalf=0),o.tokenizer=c,"string"):"#"===s&&"{"===u?(o.tokenizer=a(n),i.next(),"operator"):"string"}return null==t&&(t=!0),n}function a(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):c(t,n)}}function u(e){if(0==e.indentCount){e.indentCount++;var n=e.scopes[0].offset,r=n+t.indentUnit;e.scopes.unshift({offset:r})}}function l(e){1!=e.scopes.length&&e.scopes.shift()}function c(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=o(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=o(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=a(c),"operator";if('"'===n||"'"===n)return e.next(),t.tokenizer=s(n),"string";if(t.cursorHalf){if("#"===n&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return r(e)&&(t.cursorHalf=0),"unit";if(e.match(x))return r(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,r(e)&&(t.cursorHalf=0),"atom";if("$"===n)return e.next(),e.eatWhile(/[\w-]/),r(e)&&(t.cursorHalf=0),"variable-2";if("!"===n)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(w))return r(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return r(e)&&(t.cursorHalf=0),f=e.current().toLowerCase(),g.hasOwnProperty(f)?"atom":m.hasOwnProperty(f)?"keyword":p.hasOwnProperty(f)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(r(e))return t.cursorHalf=0,null}else{if("-"===n&&e.match(/^-\w+-/))return"meta";if("."===n){if(e.next(),e.match(/^[\w-]+/))return u(t),"qualifier";if("#"===e.peek())return u(t),"tag"}if("#"===n){if(e.next(),e.match(/^[\w-]+/))return u(t),"builtin";if("#"===e.peek())return u(t),"tag"}if("$"===n)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(x))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,"atom";if("="===n&&e.match(/^=[\w-]+/))return u(t),"meta";if("+"===n&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===n&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||l(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return u(t),"def";if("@"===n)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){f=e.current().toLowerCase();var h=t.prevProp+"-"+f;return p.hasOwnProperty(h)?"property":p.hasOwnProperty(f)?(t.prevProp=f,"property"):v.hasOwnProperty(f)?"property":"tag"}return e.match(/ *:/,!1)?(u(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):e.match(/ *,/,!1)?"tag":(u(t),"tag")}if(":"===n)return e.match(k)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(w)?"operator":(e.next(),null)}function h(e,n){e.sol()&&(n.indentCount=0);var r=n.tokenizer(e,n),i=e.current();if("@return"!==i&&"}"!==i||l(n),null!==r){for(var o=e.pos-i.length,s=o+t.indentUnit*n.indentCount,a=[],u=0;u<n.scopes.length;u++){var c=n.scopes[u];c.offset<=s&&a.push(c)}n.scopes=a}return r}var f,d=e.mimeModes["text/css"],p=d.propertyKeywords||{},m=d.colorKeywords||{},g=d.valueKeywords||{},v=d.fontProperties||{},y=["true","false","null","auto"],x=new RegExp("^"+y.join("|")),b=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],w=n(b),k=/^::?[a-zA-Z_][\w\-]*/;return{startState:function(){return{tokenizer:c,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=h(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}},"css"),e.defineMIME("text/x-sass","sass")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){return e=e.sort(function(e,t){return t>e}),new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function r(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.defineMode("stylus",function(e){function g(e,t){if(ie=e.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),t.context.line.firstWord=ie?ie[0].replace(/^\s*/,""):"",t.context.line.indent=e.indentation(),O=e.peek(),e.match("//"))return e.skipToEnd(),["comment","comment"];if(e.match("/*"))return t.tokenize=v,v(e,t);if('"'==O||"'"==O)return e.next(),t.tokenize=y(O),t.tokenize(e,t);if("@"==O)return e.next(),e.eatWhile(/[\w\\-]/),["def",e.current()];if("#"==O){if(e.next(),e.match(/^[0-9a-f]{6}|[0-9a-f]{3}/i))return["atom","atom"];if(e.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return e.match(ne)?["meta","vendor-prefixes"]:e.match(/^-?[0-9]?\.?[0-9]/)?(e.eatWhile(/[a-z%]/i),["number","unit"]):"!"==O?(e.next(),[e.match(/^(important|optional)/i)?"keyword":"operator","important"]):"."==O&&e.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:e.match(K)?("("==e.peek()&&(t.tokenize=x),["property","word"]):e.match(/^[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","mixin"]):e.match(/^(\+|-)[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","block-mixin"]):e.string.match(/^\s*&/)&&e.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:e.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(e.backUp(1),["variable-3","reference"]):e.match(/^&{1}\s*$/)?["variable-3","reference"]:e.match(ee)?["operator","operator"]:e.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?e.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!D(e.current())?(e.match(/\./),["variable-2","variable-name"]):["variable-2","word"]:e.match(Q)?["operator",e.current()]:/[:;,{}\[\]\(\)]/.test(O)?(e.next(),[null,O]):(e.next(),[null,null])}function v(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function y(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),["string","string"]}}function x(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=y(")"),[null,"("]}function b(e,t,n,r){this.type=e,this.indent=t,this.prev=n,this.line=r||{firstWord:"",indent:0}}function w(e,t,n,r){return r=r>=0?r:R,e.context=new b(n,t.indentation()+r,e.context),n}function k(e,t){var n=e.context.indent-R;return t=t||!1,e.context=e.context.prev,t&&(e.context.indent=n),e.context.type}function C(e,t,n){return oe[n.context.type](e,t,n)}function S(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return C(e,t,n)}function D(e){return e.toLowerCase()in W}function E(e){return e=e.toLowerCase(),e in q||e in Z}function A(e){return e.toLowerCase()in te}function T(e){return e.toLowerCase().match(ne)}function _(e){var t=e.toLowerCase(),n="variable-2";return D(e)?n="tag":A(e)?n="block-keyword":E(e)?n="property":t in X||t in re?n="atom":"return"==t||t in J?n="keyword":e.match(/^[A-Z]/)&&(n="string"),n}function F(e,t){return N(t)&&("{"==e||"]"==e||"hash"==e||"qualifier"==e)||"block-mixin"==e}function M(e,t){return"{"==e&&t.match(/^\s*\$?[\w-]+/i,!1)}function L(e,t){return":"==e&&t.match(/^[a-z-]+/,!1)}function P(e){return e.sol()||e.string.match(new RegExp("^\\s*"+r(e.current())))}function N(e){return e.eol()||e.match(/^\s*$/,!1)}function B(e){var t=/^\s*[-_]*[a-z0-9]+[\w-]*/i,n="string"==typeof e?e.match(t):e.string.match(t);return n?n[0].replace(/^\s*/,""):""}for(var O,I,z,j,R=e.indentUnit,H="",W=n(i),U=/^(a|b|i|s|col|em)$/i,q=n(u),$=n(l),X=n(f),J=n(h),V=n(o),K=t(o),G=n(a),Y=n(s),Z=n(c),Q=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,ee=t(d),te=n(p),ne=new RegExp(/^\-(moz|ms|o|webkit)-/i),re=n(m),ie="",oe={};H.length<R;)H+=" ";return oe.block=function(e,t,n){if("comment"==e&&P(t)||","==e&&N(t)||"mixin"==e)return w(n,t,"block",0);if(M(e,t))return w(n,t,"interpolation");if(N(t)&&"]"==e&&!/^\s*(\.|#|:|\[|\*|&)/.test(t.string)&&!D(B(t)))return w(n,t,"block",0);if(F(e,t))return w(n,t,"block");if("}"==e&&N(t))return w(n,t,"block",0);if("variable-name"==e)return t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||A(B(t))?w(n,t,"variableName"):w(n,t,"variableName",0);if("="==e)return N(t)||A(B(t))?w(n,t,"block"):w(n,t,"block",0);if("*"==e&&(N(t)||t.match(/\s*(,|\.|#|\[|:|{)/,!1)))return j="tag",w(n,t,"block");if(L(e,t))return w(n,t,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(e))return w(n,t,N(t)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return w(n,t,"keyframes");if(/@extends?/.test(e))return w(n,t,"extend",0);if(e&&"@"==e.charAt(0))return t.indentation()>0&&E(t.current().slice(1))?(j="variable-2","block"):/(@import|@require|@charset)/.test(e)?w(n,t,"block",0):w(n,t,"block");if("reference"==e&&N(t))return w(n,t,"block");if("("==e)return w(n,t,"parens");if("vendor-prefixes"==e)return w(n,t,"vendorPrefixes");if("word"==e){var r=t.current();if(j=_(r),"property"==j)return P(t)?w(n,t,"block",0):(j="atom","block");if("tag"==j){if(/embed|menu|pre|progress|sub|table/.test(r)&&E(B(t)))return j="atom","block";if(t.string.match(new RegExp("\\[\\s*"+r+"|"+r+"\\s*\\]")))return j="atom","block";if(U.test(r)&&(P(t)&&t.string.match(/=/)||!P(t)&&!t.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!D(B(t))))return j="variable-2",A(B(t))?"block":w(n,t,"block",0);if(N(t))return w(n,t,"block")}if("block-keyword"==j)return j="keyword",t.current(/(if|unless)/)&&!P(t)?"block":w(n,t,"block");if("return"==r)return w(n,t,"block",0);if("variable-2"==j&&t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return w(n,t,"block")}return n.context.type},oe.parens=function(e,t,n){if("("==e)return w(n,t,"parens");if(")"==e)return"parens"==n.context.prev.type?k(n):t.string.match(/^[a-z][\w-]*\(/i)&&N(t)||A(B(t))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(B(t))||!t.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&D(B(t))?w(n,t,"block"):t.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||t.string.match(/^\s*(\(|\)|[0-9])/)||t.string.match(/^\s+[a-z][\w-]*\(/i)||t.string.match(/^\s+[\$-]?[a-z]/i)?w(n,t,"block",0):N(t)?w(n,t,"block"):w(n,t,"block",0);if(e&&"@"==e.charAt(0)&&E(t.current().slice(1))&&(j="variable-2"),"word"==e){var r=t.current();j=_(r),"tag"==j&&U.test(r)&&(j="variable-2"),"property"!=j&&"to"!=r||(j="atom")}return"variable-name"==e?w(n,t,"variableName"):L(e,t)?w(n,t,"pseudo"):n.context.type},oe.vendorPrefixes=function(e,t,n){return"word"==e?(j="property",w(n,t,"block",0)):k(n)},oe.pseudo=function(e,t,n){return E(B(t.string))?S(e,t,n):(t.match(/^[a-z-]+/),j="variable-3",N(t)?w(n,t,"block"):k(n))},oe.atBlock=function(e,t,n){if("("==e)return w(n,t,"atBlock_parens");if(F(e,t))return w(n,t,"block");if(M(e,t))return w(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();if(j=/^(only|not|and|or)$/.test(r)?"keyword":V.hasOwnProperty(r)?"tag":Y.hasOwnProperty(r)?"attribute":G.hasOwnProperty(r)?"property":$.hasOwnProperty(r)?"string-2":_(t.current()),"tag"==j&&N(t))return w(n,t,"block")}return"operator"==e&&/^(not|and|or)$/.test(t.current())&&(j="keyword"),n.context.type},oe.atBlock_parens=function(e,t,n){if("{"==e||"}"==e)return n.context.type;if(")"==e)return N(t)?w(n,t,"block"):w(n,t,"atBlock");if("word"==e){var r=t.current().toLowerCase();return j=_(r),/^(max|min)/.test(r)&&(j="property"),"tag"==j&&(j=U.test(r)?"variable-2":"atom"),n.context.type}return oe.atBlock(e,t,n)},oe.keyframes=function(e,t,n){return"0"==t.indentation()&&("}"==e&&P(t)||"]"==e||"hash"==e||"qualifier"==e||D(t.current()))?S(e,t,n):"{"==e?w(n,t,"keyframes"):"}"==e?P(t)?k(n,!0):w(n,t,"keyframes"):"unit"==e&&/^[0-9]+\%$/.test(t.current())?w(n,t,"keyframes"):"word"==e&&(j=_(t.current()),"block-keyword"==j)?(j="keyword",w(n,t,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(e)?w(n,t,N(t)?"block":"atBlock"):"mixin"==e?w(n,t,"block",0):n.context.type},oe.interpolation=function(e,t,n){return"{"==e&&k(n)&&w(n,t,"block"),"}"==e?t.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||t.string.match(/^\s*[a-z]/i)&&D(B(t))?w(n,t,"block"):!t.string.match(/^(\{|\s*\&)/)||t.match(/\s*[\w-]/,!1)?w(n,t,"block",0):w(n,t,"block"):"variable-name"==e?w(n,t,"variableName",0):("word"==e&&(j=_(t.current()),"tag"==j&&(j="atom")),n.context.type)},oe.extend=function(e,t,n){return"["==e||"="==e?"extend":"]"==e?k(n):"word"==e?(j=_(t.current()),"extend"):k(n)},oe.variableName=function(e,t,n){return"string"==e||"["==e||"]"==e||t.current().match(/^(\.|\$)/)?(t.current().match(/^\.[\w-]+/i)&&(j="variable-2"),"variableName"):S(e,t,n)},{startState:function(e){return{tokenize:null,state:"block",context:new b("block",e||0,null)}},token:function(e,t){return!t.tokenize&&e.eatSpace()?null:(I=(t.tokenize||g)(e,t),I&&"object"==typeof I&&(z=I[1],I=I[0]),j=I,t.state=oe[t.state](z,e,t),j)},indent:function(e,t,n){var r=e.context,i=t&&t.charAt(0),o=r.indent,s=B(t),a=n.match(/^\s*/)[0].replace(/\t/g,H).length,u=e.context.prev?e.context.prev.line.firstWord:"",l=e.context.prev?e.context.prev.line.indent:a;return r.prev&&("}"==i&&("block"==r.type||"atBlock"==r.type||"keyframes"==r.type)||")"==i&&("parens"==r.type||"atBlock_parens"==r.type)||"{"==i&&"at"==r.type)?o=r.indent-R:/(\})/.test(i)||(/@|\$|\d/.test(i)||/^\{/.test(t)||/^\s*\/(\/|\*)/.test(t)||/^\s*\/\*/.test(u)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(t)||/^(\+|-)?[a-z][\w-]*\(/i.test(t)||/^return/.test(t)||A(s)?o=a:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(i)||D(s)?o=/\,\s*$/.test(u)?l:/^\s+/.test(n)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(u)||D(u))?a<=l?l:l+R:a:/,\s*$/.test(n)||!T(s)&&!E(s)||(o=A(u)?a<=l?l:l+R:/^\{/.test(u)?a<=l?a:l+R:T(u)||E(u)?a>=l?l:a:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(u)||/=\s*$/.test(u)||D(u)||/^\$[\w-\.\[\]\'\"]/.test(u)?l+R:a)),o},electricChars:"}",lineComment:"//",fold:"indent"}});var i=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],o=["domain","regexp","url","url-prefix"],s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],l=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],c=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],h=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],f=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],d=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],p=["for","if","else","unless","from","to"],m=["null","true","false","href","title","type","not-allowed","readonly","disabled"],g=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],v=i.concat(o,s,a,u,l,h,f,c,d,p,m,g);
e.registerHelper("hintWords","stylus",v),e.defineMIME("text/x-styl","stylus")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return De=e,Ee=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=s(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),i("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):Se(e,t,1)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=u,u(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(Ne.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),i("operator","operator",e.current());if(Le.test(n)){e.eatWhile(Le);var o=e.current();if("."!=t.lastType){if(Pe.propertyIsEnumerable(o)){var l=Pe[o];return i(l.type,l.style,o)}if("async"==o&&e.match(/^\s*[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function s(e){return function(t,n){var r,s=!1;if(_e&&"@"==t.peek()&&t.match(Be))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||s);)s=!s&&"\\"==r;return s||(n.tokenize=o),i("string","string")}}function a(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function u(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Me){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),u=Oe.indexOf(a);if(u>=0&&u<3){if(!i){++s;break}if(0==--i){"("==a&&(o=!0);break}}else if(u>=3&&u<6)++i;else if(Le.test(a))o=!0;else{if(/["'\/]/.test(a))return;if(o&&!i){++s;break}}}o&&!i&&(t.fatArrowAt=s)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function f(e,t,n,r,i){var o=e.cc;for(ze.state=e,ze.stream=i,ze.marked=null,ze.cc=o,ze.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():Fe?k:w;if(s(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return ze.marked?ze.marked:"variable"==n&&h(e,r)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)ze.cc.push(arguments[e])}function p(){return d.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=ze.state;if(ze.marked="def",r.context){if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(){ze.state.context={prev:ze.state.context,vars:ze.state.localVars},ze.state.localVars=je}function v(){ze.state.localVars=ze.state.context.vars,ze.state.context=ze.state.context.prev}function y(e,t){var n=function(){var n=ze.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,ze.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function x(){var e=ze.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){function t(n){return n==e?p():";"==e?d():p(t)}return t}function w(e,t){return"var"==e?p(y("vardef",t.length),Y,b(";"),x):"keyword a"==e?p(y("form"),S,w,x):"keyword b"==e?p(y("form"),w,x):"keyword d"==e?ze.stream.match(/^\s*$/,!1)?p():p(y("stat"),E,b(";"),x):"debugger"==e?p(b(";")):"{"==e?p(y("}"),U,x):";"==e?p():"if"==e?("else"==ze.state.lexical.info&&ze.state.cc[ze.state.cc.length-1]==x&&ze.state.cc.pop()(),p(y("form"),S,w,x,ne)):"function"==e?p(ue):"for"==e?p(y("form"),re,w,x):"variable"==e?Me&&"type"==t?(ze.marked="keyword",p($,b("operator"),$,b(";"))):Me&&"declare"==t?(ze.marked="keyword",p(w)):p(y("stat"),O):"switch"==e?p(y("form"),S,b("{"),y("}","switch"),U,x,x):"case"==e?p(k,b(":")):"default"==e?p(b(":")):"catch"==e?p(y("form"),g,b("("),le,b(")"),w,x,v):"class"==e?p(y("form"),he,x):"export"==e?p(y("stat"),me,x):"import"==e?p(y("stat"),ve,x):"module"==e?p(y("form"),Z,b("{"),y("}"),U,x,x):"async"==e?p(w):"@"==t?p(k,w):d(y("stat"),k,b(";"),x)}function k(e){return D(e,!1)}function C(e){return D(e,!0)}function S(e){return"("!=e?d():p(y(")"),k,b(")"),x)}function D(e,t){if(ze.state.fatArrowAt==ze.stream.start){var n=t?L:M;if("("==e)return p(g,y(")"),H(le,")"),x,b("=>"),n,v);if("variable"==e)return d(g,Z,b("=>"),n,v)}var r=t?T:A;return Ie.hasOwnProperty(e)?p(r):"function"==e?p(ue,r):"class"==e?p(y("form"),ce,x):"keyword c"==e||"async"==e?p(t?C:k):"("==e?p(y(")"),E,b(")"),x,r):"operator"==e||"spread"==e?p(t?C:k):"["==e?p(y("]"),ke,x,r):"{"==e?W(z,"}",null,r):"quasi"==e?d(_,r):"new"==e?p(P(t)):p()}function E(e){return e.match(/[;\}\)\],]/)?d():d(k)}function A(e,t){return","==e?p(k):T(e,t,!1)}function T(e,t,n){var r=0==n?A:T,i=0==n?k:C;return"=>"==e?p(g,n?L:M,v):"operator"==e?/\+\+|--/.test(t)||Me&&"!"==t?p(r):"?"==t?p(k,b(":"),i):p(i):"quasi"==e?d(_,r):";"!=e?"("==e?W(C,")","call",r):"."==e?p(I,r):"["==e?p(y("]"),E,b("]"),x,r):Me&&"as"==t?(ze.marked="keyword",p($,r)):"regexp"==e?(ze.state.lastType=ze.marked="operator",ze.stream.backUp(ze.stream.pos-ze.stream.start-1),p(i)):void 0:void 0}function _(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?p(_):p(k,F)}function F(e){if("}"==e)return ze.marked="string-2",ze.state.tokenize=u,p(_)}function M(e){return l(ze.stream,ze.state),d("{"==e?w:k)}function L(e){return l(ze.stream,ze.state),d("{"==e?w:C)}function P(e){return function(t){return"."==t?p(e?B:N):"variable"==t&&Me?p(G,e?T:A):d(e?C:k)}}function N(e,t){if("target"==t)return ze.marked="keyword",p(A)}function B(e,t){if("target"==t)return ze.marked="keyword",p(T)}function O(e){return":"==e?p(x,w):d(A,b(";"),x)}function I(e){if("variable"==e)return ze.marked="property",p()}function z(e,t){if("async"==e)return ze.marked="property",p(z);if("variable"==e||"keyword"==ze.style){if(ze.marked="property","get"==t||"set"==t)return p(j);var n;return Me&&ze.state.fatArrowAt==ze.stream.start&&(n=ze.stream.match(/^\s*:\s*/,!1))&&(ze.state.fatArrowAt=ze.stream.pos+n[0].length),p(R)}return"number"==e||"string"==e?(ze.marked=_e?"property":ze.style+" property",p(R)):"jsonld-keyword"==e?p(R):"modifier"==e?p(z):"["==e?p(k,b("]"),R):"spread"==e?p(C,R):"*"==t?(ze.marked="keyword",p(z)):":"==e?d(R):void 0}function j(e){return"variable"!=e?d(R):(ze.marked="property",p(ue))}function R(e){return":"==e?p(C):"("==e?d(ue):void 0}function H(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var s=ze.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),p(function(n,r){return n==t||r==t?d():d(e)},r)}return i==t||o==t?p():p(b(t))}return function(n,i){return n==t||i==t?p():d(e,r)}}function W(e,t,n){for(var r=3;r<arguments.length;r++)ze.cc.push(arguments[r]);return p(y(t,n),H(e,t),x)}function U(e){return"}"==e?p():d(w,U)}function q(e,t){if(Me){if(":"==e)return p($);if("?"==t)return p(q)}}function $(e,t){return"variable"==e||"void"==t?"keyof"==t?(ze.marked="keyword",p($)):(ze.marked="type",p(K)):"string"==e||"number"==e||"atom"==e?p(K):"["==e?p(y("]"),H($,"]",","),x,K):"{"==e?p(y("}"),H(J,"}",",;"),x,K):"("==e?p(H(V,")"),X):void 0}function X(e){if("=>"==e)return p($)}function J(e,t){return"variable"==e||"keyword"==ze.style?(ze.marked="property",p(J)):"?"==t?p(J):":"==e?p($):"["==e?p(k,q,b("]"),J):void 0}function V(e){return"variable"==e?p(V):":"==e?p($):void 0}function K(e,t){return"<"==t?p(y(">"),H($,">"),x,K):"|"==t||"."==e?p($):"["==e?p(b("]"),K):"extends"==t?p($):void 0}function G(e,t){if("<"==t)return p(y(">"),H($,">"),x,K)}function Y(){return d(Z,q,ee,te)}function Z(e,t){return"modifier"==e?p(Z):"variable"==e?(m(t),p()):"spread"==e?p(Z):"["==e?W(Z,"]"):"{"==e?W(Q,"}"):void 0}function Q(e,t){return"variable"!=e||ze.stream.match(/^\s*:/,!1)?("variable"==e&&(ze.marked="property"),"spread"==e?p(Z):"}"==e?d():p(b(":"),Z,ee)):(m(t),p(ee))}function ee(e,t){if("="==t)return p(C)}function te(e){if(","==e)return p(Y)}function ne(e,t){if("keyword b"==e&&"else"==t)return p(y("form","else"),w,x)}function re(e){if("("==e)return p(y(")"),ie,b(")"),x)}function ie(e){return"var"==e?p(Y,b(";"),se):";"==e?p(se):"variable"==e?p(oe):d(k,b(";"),se)}function oe(e,t){return"in"==t||"of"==t?(ze.marked="keyword",p(k)):p(A,se)}function se(e,t){return";"==e?p(ae):"in"==t||"of"==t?(ze.marked="keyword",p(k)):d(k,b(";"),ae)}function ae(e){")"!=e&&p(k)}function ue(e,t){return"*"==t?(ze.marked="keyword",p(ue)):"variable"==e?(m(t),p(ue)):"("==e?p(g,y(")"),H(le,")"),x,q,w,v):Me&&"<"==t?p(y(">"),H($,">"),x,ue):void 0}function le(e,t){return"@"==t&&p(k,le),"spread"==e||"modifier"==e?p(le):d(Z,q,ee)}function ce(e,t){return"variable"==e?he(e,t):fe(e,t)}function he(e,t){if("variable"==e)return m(t),p(fe)}function fe(e,t){return"<"==t?p(y(">"),H($,">"),x,fe):"extends"==t||"implements"==t||Me&&","==e?p(Me?$:k,fe):"{"==e?p(y("}"),de,x):void 0}function de(e,t){return"modifier"==e||"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t)&&ze.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(ze.marked="keyword",p(de)):"variable"==e||"keyword"==ze.style?(ze.marked="property",p(Me?pe:ue,de)):"["==e?p(k,b("]"),Me?pe:ue,de):"*"==t?(ze.marked="keyword",p(de)):";"==e?p(de):"}"==e?p():"@"==t?p(k,de):void 0}function pe(e,t){return"?"==t?p(pe):":"==e?p($,ee):"="==t?p(C):d(ue)}function me(e,t){return"*"==t?(ze.marked="keyword",p(we,b(";"))):"default"==t?(ze.marked="keyword",p(k,b(";"))):"{"==e?p(H(ge,"}"),we,b(";")):d(w)}function ge(e,t){return"as"==t?(ze.marked="keyword",p(b("variable"))):"variable"==e?d(C,ge):void 0}function ve(e){return"string"==e?p():d(ye,xe,we)}function ye(e,t){return"{"==e?W(ye,"}"):("variable"==e&&m(t),"*"==t&&(ze.marked="keyword"),p(be))}function xe(e){if(","==e)return p(ye,xe)}function be(e,t){if("as"==t)return ze.marked="keyword",p(ye)}function we(e,t){if("from"==t)return ze.marked="keyword",p(k)}function ke(e){return"]"==e?p():d(H(C,"]"))}function Ce(e,t){return"operator"==e.lastType||","==e.lastType||Ne.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Se(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var De,Ee,Ae=t.indentUnit,Te=n.statementIndent,_e=n.jsonld,Fe=n.json||_e,Me=n.typescript,Le=n.wordCharacters||/[\w$\xa1-\uffff]/,Pe=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),s={type:"atom",style:"atom"},a={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":e("new"),"delete":r,"void":r,"throw":r,"debugger":e("debugger"),"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":s,"false":s,"null":s,undefined:s,NaN:s,Infinity:s,"this":e("this"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r,await:r};if(Me){var u={type:"variable",style:"type"},l={"interface":e("class"),"implements":r,namespace:r,module:e("module"),"enum":e("module"),"public":e("modifier"),"private":e("modifier"),"protected":e("modifier"),"abstract":e("modifier"),readonly:e("modifier"),string:u,number:u,"boolean":u,any:u};for(var c in l)a[c]=l[c]}return a}(),Ne=/[+\-*&%=<>!?|~^@]/,Be=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Oe="([{}])",Ie={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},ze={state:null,column:null,marked:null,cc:null},je={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-Ae,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=a&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==De?n:(t.lastType="operator"!=De||"++"!=Ee&&"--"!=Ee?De:"incdec",f(t,n,De,Ee,e))},indent:function(t,r){if(t.tokenize==a)return e.Pass;if(t.tokenize!=o)return 0;var i,s=r&&r.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==x)u=u.prev;else if(c!=ne)break}for(;("stat"==u.type||"form"==u.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==A||i==T)&&!/^[,\.=+\-*:?[\(]/.test(r));)u=u.prev;Te&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var h=u.type,f=s==h;return"vardef"==h?u.indented+("operator"==t.lastType||","==t.lastType?u.info+1:0):"form"==h&&"{"==s?u.indented:"form"==h?u.indented+Ae:"stat"==h?u.indented+(Ce(t,r)?Te||Ae:0):"switch"!=u.info||f||0==n.doubleIndentSwitch?u.align?u.column+(f?0:1):u.indented+(f?0:Ae):u.indented+(/^(?:case|default)\b/.test(r)?Ae:2*Ae)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Fe?null:"/*",blockCommentEnd:Fe?null:"*/",blockCommentContinue:Fe?null:" * ",lineComment:Fe?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Fe?"json":"javascript",jsonldMode:_e,jsonMode:Fe,expressionAllowed:Se,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=k&&t!=C||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("coffeescript",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function r(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var n=t.scope.offset;if(e.eatSpace()){var r=e.indentation();return r>n&&"coffee"==t.scope.type?"indent":r<n?"dedent":null}n>0&&a(e,t)}if(e.eatSpace())return null;var s=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=o,t.tokenize(e,t);if("#"===s)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var u=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(u=!0),e.match(/^-?\d+\.\d*/)&&(u=!0),e.match(/^-?\.\d+/)&&(u=!0),u)return"."==e.peek()&&e.backUp(1),"number";var m=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(m=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(m=!0),e.match(/^-?0(?![\dx])/i)&&(m=!0),m)return"number"}if(e.match(y))return t.tokenize=i(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(x)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=i(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(c)||e.match(p)?"operator":e.match(h)?"punctuation":e.match(w)?"atom":e.match(d)||t.prop&&e.match(f)?"property":e.match(v)?"keyword":e.match(f)?"variable":(e.next(),l)}function i(e,n,i){return function(o,s){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return i}else{if(o.match(e))return s.tokenize=r,i;o.eat(/['"\/]/)}return n&&(t.singleLineStringErrors?i=l:s.tokenize=r),i}}function o(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=r;break}e.eatWhile("#")}return"comment"}function s(t,n,r){r=r||"coffee";for(var i=0,o=!1,s=null,a=n.scope;a;a=a.prev)if("coffee"===a.type||"}"==a.type){i=a.offset+e.indentUnit;break}"coffee"!==r?(o=null,s=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:i,type:r,prev:n.scope,align:o,alignOffset:s}}function a(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,i=t.scope;i;i=i.prev)if(n===i.offset){r=!0;break}if(!r)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function u(e,t){var n=t.tokenize(e,t),r=e.current();"return"===r&&(t.dedent=!0),(("->"===r||"=>"===r)&&e.eol()||"indent"===n)&&s(e,t);var i="[({".indexOf(r);if(i!==-1&&s(e,t,"])}".slice(i,i+1)),m.exec(r)&&s(e,t),"then"==r&&a(e,t),"dedent"===n&&a(e,t))return l;if(i="])}".indexOf(r),i!==-1){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==r&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),n}var l="error",c=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,h=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,f=/^[_A-Za-z$][_A-Za-z$0-9]*/,d=/^@[_A-Za-z$][_A-Za-z$0-9]*/,p=n(["and","or","not","is","isnt","in","instanceof","typeof"]),m=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],g=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],v=n(m.concat(g));m=n(m);var y=/^('{3}|\"{3}|['\"])/,x=/^(\/{3}|\/)/,b=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],w=n(b),k={startState:function(e){return{tokenize:r,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var r=u(e,t);return r&&"comment"!=r&&(n&&(n.align=!0),t.prop="punctuation"==r&&"."==e.current()),r},indent:function(e,t){if(e.tokenize!=r)return 0;var n=e.scope,i=t&&"])}".indexOf(t.charAt(0))>-1;if(i)for(;"coffee"==n.type&&n.prev;)n=n.prev;var o=i&&n.type===t.charAt(0);return n.align?n.alignOffset-(o?1:0):(o?n.prev:n).offset},lineComment:"#",fold:"indent"};return k}),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("livescript",function(){var e=function(e,t){var n=t.next||"start";if(n){t.next=t.next;var r=o[n];if(r.splice){for(var i=0;i<r.length;++i){var s=r[i];if(s.regex&&e.match(s.regex))return t.next=s.next||t.next,s.token}return e.next(),"error"}if(e.match(s=o[n]))return s.regex&&e.match(s.regex)?(t.next=s.next,s.token):(e.next(),"error")}return e.next(),"error"},t={startState:function(){return{next:"start",lastToken:{style:null,indent:0,content:""}}},token:function(t,n){for(;t.pos==t.start;)var r=e(t,n);return n.lastToken={style:r,indent:t.indentation(),content:t.current()},r.replace(/\./g," ")},indent:function(e){var t=e.lastToken.indent;return e.lastToken.content.match(n)&&(t+=2),t}};return t});var t="(?![\\d\\s])[$\\w\\xAA-\\uFFDC](?:(?!\\s)[$\\w\\xAA-\\uFFDC]|-[A-Za-z])*",n=RegExp("(?:[({[=:]|[-~]>|\\b(?:e(?:lse|xport)|d(?:o|efault)|t(?:ry|hen)|finally|import(?:\\s*all)?|const|var|let|new|catch(?:\\s*"+t+")?))\\s*$"),r="(?![$\\w]|-[A-Za-z]|\\s*:(?![:=]))",i={token:"string",regex:".+"},o={start:[{token:"comment.doc",regex:"/\\*",next:"comment"},{token:"comment",regex:"#.*"},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof!?)|c(?:on(?:tinue|st)|a(?:se|tch)|lass)|i(?:n(?:stanceof)?|mp(?:ort(?:\\s+all)?|lements)|[fs])|d(?:e(?:fault|lete|bugger)|o)|f(?:or(?:\\s+own)?|inally|unction)|s(?:uper|witch)|e(?:lse|x(?:tends|port)|val)|a(?:nd|rguments)|n(?:ew|ot)|un(?:less|til)|w(?:hile|ith)|o[fr]|return|break|let|var|loop)"+r},{token:"constant.language",regex:"(?:true|false|yes|no|on|off|null|void|undefined)"+r},{token:"invalid.illegal",regex:"(?:p(?:ackage|r(?:ivate|otected)|ublic)|i(?:mplements|nterface)|enum|static|yield)"+r},{token:"language.support.class",regex:"(?:R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|Array|Boolean|Date|Function|Number|Object|TypeError|URIError)"+r},{token:"language.support.function",regex:"(?:is(?:NaN|Finite)|parse(?:Int|Float)|Math|JSON|(?:en|de)codeURI(?:Component)?)"+r},{token:"variable.language",regex:"(?:t(?:hat|il|o)|f(?:rom|allthrough)|it|by|e)"+r},{token:"identifier",regex:t+"\\s*:(?![:=])"},{token:"variable",regex:t},{token:"keyword.operator",regex:"(?:\\.{3}|\\s+\\?)"},{token:"keyword.variable",regex:"(?:@+|::|\\.\\.)",next:"key"},{token:"keyword.operator",regex:"\\.\\s*",next:"key"},{token:"string",regex:"\\\\\\S[^\\s,;)}\\]]*"},{token:"string.doc",regex:"'''",next:"qdoc"},{token:"string.doc",regex:'"""',next:"qqdoc"},{token:"string",regex:"'",next:"qstring"},{token:"string",regex:'"',next:"qqstring"},{token:"string",regex:"`",next:"js"},{token:"string",regex:"<\\[",next:"words"},{token:"string.regex",regex:"//",next:"heregex"},{token:"string.regex",regex:"\\/(?:[^[\\/\\n\\\\]*(?:(?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[\\/\\n\\\\]*)*)\\/[gimy$]{0,4}",next:"key"},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F][\\da-fA-F_]*|(?:[2-9]|[12]\\d|3[0-6])r[\\da-zA-Z][\\da-zA-Z_]*|(?:\\d[\\d_]*(?:\\.\\d[\\d_]*)?|\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[\\w$]*)"},{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[)}\\]]",next:"key"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?//[gimy$?]{0,4}",next:"start"},{token:"string.regex",regex:"\\s*#{"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],key:[{token:"keyword.operator",regex:"[.?@!]+"},{token:"identifier",regex:t,next:"start"},{token:"text",regex:"",next:"start"}],comment:[{token:"comment.doc",regex:".*?\\*/",next:"start"},{token:"comment.doc",regex:".+"}],qdoc:[{token:"string",regex:".*?'''",next:"key"},i],qqdoc:[{token:"string",regex:'.*?"""',next:"key"},i],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"key"},i],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"key"},i],js:[{token:"string",regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"key"},i],words:[{token:"string",regex:".*?\\]>",next:"key"},i]};for(var s in o){var a=o[s];if(a.splice)for(var u=0,l=a.length;u<l;++u){var c=a[u];"string"==typeof c.regex&&(o[s][u].regex=new RegExp("^"+c.regex))}else"string"==typeof c.regex&&(o[s].regex=new RegExp("^"+a.regex))}e.defineMIME("text/x-livescript","livescript")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n,r){this.state=e,this.mode=t,this.depth=n,this.prev=r}function n(r){return new t(e.copyState(r.mode,r.state),r.mode,r.depth,r.prev&&n(r.prev))}e.defineMode("jsx",function(r,i){function o(e){var t=e.tagName;e.tagName=null;var n=l.indent(e,"");return e.tagName=t,n}function s(e,t){return t.context.mode==l?a(e,t,t.context):u(e,t,t.context)}function a(n,i,a){if(2==a.depth)return n.match(/^.*?\*\//)?a.depth=1:n.skipToEnd(),"comment";if("{"==n.peek()){l.skipAttribute(a.state);var u=o(a.state),h=a.state.context;if(h&&n.match(/^[^>]*>\s*$/,!1)){for(;h.prev&&!h.startOfLine;)h=h.prev;h.startOfLine?u-=r.indentUnit:a.prev.state.lexical&&(u=a.prev.state.lexical.indented)}else 1==a.depth&&(u+=r.indentUnit);return i.context=new t(e.startState(c,u),c,0,i.context),null}if(1==a.depth){if("<"==n.peek())return l.skipAttribute(a.state),i.context=new t(e.startState(l,o(a.state)),l,0,i.context),null;if(n.match("//"))return n.skipToEnd(),"comment";if(n.match("/*"))return a.depth=2,s(n,i)}var f,d=l.token(n,a.state),p=n.current();return/\btag\b/.test(d)?/>$/.test(p)?a.state.context?a.depth=0:i.context=i.context.prev:/^</.test(p)&&(a.depth=1):!d&&(f=p.indexOf("{"))>-1&&n.backUp(p.length-f),d}function u(n,r,i){if("<"==n.peek()&&c.expressionAllowed(n,i.state))return c.skipExpression(i.state),r.context=new t(e.startState(l,c.indent(i.state,"")),l,0,r.context),null;var o=c.token(n,i.state);if(!o&&null!=i.depth){var s=n.current();"{"==s?i.depth++:"}"==s&&0==--i.depth&&(r.context=r.context.prev)}return o}var l=e.getMode(r,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1}),c=e.getMode(r,i&&i.base||"javascript");return{startState:function(){return{context:new t(e.startState(c),c)}},copyState:function(e){return{context:n(e.context)}},token:s,indent:function(e,t,n){return e.context.mode.indent(e.context.state,t,n)},innerMode:function(e){return e.context}}},"xml","javascript"),e.defineMIME("text/jsx","jsx"),e.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})});var CPLocalStorage={clear:function(){this._exec(function(){localStorage.clear()})},setItem:function(e,t){this._exec(function(){localStorage.setItem(e,t)})},getItem:function(e){return this._exec(function(){return localStorage.getItem(e)})},removeItem:function(e){var t=this.getItem(e);return this._exec(function(){localStorage.removeItem(e)}),t},_exec:function(e){try{return e()}catch(e){}}},CP={};!function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;e=!1;for(var s in n)o[s]="function"==typeof n[s]&&"function"==typeof i[s]&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(s,n[s]):n[s];return r.prototype=o,r.prototype.constructor=r,r.extend=arguments.callee,r}}();var Hub={sub:function(e,t){if("function"!=typeof t)throw"fn MUST be a function";$(Hub).bind(e,t)},pub:function(e,t){$(Hub).trigger(e,t)},unsub:function(e){$(Hub).unbind(e)}};window._capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},window._isOnLocalhost=function(){var e=document.location.host;return e.match("127.0.0.1")||e.match("localhost")||e.match("codepen.dev")||e.match("cdpn.dev")},window._fullURL=function(e){return document.location.protocol+"//"+document.location.host+e},window._getUnixTimestamp=function(){return Math.round((new Date).getTime()/1e3)},window._isValidURL=function(e){var t=e||"",n=/^(http:\/\/|https:\/\/|\/\/){1}\S+/i;return n.test($.trim(t))},window._htmlEntities=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},window._htmlEncode=function(e){return $("<div/>").text(e).html()},window._stripHTMLTags=function(e){var t=e.replace(/<\/?[^>]+(>|$)/g,""),n=$("<div>"+t+"</div>"),r=n.text();return n.remove(),r},window._removeFromArrayByIndex=function(e,t){e.splice(t,1)},window._areEqual=function(e,t){if(typeof e!=typeof t)return!1;if("object"==typeof e){if(_.isArray(e)&&_.isArray(t)){if(0===e.length&&0===t.length)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!_areEqual(e[n],t[n]))return!1;return!0}var i=_.keys(e),o=_.keys(t),s=_.difference(i,o);if(s.length>0)return!1;for(var a in e)if("object"==typeof e[a]){if(_areEqual(e[a],t[a])===!1)return!1}else if(e[a]!==t[a])return!1;return!0}return e===t},window._getCPWildcardDomain=function(){return"."+document.location.host},window._diffObjects=function(e,t){var n={};for(var r in e)r in t&&(_areEqual(e[r],t[r])||(n[r]={old:e[r],current:t[r]}));return n},window._hashToURLParams=function(e){var t="";for(var n in e)t+="&"+n+"="+encodeURIComponent(e[n]);return t.replace(/^&/,"")},window._lengthInUtf8Bytes=function(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)},window._getCachedScript=function(e,t){$.ajax({type:"GET",url:e,success:t,dataType:"script",cache:!0})},window._hideElementWhenUserClicksAway=function(e,t){$("body").bind("click",function(n){var r=$(n.target).closest(e),i=$(e);0===r.length&&i.hasClass("open")&&("function"==typeof t?t(n,i):i.removeClass("open"))})},window._getHashFromURLParams=function(e){e=e||"";var t={},n=e.split("?"),r=n[1];if(r)for(var i=r.split("&"),o=0,s=i.length;o<s;o++){var a=i[o].split("=");t[decodeURIComponent(a[0]||"")]=decodeURIComponent(a[1]||"")}return t},window._getQueryString=function(e){var t=window.location.search;if(t)for(var n=t.substring(1),r=n.split("&"),i=0,o=r.length;i<o;i++){var s=r[i],a=s.split("=");if(a[0]===e)return a[1]}},window._onMessage=function(e){window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},function(){function e(e){$.showModal(e.errors.url_to_modal,"modal-error")}function t(e){return"502"===e.status}function n(e,t){try{throw{name:e,message:e}}catch(e){ErrorReporter.report(e,t)}}function r(e){return e.errors&&e.errors.new_csrf_token}function i(e,t,n){return"function"==typeof e?$.proxy(e,t):$.proxy(n,t)}function o(e){if("string"==typeof e)return e;if(e._isJSON)return JSON.stringify(e.json);if(e._doNOTChange===!0)return e;var t="";for(var n in e)""!==t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t}var s=3e4;window.AJAXUtil={post:function(e,t,n,r,i){return this._send("POST",e,t,n,r,i)},simplePost:function(e,t,n){return this._simpleRequest("POST",e,t,n)},jwtPost:function(e,t,n){return this._requestWithToken("POST",e,t,n)},get:function(e,t,n,r,i){return this._send("GET",e,t,n,r,i)},put:function(e,t,n,r,i){return this._send("PUT",e,t,n,r,i)},del:function(e,t,n,r,i){return this._send("DELETE",e,t,n,r,i)},_send:function(a,u,l,c,h,f,d){c=i(c,this,$.noop),h=i(h,this,this.showStandardErrorMessage),f=i(f,this,$.noop);var p=this,m={url:u,type:a,timeout:s,data:o(l),headers:{"X-Cookies-Enabled":navigator.cookieEnabled,"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content"),"X-Retry-CSRF-Token":d?"true":"false"},error:function(e){if(t(e))n("network error",e),f();else{var r=$.parseJSON(e.responseText);h(r)}},success:function(t){t="string"==typeof t?$.parseJSON(t):t,t.success?c(t):r(t)?p._handleExpiredCSRFTokenError(t,a,u,l,c,h,f):t.errors&&t.errors.show_modal?e(t):h(t)}};return l._isJSON&&(m.contentType="application/json; charset=utf-8"),$.ajax(m)},_requestWithToken:function(e,t,n,r){return $.ajax({url:t,type:e,contentType:"application/json; charset=utf-8",headers:{"Content-Type":"text/plain"},timeout:s,data:JSON.stringify(n),error:function(e){r(e)},success:function(e){r(e)}})},_simpleRequest:function(e,t,n,r,i){return $.ajax({url:t,type:e,timeout:s,data:o(r),error:function(e){i(e)},success:function(e){i(e)}})},_handleExpiredCSRFTokenError:function(e,t,n,r,i,o,s){$('meta[name="csrf-token"]').attr("content",e.errors.new_csrf_token),this._send(t,n,r,i,o,s,!1)},showStandardErrorMessage:function(e){var t="",n=e.errors?e.errors:e.error;for(var r in n)if($.isArray(n[r]))for(var i=0;i<n[r].length;i++)t+=n[r][i]+"<br />";else"message"===r&&(t+=n[r]+"<br />");var o="";o="<h1>Error</h1>",o+="<p>"+t+"</p>",o+='<p class="modal-buttons"><br class="mobile-break"><a href="#0" class="button button-medium hide-message">Close</a></p>',$.showModal(o,"modal-warning")}}}(),$.fn._on=function(e,t,n,r){n=n||!1,r=r||!1,this.on(e,$.proxy(function(e){r||e.preventDefault();var i=e.target?$(e.target):[];if(n&&(t=$.proxy(t,n)),t(e,i),!r)return!1},n))};var ObjectUtil={hasNestedValue:function(e,t){if(!t)return!1;for(var n=t.split("."),r=0;r<n.length;r++){var i=n[r];if(!e||!e.hasOwnProperty(i))return!1;
e=e[i]}return!0}},IDGenerator={length:8,generate:function(){for(var e=(+new Date).toString().split("").reverse(),t="",n=0;n<this.length;++n){var r=this._getRandomInt(0,e.length-1);t+=e[r]}return t},_getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}};!function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.lscache=t()}(this,function(){function e(){var e="__lscachetest__",n=e;if(void 0!==d)return d;try{if(!localStorage)return!1}catch(e){return!1}try{a(e,n),u(e),d=!0}catch(e){d=!(!t(e)||!localStorage.length)}return d}function t(e){return!!(e&&"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function n(){return void 0===p&&(p=null!=window.JSON),p}function r(e){return e.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")}function i(e){return e+g}function o(){return Math.floor((new Date).getTime()/y)}function s(e){return localStorage.getItem(m+b+e)}function a(e,t){localStorage.removeItem(m+b+e),localStorage.setItem(m+b+e,t)}function u(e){localStorage.removeItem(m+b+e)}function l(e){for(var t=new RegExp("^"+m+r(b)+"(.*)"),n=localStorage.length-1;n>=0;--n){var o=localStorage.key(n);o=o&&o.match(t),o=o&&o[1],o&&o.indexOf(g)<0&&e(o,i(o))}}function c(e){var t=i(e);u(e),u(t)}function h(e){var t=i(e),n=s(t);if(n){var r=parseInt(n,v);if(o()>=r)return u(e),u(t),!0}}function f(e,t){w&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}var d,p,m="lscache-",g="-cacheexpiration",v=10,y=6e4,x=Math.floor(864e13/y),b="",w=!1,k={set:function(r,h,d){if(e()&&n()){try{h=JSON.stringify(h)}catch(e){return}try{a(r,h)}catch(e){if(!t(e))return void f("Could not add item with key '"+r+"'",e);var p,m=[];l(function(e,t){var n=s(t);n=n?parseInt(n,v):x,m.push({key:e,size:(s(e)||"").length,expiration:n})}),m.sort(function(e,t){return t.expiration-e.expiration});for(var g=(h||"").length;m.length&&g>0;)p=m.pop(),f("Cache is full, removing item with key '"+r+"'"),c(p.key),g-=p.size;try{a(r,h)}catch(e){return void f("Could not add item with key '"+r+"', perhaps it's too big?",e)}}d?a(i(r),(o()+d).toString(v)):u(i(r))}},get:function(t){if(!e())return null;if(h(t))return null;var r=s(t);if(!r||!n())return r;try{return JSON.parse(r)}catch(e){return r}},remove:function(t){e()&&c(t)},supported:function(){return e()},flush:function(){e()&&l(function(e){c(e)})},flushExpired:function(){e()&&l(function(e){h(e)})},setBucket:function(e){b=e},resetBucket:function(){b=""},enableWarnings:function(e){w=e}};return k}),window.CacheGet={_inMemoryStore:{},find:function(e){this._validateOpts(e);var t=this._find(e);t?e.onSuccess(t):this._fetchAndCache(e)},_find:function(e){return this._inMemoryStore[e.key]?this._inMemoryStore[e.key]:lscache.get(e.key)},_validateOpts:function(e){if(!e.key)throw"Invalid key";if(!e.url)throw"Invalid URL";if(!e.onSuccess)throw"Invalid callback"},_fetchAndCache:function(e){var t=this;$.ajax({dataType:e.dataType||"text",url:e.url,success:function(n){var r=n;"function"==typeof e.createCacheableResult&&(r=e.createCacheableResult(n)),t._inMemoryStore[e.key]=r,lscache.set(e.key,r,e.expire),e.onSuccess(r)}})}},lscache&&setTimeout(function(){lscache.flushExpired()},2500),function(){function e(e){if("string"==typeof e){var t=e.substring(0,1);if("["===t||"{"===t)return!0}return!1}var t=$("#init-data").val();if("string"==typeof t){var n=$.parseJSON(t);for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];e(i)?window[r]=$.parseJSON(i):window[r]=i}}}();var PenResourcesData={MIN_RESOURCES:2,setResource:function(e,t){this._setResourceURL(_.find(this.resources,{view_id:e}),t),this._postResourceChange()},updateResourcesOrder:function(e,t){this._updateResourcesOrder(e,t),this._postResourceChange()},addEmptyResource:function(e){this._addNewResource(e,""),this._postResourceChange()},quickAddResource:function(e,t){this._quickAddResource(e,t),this._postResourceChange(!0)},deleteResource:function(e){this._deleteResource(e),this._postResourceChange()},getResourcesByType:function(e){return _.select(this.resources,{resource_type:e})},setPenResources:function(e){this.resources=e.pen.resources,this._postResourceChange()},_ensureResourcesValid:function(){this._ensureMinNumberOfResourcesForEachType(),this._storeResourcesByOrder(),this._ensureResourcesHaveViewIDs(),this._ensureResourcesHaveActions()},_ensureMinNumberOfResourcesForEachType:function(){this._ensureMinNumberOfResourcesForType("css"),this._ensureMinNumberOfResourcesForType("js")},_ensureMinNumberOfResourcesForType:function(e){_.times(this.MIN_RESOURCES-this.getResourcesByType(e).length,function(){this.resources.push({resource_type:e,order:0,url:""})},this)},_ensureResourcesHaveViewIDs:function(){_.forEach(this.resources,function(e){_.isUndefined(e.view_id)&&(e.view_id=IDGenerator.generate())})},_ensureResourcesHaveActions:function(){_.forEach(this.resources,function(e){_.isUndefined(e.action)&&(e.action="include_"+e.resource_type+"_url")})},_postResourceChange:function(e){this._updateLastUpdated(),this._ensureResourcesValid(),this._publishResourcePenChange(e)},_quickAddResource:function(e,t){var n=_.find(this.getResourcesByType(e),{url:""});n?this._setResourceURL(n,t):this._addNewResource(e,t)},_setResourceURL:function(e,t){e.url=t.replace(/\s+/,"")},_updateResourcesOrder:function(e,t){for(var n=0,r=this.resources.length;n<r;n++)this.resources[n].resource_type===e&&(this.resources[n].order=t[this.resources[n].view_id]);this._storeResourcesByOrder()},_storeResourcesByOrder:function(){this.resources=_.sortBy(this.resources,"order")},_addNewResource:function(e,t){var n=_.reduce(this.resources,function(t,n){return n.resource_type===e&&n.order>t&&(t=n.order),n},0);this.resources.push({resource_type:e,order:n+1,url:t||"",view_id:IDGenerator.generate(),action:"include_"+e+"_url"})},_deleteResource:function(e){_removeFromArrayByIndex(this.resources,_.findIndex(this.resources,{view_id:e}))},_publishResourcePenChange:function(e){Hub.pub("pen-change",{origin:"client",rebind:e,pen:{resources:_.cloneDeep(this.resources)}})}},LocalDataValidator={makeObjValid:function(e,t){for(var n in e)t[n]&&(e[n]=this._getValidAttributeValue(t,n,e[n]))},_getValidAttributeValue:function(e,t,n){var r=e[t];return"array"===r["typeof"]?this._getValidArrayType(n,r):_.isArray(r["typeof"])?this._getValidArrayAttributeValue(n,r):this._getValidSimpleAttributeValue(n,r)},_getValidArrayType:function(e,t){return _.isArray(e)?e:t["default"]},_getValidArrayAttributeValue:function(e,t){return _.contains(t["typeof"],e)?e:t["default"]},_getValidSimpleAttributeValue:function(e,t){return typeof e===t["typeof"]?e:t["default"]}},PenValidator=Class.extend({dataAttributes:{title:{"typeof":"string","default":""},description:{"typeof":"string","default":""},slug_hash:{"typeof":"string","default":""},html:{"typeof":"string","default":""},css:{"typeof":"string","default":""},js:{"typeof":"string","default":""},parent:{"typeof":"number","default":0},"private":{"typeof":"boolean","default":!1},template:{"typeof":"boolean","default":!1},js_module:{"typeof":"boolean","default":!1},html_pre_processor:{"typeof":__preprocessors.html.syntaxes,"default":__preprocessors.html["default"]},html_classes:{"typeof":"string","default":""},head:{"typeof":"string","default":""},css_pre_processor:{"typeof":__preprocessors.css.syntaxes,"default":__preprocessors.css["default"]},css_prefix:{"typeof":__preprocessors.css.prefixes,"default":__preprocessors.css.default_prefix},css_starter:{"typeof":__preprocessors.css.bases,"default":__preprocessors.css.default_base},styles:{"typeof":"array","default":[]},js_pre_processor:{"typeof":__preprocessors.js.syntaxes,"default":__preprocessors.js["default"]},scripts:{"typeof":"array","default":[]}},makePenValid:function(e){LocalDataValidator.makeObjValid(e,this.dataAttributes)}}),Pen=Class.extend({id:"",title:"",description:"",slug_hash:"",html:"",css:"",js:"",parent:0,"private":!1,template:!1,html_pre_processor:"none",html_classes:"",head:"",css_pre_processor:"none",css_prefix:"neither",css_starter:"neither",js_pre_processor:"none",js_module:!1,tags:[],newTags:[],editor_settings:{},resources:[],save_disabled:!1,autosavingNow:!1,last_updated:"",updated_at:"",errorCode:"",saveAttempts:0,MAX_SAVE_ATTEMPTS:6,SAVE_ATTEMPT_TIMEOUT:1e4,fork:!1,lastSavedPen:{},redirectingToSavedURL:!1,init:function(){_.extend(this,AJAXUtil),_.extend(this,PenResourcesData),this._loadStoredData(),this._ensureDataIsValid()},_loadStoredData:function(){_.extend(this,__item,!0),this._ensureResourcesValid(),this.lastSavedPen=this.getSaveableCopyOfPen()},_ensureDataIsValid:function(){var e=new PenValidator;e.makePenValid(this),e.makePenValid(this.lastSavedPen)},setItemValue:function(e){var t=this._cloneObject(e);t.item&&(t.pen=t.item);for(var n in t.pen)this._setValue(n,t.pen[n]);Hub.pub("pen-change",this._cloneObject(t))},_cloneObject:function(e){return JSON.parse(JSON.stringify(e))},_setValue:function(e,t){if(_.isObject(t)&&!_.isArray(t))for(var n in t)this[e][n]=t[n];else this[e]=t;this._updateLastUpdated()},_updateLastUpdated:function(){this.last_updated=(new Date).getTime()},getLastUpdatedAt:function(){return this.last_updated||new Date(this.updated_at).getTime()},getActiveSlugHash:function(){return this["private"]?this.slug_hash_private:this.slug_hash},getTags:function(){return _.uniq(_.clone(this.tags).concat(_.clone(this.newTags)))},getAttribute:function(e){return this[e]},newPen:function(){window.location="/pen"},save:function(){this.save_disabled||(this._canSave()?this._shouldForkPen()?this._forkPen():this._savePenToDB():Hub.pub("pen-errors",this.errorCode))},forkPenInCurrentState:function(){this.save_disabled||(this._canSave()?this._forkPen():Hub.pub("pen-errors",this.errorCode))},_shouldForkPen:function(){return this._isPenOwnedByAnotherUser()},saveAsPrivate:function(){this._canSave()?(this["private"]=!0,this._savePenToDB()):Hub.pub("pen-errors",this.errorCode)},MAX_PEN_SIZE:1e6,_canSave:function(){return!CP.user.isUserLoggedIn()&&this._isProfessorOrCollabSession()?(this.errorCode="anon-cannot-save-during-rt-session",!1):!(_lengthInUtf8Bytes(JSON.stringify(this.getSaveableCopyOfPen()))>this.MAX_PEN_SIZE)||(this.errorCode="pen-too-large",!1)},_isProfessorOrCollabSession:function(){return"professor"===__pageType||"collab"===__pageType},_forkPen:function(){this.fork=!0,this._savePenToDB()},_savePenToDB:function(){this._shouldSavePenToDB()?this.post("/pen/save",{pen:this._getSaveablePen()},this.doneSave,this.failedSave,this.erroredSave):this.sendPseudoSavedSignal()},_getSaveablePen:function(){return JSON.stringify(this.getCopyOfSaveablePen())},getCopyOfSaveablePen:function(){return this._updateSaveableTagsPriorToSave(),this.getSaveableCopyOfPen()},_shouldSavePenToDB:function(){return this.hasPenChanged()||this._isBlankNewPen()||this._isPenOwnedByAnotherUser()},_isBlankNewPen:function(){return""===this.slug_hash},_updateSaveableTagsPriorToSave:function(){this.tags=this.getTags(),this.newTags=[]},sendPseudoSavedSignal:function(){Hub.pub("pen-saved",{})},doneSave:function(e){this.saveAttempts=0;var t=this._getDiffPen(this,this.lastSavedPen);if(this.lastSavedPen=this.getSaveableCopyOfPen(),e.new_pen_saved)if(this._isProfessorOrCollabSession()){var n={newPen:!0,url:e.redirect_url,pen:t};Hub.pub("pen-saved",n)}else Hub.pub("save-editor-sizes",e.slug_hash),CPLocalStorage.setItem(e.slug_hash,"new-pen"),this.redirectingToSavedURL=!0,window.location=this._getFullRedirectURL(e);else Hub.pub("pen-saved",{pen:t,last_saved_time_ago:e.last_saved_time_ago})},_getFullRedirectURL:function(e){var t=document.location.href.split("?");return t.length>1?this._stripQuestionMarkInURL(e.redirect_url+"?"+this._stripTemplateQueryPart(t[1])):e.redirect_url},_stripTemplateQueryPart:function(e){return(e||"").replace(/template=\w+/,"")},_stripQuestionMarkInURL:function(e){return e.replace(/\?$/,"")},failedSave:function(e){this.showStandardErrorMessage(e)},erroredSave:function(){if(this.saveAttempts+=1,this.saveAttempts<this.MAX_SAVE_ATTEMPTS){var e=_.template(Copy.errors["unable-to-save-try-again"],{time:TimeUtil.countToString(this.saveAttempts)});$.showMessage(e,"super-slow"),setTimeout($.proxy(this._savePenToDB,this),this.SAVE_ATTEMPT_TIMEOUT)}else this.saveAttempts=0,$.showMessage(Copy.errors["unable-to-save-ever"],"super-slow")},isUserPenOwner:function(){return""===this.slug_hash||(CP.profiled.is_team?CP.profiled.id===CP.user.current_team_id:CP.user.isAnon()?this.session_hash===CP.user.session_hash:CP.profiled.id===CP.user.id)},_isPenOwnedByAnotherUser:function(){return!this.isUserPenOwner()},hasPenChanged:function(){return _.size(this._getDiffPen(this,this.lastSavedPen))>0},hasPenContentChanged:function(){var e=this._getDiffPen(this,this.lastSavedPen);return delete e.editor_settings,_.size(e)>0},_getDiffPen:function(e,t){return _diffObjects(t,e)},getSaveableCopyOfPen:function(){return _.cloneDeep(_.reduce(this._getDataRelevantAttributes(),function(e,t){return e[t]=this[t],e},{},this))},_getDataRelevantAttributes:function(){return["id","user_id","team_id","slug_hash","slug_hash_private","title","description","tags","newTags","resources","editor_settings","fork","private","parent","template","html","html_pre_processor","html_classes","head","css","css_pre_processor","css_prefix","css_starter","js","js_pre_processor","js_module"]},getAttributesThatAffectPenPreview:function(){return["html","css","js","html_pre_processor","html_classes","head","css_pre_processor","css_prefix","css_starter","js_pre_processor","js_module","resources"]}}),ClientSidePenValidations={validatePen:function(e){var t={};return this._validateHTML(e,t),this.validateCSS(e,t),t},_validateHTML:function(e,t){var n=/^(\s+)?<!doctype/i;n.test(e.html)&&(t.html={line:1,type:"html",message:"You don't need a DOCTYPE on CodePen. Just put here what you would normally put in the <body>.",level:"warn",pretty_name:"HTML"})},validateCSS:function(e,t){if(_.contains(["scss","sass"],e.css_pre_processor)){var n=/inline-image/i;n.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,n),type:"css",message:"The function inline-image can not be used on CodePen since it depends on reading images from disk. We've removed it.",level:"warn",pretty_name:"SCSS"});var r=/image-width\(/i;r.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,r),type:"css",message:"The function image-width can not be used on CodePen since it depends on reading images from disk. We've removed it.",level:"warn",pretty_name:"SCSS"});var i=/image-height\(/i;i.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,i),type:"css",message:"The function image-height can not be used on CodePen since it depends on reading images from disk. We've removed it.",level:"warn",pretty_name:"SCSS"})}if("less"===e.css_pre_processor){var o=/data-uri/i;o.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,o),type:"css",message:"The function data-uri can not be used because it's insecure. We've removed it from your LESS code.",level:"warn",pretty_name:"LESS"})}if(e.css){var s=/<style>/i;s.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,s),type:"css",message:"You don't need to include a style tag. Just put here what you would normally include in the style tag.",level:"warn",pretty_name:"CSS"})}return t},_findErrorLineNumber:function(e,t){for(var n=e.split("\n"),r=0,i=n.length;r<i;r++)if(t.test(n[r]))return r+1;return 1}},HTMLTemplating={findHTMLTemplatesInPenHTML:function(e){var t=(e||"").match(/(\[\[\[\S+\]\]\])/gm);return t||[]},regexReplaceHTMLBeforeProcessing:function(e,t){return this._regexReplaceHTML(e,"regex_replace_before_processing",t)},regexReplaceHTMLAfterProcessing:function(e,t){return this._regexReplaceHTML(e,"regex_replace",t)},_regexReplaceHTML:function(e,t,n){for(var r=0;r<n.length;r++)if(n[r].action===t){var i=this._getWhiteSpacePrefixToTemplate(n[r].text_to_replace,e),o=n[r].text_to_replace;o=o.replace(/\//g,"\\/"),o=o.replace(/\[/g,"\\["),o=o.replace(/\]/g,"\\]");var s=new RegExp(o,"g");e=e.replace(s,this.getContentToReplaceTemplateText(i,n[r].content))}return e},_getWhiteSpacePrefixToTemplate:function(e,t){var n="(\\s+)?"+e.replace(/\[/g,"\\[").replace(/\//g,"\\/").replace(/\]/g,"\\]"),r=new RegExp(n,"mg"),i=r.exec(t);return i?i[1]:""},getContentToReplaceTemplateText:function(e,t){return e?(t||"").split(/\r|\n/).join(e):t}},Instrument={do_instrumenting:function(e,t){var n="if (window.CP.shouldStopExecution(%d)){break;}",r="\nwindow.CP.exitedLoop(%d);\n",i=1,o=[];return esprima.parse(e,{range:!0,tolerant:!1,sourceType:t,jsx:!0},function(e){switch(e.type){case"DoWhileStatement":case"ForStatement":case"ForInStatement":case"ForOfStatement":case"WhileStatement":var t=1+e.body.range[0],s=e.body.range[1],a=n.replace("%d",i),u="";"BlockStatement"!==e.body.type&&(a="{"+a,u="}",--t),o.push({pos:t,str:a}),o.push({pos:s,str:u}),o.push({pos:e.range[1],str:r.replace("%d",i)}),++i}}),o.sort(function(e,t){return t.pos-e.pos}).forEach(function(t){e=e.slice(0,t.pos)+t.str+e.slice(t.pos)}),e},_loopPrependAST:null,_exitedAppendAST:null,instrumentCode:function(e,t){try{if(this._shouldInstrumentJS(e)){var n=Instrument.do_instrumenting(e.getProcessed("js"),e.getIsPenModule()?"module":"script");return n}return e.getProcessed("js")}catch(n){return t.js={line:n.lineNumber||1,column:n.column||1,index:n.index||1,type:"js",message:n.description||n.message,level:"error",pretty_name:"JavaScript"},e.getProcessed("js")}},_shouldInstrumentJS:function(e){return!!e.getProcessed("js")&&!this._hasJSWeCannotInstrument(e)},_usingJSPreprocessor:function(){return _.contains(__preprocessors.js.preprocessors,CP.pen.js_pre_processor)},_hasJSWeCannotInstrument:function(e){return new RegExp(this._getInstrumentJSRegex(),"i").exec(e.getProcessed("js"))},_getInstrumentJSRegex:function(){return"("+window.__preprocessors.js.words_we_cannot_instrument.join("|")+")"},_clone:function(e){return JSON.parse(JSON.stringify(e))}},PenErrorHandler=Class.extend({editorErrorData:{},init:function(){this.initEditorErrorData(),this.bindToElements(),this._bindToHub()},initEditorErrorData:function(){_.each(["html","css","js"],function(e){this.editorErrorData[e]={preprocErrors:[],preprocErrorLineNums:[]}},this)},bindToElements:function(){$(".error-icon").on("click",$.proxy(this.toggleSingleInlineError,this))},_bindToHub:function(){Hub.sub("error-in-code",$.proxy(this._onErrorInCode,this))},toggleSingleInlineError:function(e){var t=$(e.target).closest("div.box").data("type");$("#box-"+t+" .inline-editor-error").removeClass("inline-error-hidden"),t=$(e.target).data("type"),this.jumpToFirstError(t),this.hideErrorBar(t),Hub.pub("editor-refresh",{delay:0})},_onErrorInCode:function(e,t){this.handleErrorsInEditor(t)},canRenderPen:function(e){return!_.find(e,{level:"error"})},previousShowErrorsInEditorTimeoutID:0,handleErrorsInEditor:function(e){this.clearPreviousCallToEditorErrors(),this.clearPreprocWidgets("all"),_.size(e)&&this.showErrorsInEditor(e)},clearPreviousCallToEditorErrors:function(){clearTimeout(this.previousShowErrorsInEditorTimeoutID)},clearPreprocWidgets:function(e){"all"===e?_.each(["html","css","js"],function(e){this.clearPreprocWidgetsOfType(e)},this):this.clearPreprocWidgetsOfType(e),this.hideErrorBar()},clearPreprocWidgetsOfType:function(e){var t=CodeEditorsUtil.getEditorByType(e);if(t){for(var n=this.editorErrorData[e].preprocErrors,r=0,i=n.length;r<i;r++)n[r].clear();t.editor.eachLine(function(e){t.editor.removeLineClass(e,"background","line-highlight")}),this.editorErrorData[e].preprocErrors=[],this.editorErrorData[e].preprocErrorLineNums=[]}},showErrorsInEditor:function(e){this.previousShowErrorsInEditorTimeoutID=setTimeout($.proxy(function(){this.showPreprocessorErrors(e)},this),this.inlineErrorTimeout)},showPreprocessorErrors:function(e){for(var t in e){var n=e[t];if(!_.isUndefined(n.line)&&!_.isUndefined(n.message)){var r=CodeEditorsUtil.getEditorByType(n.type),i=this.addInlineEditorWidget(r.editor,n.line,n.message);this.editorErrorData[n.type].preprocErrors.push(i),this.editorErrorData[n.type].preprocErrorLineNums.push(n.line),this.showErrorBar(n.type)}}},addInlineEditorWidget:function(e,t,n){var r=$(this._getInlineErrorWidgetHTML(n))[0],i=parseInt(t-1,10);return e.addLineClass(i,"background","line-highlight"),e.addLineWidget(i,r,{coverGutter:!0,noHScroll:!0})},_getInlineErrorWidgetHTML:function(e){var t="<div class='inline-editor-error inline-error-hidden'><div class='inline-error-message'><%= message %></div></div>";return _.template(t,{message:this._makeMessageSafe(e)})},_makeMessageSafe:function(e){return _htmlEntities(e).replace(/&lt;br \/&gt;/g,"<br />").replace(/-&gt;/g,"->")},jumpToFirstError:function(e){var t=this.editorErrorData[e].preprocErrorLineNums,n=this.getErrorLineNumberToScrollTo(t[0]);CodeEditorsUtil.getEditorByType(e).editor.scrollIntoView(n)},getErrorLineNumberToScrollTo:function(e){return e-2>0?e-2:0},showErrorBar:function(e){$("#error-bar-"+e).show()},hideErrorBar:function(e){e?$("#error-bar-"+e).hide():$(".error-bar").hide()},editorHasErrors:function(e){return this.editorErrorData[e].preprocErrors.length}});!function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,o,s,a){return t(n(t(t(r,e),t(o,a)),s),i)}function i(e,t,n,i,o,s,a){return r(t&n|~t&i,e,t,o,s,a)}function o(e,t,n,i,o,s,a){return r(t&i|n&~i,e,t,o,s,a)}function s(e,t,n,i,o,s,a){return r(t^n^i,e,t,o,s,a)}function a(e,t,n,i,o,s,a){return r(n^(t|~i),e,t,o,s,a)}function u(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var r,u,l,c,h,f=1732584193,d=-271733879,p=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)u=f,l=d,c=p,h=m,f=i(f,d,p,m,e[r],7,-680876936),m=i(m,f,d,p,e[r+1],12,-389564586),p=i(p,m,f,d,e[r+2],17,606105819),d=i(d,p,m,f,e[r+3],22,-1044525330),f=i(f,d,p,m,e[r+4],7,-176418897),m=i(m,f,d,p,e[r+5],12,1200080426),p=i(p,m,f,d,e[r+6],17,-1473231341),d=i(d,p,m,f,e[r+7],22,-45705983),f=i(f,d,p,m,e[r+8],7,1770035416),m=i(m,f,d,p,e[r+9],12,-1958414417),p=i(p,m,f,d,e[r+10],17,-42063),d=i(d,p,m,f,e[r+11],22,-1990404162),f=i(f,d,p,m,e[r+12],7,1804603682),m=i(m,f,d,p,e[r+13],12,-40341101),p=i(p,m,f,d,e[r+14],17,-1502002290),d=i(d,p,m,f,e[r+15],22,1236535329),f=o(f,d,p,m,e[r+1],5,-165796510),m=o(m,f,d,p,e[r+6],9,-1069501632),p=o(p,m,f,d,e[r+11],14,643717713),d=o(d,p,m,f,e[r],20,-373897302),f=o(f,d,p,m,e[r+5],5,-701558691),m=o(m,f,d,p,e[r+10],9,38016083),p=o(p,m,f,d,e[r+15],14,-660478335),d=o(d,p,m,f,e[r+4],20,-405537848),f=o(f,d,p,m,e[r+9],5,568446438),m=o(m,f,d,p,e[r+14],9,-1019803690),p=o(p,m,f,d,e[r+3],14,-187363961),d=o(d,p,m,f,e[r+8],20,1163531501),f=o(f,d,p,m,e[r+13],5,-1444681467),m=o(m,f,d,p,e[r+2],9,-51403784),p=o(p,m,f,d,e[r+7],14,1735328473),d=o(d,p,m,f,e[r+12],20,-1926607734),f=s(f,d,p,m,e[r+5],4,-378558),m=s(m,f,d,p,e[r+8],11,-2022574463),p=s(p,m,f,d,e[r+11],16,1839030562),d=s(d,p,m,f,e[r+14],23,-35309556),f=s(f,d,p,m,e[r+1],4,-1530992060),m=s(m,f,d,p,e[r+4],11,1272893353),p=s(p,m,f,d,e[r+7],16,-155497632),d=s(d,p,m,f,e[r+10],23,-1094730640),f=s(f,d,p,m,e[r+13],4,681279174),m=s(m,f,d,p,e[r],11,-358537222),p=s(p,m,f,d,e[r+3],16,-722521979),d=s(d,p,m,f,e[r+6],23,76029189),f=s(f,d,p,m,e[r+9],4,-640364487),m=s(m,f,d,p,e[r+12],11,-421815835),p=s(p,m,f,d,e[r+15],16,530742520),d=s(d,p,m,f,e[r+2],23,-995338651),f=a(f,d,p,m,e[r],6,-198630844),m=a(m,f,d,p,e[r+7],10,1126891415),p=a(p,m,f,d,e[r+14],15,-1416354905),d=a(d,p,m,f,e[r+5],21,-57434055),f=a(f,d,p,m,e[r+12],6,1700485571),m=a(m,f,d,p,e[r+3],10,-1894986606),p=a(p,m,f,d,e[r+10],15,-1051523),d=a(d,p,m,f,e[r+1],21,-2054922799),f=a(f,d,p,m,e[r+8],6,1873313359),m=a(m,f,d,p,e[r+15],10,-30611744),p=a(p,m,f,d,e[r+6],15,-1560198380),d=a(d,p,m,f,e[r+13],21,1309151649),f=a(f,d,p,m,e[r+4],6,-145523070),m=a(m,f,d,p,e[r+11],10,-1120210379),p=a(p,m,f,d,e[r+2],15,718787259),d=a(d,p,m,f,e[r+9],21,-343485551),f=t(f,u),d=t(d,l),p=t(p,c),m=t(m,h);return[f,d,p,m]}function l(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){return l(u(c(e),8*e.length))}function f(e,t){var n,r,i=c(e),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=u(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=u(o.concat(c(t)),512+8*t.length),l(u(s.concat(r),640))}function d(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function p(e){return unescape(encodeURIComponent(e))}function m(e){return h(p(e))}function g(e){return d(m(e))}function v(e,t){return f(p(e),p(t))}function y(e,t){return d(v(e,t))}function x(e,t,n){return t?n?v(t,e):y(t,e):n?m(e):g(e)}"function"==typeof define&&define.amd?define(function(){return x}):"object"==typeof module&&module.exports?module.exports=x:e.md5=x}(this);var PenProcessor=Class.extend({errors:{},processedPen:null,init:function(){_.extend(this,AJAXUtil),this.processedPen=new ProcessedPen({fullRefresh:!0})},process:function(e,t){async.waterfall([function(e){e(null,{processedPen:new ProcessedPen(t)})},$.proxy(this._processResources,this),$.proxy(this._processPen,this),$.proxy(this._handleProcessingErrors,this),$.proxy(this._instrumentCode,this),$.proxy(this._cacheResult,this)],function(t,n){e(n)})},_processResources:function(e,t){CP.penResources.processResourcesAndCallback(CP.pen,function(n){e.processedPen.setProcessedValue("resources",n),t(null,e)})},_processPen:function(e,t){e.processingErrors={};var n=e.processedPen,r=n.buildPenToSendToPreprocessors();if(this._setProcessedValues(e,r.toStore),0===Object.keys(r.toSend).length)n.updateSent(n.processed),t(null,e);else{var i=this;AJAXUtil.jwtPost(this._getPreprocessorsURL(r.toSend,this._getJWTToken()),r.toSend,function(n){i._handleProcessorResult(n,e,r,t)})}},_handleProcessorResult:function(e,t,n,r){var i=this;if(e.errors&&e.errors.auth_token_expired)this._renewJwtToken(function(){i._processPen(t,function(e,t){r(e,t)})});else{var o=t.processedPen.buildProcessedResult(e.payload),s=t.processedPen.buildProcessedErrors(e.payload);t.processedPen.updateSent(n.toSend),this._setProcessedValues(t,o),this._publishPreprocessorLogs(t.processedPen.reduceAllProcessorLogs(e.payload)),t.processingErrors=s,r(null,t)}},_publishPreprocessorLogs:function(e){Hub.pub("show-processing-logs",{logs:e})},_getPreprocessorsURL:function(e,t){var n=md5(JSON.stringify(e));return window.__preprocessors_url+"/process/"+n+"?token="+t},_getJWTToken:function(){return window.__jwt},_renewJwtToken:function(e){AJAXUtil.post("/processor_jwts","",function(t){window.__jwt=t.payload.jwt,e()})},_setProcessedValues:function(e,t){_.forEach(["html","css","js"],function(n){"undefined"!=typeof t[n]&&e.processedPen.setProcessedValue(n,t[n])})},_handleProcessingErrors:function(e,t){e.errors=_.assign(e.processingErrors,ClientSidePenValidations.validatePen(CP.pen)),t(null,e)},_instrumentCode:function(e,t){e.processedPen.setProcessedValue("js",Instrument.instrumentCode(e.processedPen,e.errors)),t(null,e)},_cacheResult:function(e,t){this.processedPen=e.processedPen,t(null,e)},getProcessed:function(e){return this.processedPen.getProcessed(e)?this.processedPen.getProcessed(e):"\ud83d\udc3b Bear with us while we compile your code to "+e}});!function(){function e(e,t,n){for(var r=0;r<e.length;r++)if(e[r]&&e[r][t]&&e[r][t]===n)return r;return-1}function t(){n()}function n(){var e=CPLocalStorage.getItem(u);e&&(s=JSON.parse(e))}function r(t,n,r){if(("css"===t||"js"===t)&&void 0!==r){var o=e(s[t],"name",r);o>-1?(s[t].splice(o,1),s[t].unshift({name:r,url:n})):s[t].unshift({name:r,url:n}),s[t].length>a&&(s[t].length=a),i()}}function i(){CPLocalStorage.setItem(u,JSON.stringify(s))}function o(e){return s[e]}var s={css:[],js:[]},a=6,u="CP_recent_pen_resources";CP.PenRecentResourcesManager={},CP.PenRecentResourcesManager.addNewPenResource=r,CP.PenRecentResourcesManager.getRecentPenResources=o,t()}();var BunkerBox={makeHeadSafe:function(e,t){return e=e||"",t=this._getSafeSandboxType(t),"public"===t&&(e=e.replace(/<script.+/gim,"")),e=this.makeHTMLSafe(e,t)},makeHTMLSafe:function(e,t){return e=e||"",t=this._getSafeSandboxType(t),e=e.replace(/(<.*?\s)(autofocus=("|')autofocus("|')|autofocus)/g,"$1"),e=e.replace(/iframe.+src=.+(&#)/gim,""),e=e.replace(/autoPlay=true/gim,"autoPlay=false"),e=e.replace(/http-equiv="refresh"/gim,""),e=this.makeJSSafe(e,t)},makeJSSafe:function(e,t){return e=e||"",t=this._getSafeSandboxType(t),e=e.replace(/location\.replace\s*\(\s*\)/gim,"location.removedByCodePen()"),e=e.replace(/location\.reload\s*\(\s*\)/gim,"location.removedByCodePen()"),"public"===t&&(e=e.replace("beforeunloadreplacedbycodepen"),e=e.replace(/debugger(\s+)?;/gim,""),e=e.replace(/alert/gim,""),e=e.replace(/geolocation/gim,""),e=e.replace(/audiocontext/gim,""),e=e.replace(/getusermedia/gim,"")),this._isSandboxSupported()||(e=e.replace(/window(\s+)?\[(\s+)?("|")l/gim,""),e=e.replace(/self(\s+)?\[(\s+)?("|")loc/gim,""),e=e.replace(/\.submit\(\)/gim,""),e=e.replace(/fromCharCode/gim,""),e=e.replace(/\blocation(\s+)?=/gim,"")),e},_getSafeSandboxType:function(e){return"undefined"==typeof e?"public":"public"===e?"public":"personal"},_sandboxSupported:null,_isSandboxSupported:function(){return null===this._sandboxSupported&&(this._sandboxSupported=this._determineIfSanboxIsSupported()),this._sandboxSupported},_determineIfSanboxIsSupported:function(){try{return"sandbox"in document.createElement("iframe")}catch(e){return!1}}},URLUtil={httpsURL:function(e){return this._buildURL("https:",e)},protocolessURL:function(e){return this._buildURL("",e)},_buildURL:function(e,t){return e+"//"+document.location.host+t}},IFramePenToHTML={renderPenAsHTML:function(e){var t=[];return t.push(this._getHTMLStart(e)),t.push(this._getHeadAndCSS(e)),t.push(this._getHTML(e)),t.push(this._getJS(e)),t.push(this._getHTMLEnd()),t.join("\n")},_getHTMLStart:function(e){return"<!DOCTYPE html><html lang='en' class='"+e.html_classes+"'>"},_getHTMLEnd:function(){return"</body></html>"},_getHeadAndCSS:function(e){var t="";return t+="<head>",t+="<script src='"+window.__path_to_console_runner_js+"'></script>",t+="<script src='"+window.__path_to_live_reloader_js+"'></script>",t+="<meta charset='UTF-8'>",t+='<meta name="robots" content="noindex">',t+='<link rel="shortcut icon" type="image/x-icon" href="'+window.__favicon_shortcut_icon+'" />',t+='<link rel="mask-icon" type="" href="'+window.__favicon_mask_icon+'" color="#111" />',t+='<link rel="canonical" href="'+document.location.href+'" />',t+="\n"+e.head+"\n",t+=this._getCSSStarterStyles(e),t+=this._getPrefixesStyles(e),t+=this._getStylesToAddToHead(e),t+='\n<style class="cp-pen-styles">'+e.css+"</style>",t+="</head><body>"},_getHTML:function(e){return BunkerBox.makeHTMLSafe(e.html,"personal")},_getCSSStarterStyles:function(e){return"normalize"===e.css_starter?this._buildCSSLink(window.__pen_normalize_css_url):"reset"===e.css_starter?this._buildCSSLink(window.__pen_reset_css_url):""},_getPrefixesStyles:function(e){return"prefixfree"===e.css_prefix?this._buildScriptLink(window.__pen_prefix_free_url):""},_buildScriptLink:function(e){return"<script src='"+e+"'></script>"},_getStylesToAddToHead:function(e){return _.reduce(e.styles,function(e,t){return"include_css_url"===t.action?e+=this._getIncludeCSSURL(t):"prepend_as_css"===t.action&&(e+="\n<style>\n"+t.content+"\n</style>"),e},"",this)},_getIncludeCSSURL:function(e){return this._buildCSSLink(this._getIncludeCSSURLHref(e))},_buildCSSLink:function(e){return"<link rel='stylesheet prefetch' href='"+e+"'>"},_getIncludeCSSURLHref:function(e){return this._urlRefersToPenURL(e.url)?this._ensureEndsInDotType(e.url,"css"):e.url},_getJS:function(e){return this._getJSScripts(e)+this._getPenJS(e)+this._getCheckJS()},_getCheckJS:function(){return""},_getPenJS:function(e){var t=this._getSafeJS(e.js);if(t){var n=e.js_module?'type="module"':"";return"\n<script "+n+">"+t+"\n//# sourceURL=pen.js\n</script>"}return""},_getJSScripts:function(e){var t="";return this._includeStopExecutionScript(e)&&(t+="<script src='"+__path_to_stop_execution_on_timeout+"'></script>"),t+this._getPenResourcesAsScripts(e.scripts)},_includeStopExecutionScript:function(e){return e.js},_getPenResourcesAsScripts:function(e){return _.reduce(e,function(e,t){return"include_js_url"===t.action?e+="<script src='"+this._getIncludeJSURLHref(t)+"'></script>":"prepend_as_js"===t.action&&(e+="\n<script>"+t.content+"</script>"),e},"",this)},_getIncludeJSURLHref:function(e){return this._urlRefersToPenURL(e.url)?this._ensureEndsInDotType(e.url,"js"):e.url},_urlRefersToPenURL:function(e){
return/\S+\/pen\/(\w{5,})/i.test(e)},_ensureEndsInDotType:function(e,t){var n=(e||"").split("?"),r=new RegExp("."+t,"i");return r.exec(n[0])?e:(n[0]=this._removeTraingForwardSlash(n[0])+"."+t,n.join("?"))},_removeTraingForwardSlash:function(e){return e.replace(/\/$/,"")},_getSafeJS:function(e){return BunkerBox.makeJSSafe(e,"personal")}};!function(){function e(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}window.generateGuid=e}(),function(){function e(){$("#loading-text").remove()}function t(e,t){for(var n=e.children("iframe"),r=0,i=n.length;r<i;r++)n[r].id!==t&&$(n[r]).remove();$("#"+t).removeClass("iframe-visual-update")}function n(n,r){t(n,r),e()}function r(e,t){e.prepend(a(t)),i(e,t)}function i(e,t){var r=!1,i=setTimeout(function(){r||(n(e,t),r=!0)},d);$("#"+t).load(function(){clearTimeout(i),r||(n(e,t),r=!0)})}function o(){return window.__CPDATA.iframe_sandbox}function s(){return window.__CPDATA.iframe_allow}function a(e){return"<iframe id='"+e+"' src='"+u(e)+"' name='CodePen' allowfullscreen='true' sandbox='"+o()+"' allow='"+s()+"' allowTransparency='true' allowpaymentrequest='true' class='result-iframe iframe-visual-update' ></iframe>"}function u(e){return _.template(l(),{key:e,domain_iframe:window.__CPDATA.domain_iframe,search:document.location.search,hash:document.location.hash})}function l(){return"<%= domain_iframe %>/boomerang/<%= key %>/index.html<%= search %><%= hash %>"}function c(){return"iFrameKey-"+generateGuid()}function h(e,t,n){AJAXUtil.post(_fullURL("/boomerang"),{key:e,html:t},n)}function f(e,t){var n=c();h(n,t,function(){r(e,n)})}var d=300;window.IFrameRender={updateIFramePreview:f}}(),function(){function e(){window[n()](t(),function(e){try{var t=JSON.parse(e.data),n=r(t.line);Hub.pub("error-in-code",{js:{line:n,type:"js",message:o(n),level:"error",pretty_name:"JavaScript"}})}catch(e){}},!1)}function t(){return"attachEvent"===n()?"onmessage":"message"}function n(){return window.addEventListener?"addEventListener":"attachEvent"}function r(e){var t=i(e);t=t.replace(/\s+/g,"");var n=_.map(CP.pen.js.split(/\r\n?|\n/),function(e){return e.replace(/\s+/g,"")});return _.indexOf(n,t)+1}function i(e){for(var t=m.split(/\r\n?|\n/),n=e;n>-1&&t[n].match(/(break;|shouldStopExecution)/);)n-=1;return t[n]}function o(e){return"Infinite loop found on line "+e+". The line number is approximated so look carefully."}function s(e){if(null===x)return x=_.cloneDeep(e,!0),void f(e);if(a(e))try{h(e)}catch(t){f(e)}else f(e)}function a(e){if(u(e))return!1;if(e.fullRefresh)return!1;var t=c(e,x);return x=_.clone(e,!0),t}function u(e){if(l(e))return!0;var t=(e.css||"").match(/(keyframes|:target|animation|CP_DoFullRefresh)/gi);return t}function l(e){var t=e.html||"",n=e.css||"";return t.match(/svg/i)&&n.match(/background/)}function c(e,t){if(null===t)return!1;var n=_diffObjects(e,t);return delete n.css,delete n.fullRefresh,0===_.size(n)}function h(e){for(var t=document.getElementsByClassName("result-iframe"),n=0;n<t.length;n++)t[n].contentWindow.postMessage(JSON.stringify(e),"*")}function f(e){clearTimeout(y),y=setTimeout(function(){d(e),v=g},v)}function d(e){m=IFramePenToHTML.renderPenAsHTML(e),IFrameRender.updateIFramePreview(p,m)}var p=$("#result_div, #result-box"),m="",g=400,v=5,y=0,x=null;e(),window.PenToPreview={updateLiveIFrame:s}}();var PenRenderer=Class.extend({DEFAULT_TIMEOUT:700,MAX_TIMEOUT:2500,init:function(){this._bindToHub(),this.processAndRender=_.debounce(this._processAndRenderInternal.bind(this),this.DEFAULT_TIMEOUT,{leading:!1,maxWait:this.MAX_TIMEOUT}),this.processAndRender(!0)},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){CP.pen.getAttribute("editor_settings").auto_run&&this._penPreviewAttributeChanged(t.pen)&&this.processAndRender()},_penPreviewAttributeChanged:function(e){var t=CP.pen.getAttributesThatAffectPenPreview();return _.intersection(t,_.keys(e)).length>0},_processAndRenderInternal:function(e){CP.penProcessor.process(this._renderProcessedPen.bind(this),{fullRefresh:e||!1})},_renderProcessedPen:function(e){CP.penErrorHandler.canRenderPen(e.errors)&&(this.renderablePen=e.processedPen.buildRenderableHash(),Hub.pub("live_change",this.renderablePen),PenToPreview.updateLiveIFrame(this.renderablePen)),CP.penErrorHandler.handleErrorsInEditor(e.errors)}}),PenResources=Class.extend({_cachedResources:{},init:function(){_.extend(this,AJAXUtil)},processResourcesAndCallback:function(e,t){var n=this._findResourcesNeedingToBeProcess(e);this._canProcessResources()&&n.length>0?this._postPenResources(e,t):t(e.resources)},_findResourcesNeedingToBeProcess:function(e){return HTMLTemplating.findHTMLTemplatesInPenHTML(e.html).concat(this._findResourcesThatNeedToBeProcessed(e.resources))},_findResourcesThatNeedToBeProcessed:function(e){return _.filter(_.pluck(e,"url"),function(e){return this._isURLResourceNeedingProcessing(e)},this)},_isURLResourceNeedingProcessing:function(e){return this._urlRefersToPenURL(e)||this._urlRefersToCSSNeedingToBePreprocessed(e)||this._urlRefersToJSNeedingToBePreprocessed(e)},_urlRefersToPenURL:function(e){return/\S+\/pen\/(\w{5,})/i.test(e)},_urlRefersToCSSNeedingToBePreprocessed:function(e){return _.contains(__preprocessors.css.preprocessors,this._getExtension(e))},_urlRefersToJSNeedingToBePreprocessed:function(e){return _.contains(__preprocessors.js.preprocessors,this._getExtension(e))},_getExtension:function(e){return _.last((e||"").split("."))},_canProcessResources:function(){return navigator.cookieEnabled},_postPenResources:function(e,t){var n="/process_resources",r={pen:JSON.stringify(this._getProcessResourcesParams(e))};this.post(n,r,$.proxy(function(e){var n=JSON.parse(e.resources);this._cacheResources(n),t(n)},this))},_getProcessResourcesParams:function(e){return _.pick(e,["html","html_pre_processor","css","css_pre_processor","css_prefix","js_pre_processor","resources"])},_cacheResources:function(e){this._cachedResources={};for(var t=0,n=e.length;t<n;t++)this._cachedResources[this._getCacheKey(e[t])]=e[t]},_getCacheKey:function(e){return e.url?e.url:e.text_to_replace},_hasAllResourcesNeedingToBeProcessedCached:function(e){var t=_.keys(this._cachedResources),n=_.difference(e,t);return 0===n.length}}),ProcessedPen=Class.extend({fullRefresh:!1,processed:{},lastSent:{},resources:[],types:["html","css","js"],init:function(e){_.assign(this,e)},setValue:function(e,t){this[e]=t},setProcessedValue:function(e,t){this.processed[e]=t},getProcessed:function(e){return this.processed[e]},getIsPenModule:function(){return CP.pen.js_module},updateSent:function(e){for(var t in e)this.lastSent[t]=e[t]},buildPenToSendToPreprocessors:function(){var e={html:this._htmlPreprocessorData("html"),css:this._cssPreprocessorData("css"),js:this._jsPreprocessorData("js")};return this._diff(this.lastSent,e)},_htmlPreprocessorData:function(e){var t=this._baseProcessorData(e);return t.contentType="html",t.syntax=CP.pen.html_pre_processor,t.textInput=this._mergeHTMLWithProcessedResources(CP.pen.html),t},_cssPreprocessorData:function(e){var t=this._baseProcessorData(e);return t.contentType="css",t.syntax=CP.pen.css_pre_processor,t.textInput=this._mergeCSSWithProcessedResources(CP.pen.css,this.processed.resources),"scss"!==t.syntax&&"sass"!=t.syntax||(t.version=this._determineSassVersion(t.textInput)),"autoprefixer"===CP.pen.css_prefix&&(t.options[CP.pen.css_prefix]=!0),t},_determineSassVersion:function(e){if(!e||""===e)return"default";for(var t="default",n=!1,r=["@import compass","@import 'compass",'@import "compass'],i=0;i<r.length;i++)e.toLowerCase().indexOf(r[i])>-1&&(n=!0);return n&&(t="3.4.22"),t},_jsPreprocessorData:function(e){var t=this._baseProcessorData(e);return t.contentType="js",t.syntax=CP.pen.js_pre_processor,t.textInput=this._mergeJSWithProcessedResources(CP.pen.js,this.processed.resources),"none"!==t.syntax&&CP.pen.js_module&&(t.options.module=!0),t},_baseProcessorData:function(e){return{id:e,version:"default",options:{}}},_diff:function(e,t){var n={},r={};for(var i in t){var o=!1,s=e[i],a=t[i];""!==a.textInput?(s?s.syntax===a.syntax&&s.textInput===a.textInput&&JSON.stringify(s.options)===JSON.stringify(a.options)||(r[i]=this.processed[i],o=!0):o=!0,o&&("none"!==a.syntax||"html"!==a.contentType&&0!==Object.keys(a.options).length||(r[i]=a.textInput,o=!1),o&&(n[i]=a))):r[i]=a.textInput}return{toSend:n,toStore:r}},_mergeHTMLWithProcessedResources:function(e){return e?HTMLTemplating.regexReplaceHTMLBeforeProcessing(e,this.processed.resources):e},_mergeCSSWithProcessedResources:function(e,t){return this._getPrependFromResources("css",t)+e},_mergeJSWithProcessedResources:function(e,t){return this._getPrependFromResources("js",t)+e},_getPrependFromResources:function(e,t){return _.reduce(t,function(t,n){return n.action==="prepend_to_"+e?"js"===e?t+n.content+";\n":t+n.content+"\n":t},"")},buildProcessedResult:function(e){return this.types.reduce(function(t,n){return e[n]&&"undefined"!=typeof e[n].textOutput&&(t[n]=e[n].textOutput),t},{})},buildProcessedErrors:function(e){var t={};return _.forEach(this.types,function(n){var r=e[n];if(r&&r.errors&&r.errors[0]){var i=r.errors[0];t[n]={level:"error",line:i.line,message:i.message,syntax:r.syntax,type:r.contentType}}}),t},reduceAllProcessorLogs:function(e){var t=[];for(var n in e){var r=e[n].logs;if(e[n].logs){for(var i=e[n].contentType,o=0,s=r.length;o<s;o++)t.push({line:r[o].line,message:r[o].message,type:i});t=t.concat()}}return t},buildRenderableHash:function(){return{html:this._getProcessedHTML(),html_classes:CP.pen.html_classes,head:CP.pen.head,css:this.processed.css,css_prefix:CP.pen.css_prefix,css_starter:CP.pen.css_starter,styles:this._getStyles(),js:this._getProcessedJS(),js_module:CP.pen.js_module,js_pre_processor:CP.pen.js_pre_processor,scripts:this._getScripts(),fullRefresh:this.fullRefresh,location_hash:window.location.hash}},_getProcessedHTML:function(){return HTMLTemplating.regexReplaceHTMLAfterProcessing(this.processed.html,this.processed.resources)},_getProcessedJS:function(){return this.processed.js},_getStyles:function(){return this._getIncludesAndPrependToResources(this.processed.resources,"css")},_getScripts:function(){return this._getIncludesAndPrependToResources(this.processed.resources,"js")},_getIncludesAndPrependToResources:function(e,t){return _.sortBy(_.select(this._matchByURLAndMixin(e,t),function(e){return _isValidURL(e.url)&&(e.action==="include_"+t+"_url"||e.action==="prepend_as_"+t)}),"order")},_matchByURLAndMixin:function(e,t){return _.map(this._selectRenderableResources(t),function(n){var r=this._findMatchByURLAndResourceType(e,n);return r?_.assign({},r,n,{action:r.action,content:r.content}):(n.action="include_"+t+"_url",n)},this)},_selectRenderableResources:function(e){return _.select(CP.pen.getResourcesByType(e),function(e){return""!==e.url})},_findMatchByURLAndResourceType:function(e,t){return _.find(e,function(e){return e.url===t.url&&e.resource_type===t.resource_type})}}),CodeEditorsUtil={getEditorByType:function(e){return"html"===e?CP.htmlEditor:"css"===e?CP.cssEditor:CP.jsEditor}},CMEditorSettings={getDefaultEditorConfig:function(e,t,n){return{value:e,showCursorWhenSelecting:!0,cursorScrollMargin:30,scrollbarStyle:this._getScrollbars(n),tabSize:this.getTabSize(t),indentUnit:this.getTabSize(t),indentWithTabs:this.getIndentWithTabs(t),lineNumbers:t.line_numbers,matchBrackets:t.match_brackets,matchTags:t.match_brackets,autocomplete:t.autocomplete,autoCloseBrackets:t.match_brackets,lineWrapping:t.line_wrapping,gutters:this._getGutters(t),foldGutter:t.code_folding,scrollPastEnd:!0,emmet_active:t.emmet_active,emmet:this.getEmmetSnippets(t),markTagPairs:!0,autoRenameTags:!0}},getPostEditorConfig:function(e){return{showCursorWhenSelecting:!0,tabSize:this.getTabSize(e),indentUnit:this.getTabSize(e),indentWithTabs:this.getIndentWithTabs(e),matchBrackets:e.match_brackets,autoCloseBrackets:e.match_brackets,lineWrapping:!0}},_getScrollbars:function(e){return e?null:"simple"},getTabSize:function(e){return parseInt(e.tab_size,10)},getIndentWithTabs:function(e){return"tabs"===e.indent_with},getEmmetSnippets:function(e){var t=e.snippets;if(!t)return{globals:{markup:{snippets:{}},stylesheet:{snippets:{}}}};t.markupSnippets=this.unescapeSnippet(t.markupSnippets),t.stylesheetSnippets=this.unescapeSnippet(t.stylesheetSnippets);var n={globals:{markup:{snippets:t.markupSnippets},stylesheet:{snippets:t.stylesheetSnippets}}};return n},unescapeSnippet:function(e){for(var t=e,n=Object.keys(t),r=0;r<n.length;r++)t[n[r]]=t[n[r]].replace(/\\n/g,"\n").replace(/\\t/g,"\t");return t},_getGutters:function(e){return e.code_folding===!0?["CodeMirror-linenumbers","CodeMirror-foldgutter"]:[""]}},BaseEditorKeyBindingsMixin={_onCmUpdateKeyBindings:function(e){switch(e.key_bindings){case"vim":this.editor.setOption("vimMode",!0);break;case"subl":this.editor.setOption("keyMap","sublime");break;default:this.editor.setOption("keyMap","extendedBase")}},_canAdjustRenderedLine:function(e){return("undefined"==typeof TypesUtil||"html"===TypesUtil.cmModeToType(e.getOption("mode")))&&("undefined"!=typeof CP.pen&&"tabs"!==CP.pen.editor_settings.indent_with)},_indentWrappedLines:function(){var e=this.editor.defaultCharWidth(),t=2,n=this;this.editor.on("renderLine",function(r,i,o){if(n._canAdjustRenderedLine(r)){var s=r.getOption("tabSize"),a=CodeMirror.countColumn(i.text,null,s),u=a*e;o.style.textIndent="-"+u+"px",o.style.paddingLeft=t+u+"px"}})}},BaseEditor=Class.extend({editor:"",_viewingSource:!1,_canDrive:!0,type:"",value:"",init:function(e,t){this.type=e,this.value=t,this.pageType=__pageType,this.mobile=__mobile,_.extend(this,BaseEditorViewSourceMixin),_.extend(this,BaseEditorKeyBindingsMixin),this._baseBindToHub(),this._buildEditor()},_baseBindToHub:function(){Hub.sub("page-loading-done",$.proxy(this._onPageLoadingDone,this)),Hub.sub("editor-refresh",$.proxy(this.refresh,this)),Hub.sub("key",$.proxy(this._onKey,this)),Hub.sub("cm-update-keybindings",$.proxy(this._onCMUpdateKeybindingsEvent,this)),Hub.sub("pen-change",$.proxy(this._onBasePenChange,this)),"professor"===window.__pageType&&this._baseBindToHubProfessorMode()},_baseBindToHubProfessorMode:function(){Hub.sub("ui-disable",$.proxy(this._disableUserFromDriving,this)),Hub.sub("ui-enable",$.proxy(this._enableUserToDrive,this))},_onCMUpdateKeybindingsEvent:function(){this._onCmUpdateKeyBindings(window.__item.editor_settings)},_onKey:function(e,t){"esc"===t.key&&(this.editor.execCommand("clearSearch"),this.runRefresh(200))},_onBasePenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.editor_settings.indent_with")&&this.editor.setOption("indentWithTabs",CMEditorSettings.getIndentWithTabs(t.pen.editor_settings)),ObjectUtil.hasNestedValue(t,"pen.editor_settings.tab_size")&&(this.editor.setOption("tabSize",CMEditorSettings.getTabSize(t.pen.editor_settings)),this.editor.setOption("indentUnit",CMEditorSettings.getTabSize(t.pen.editor_settings)))},_onPageLoadingDone:function(){this._indentWrappedLines(),this.runRefresh(200)},_buildEditor:function(){this.editor=this._buildCMEditor(this._getEditorConfig());var e=this;this._throttledRefresh=_.throttle(function(){e.editor.refresh()},300),this._setMode(),this._bindToHub(),this._setEditorTypeSpecificOptions(this._getEditorConfig()),this.bindToOnChange(),this._bindAutoComplete(),this._syncEditorWithFirepad()},_syncEditorWithFirepad:function(){"collab"===window.__pageType&&this._syncWithCollab(),"professor"===window.__pageType&&this._syncWithProfessor()},_syncWithCollab:function(){var e=this;this.firepad=Firepad.fromCodeMirror(CP.collabRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:null,userId:CP.collabRoom.rtData.user.id}),this.firepad.on("ready",function(){CP.collabRoom.onFirepadReady(e.type,e.firepad,e.value)}),this.firepad.on("synced",function(e){CP.collabRoom.onFirepadSynced(e)})},_syncWithProfessor:function(){this.firepad=Firepad.fromCodeMirror(ProfessorRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:this.value,userId:CP.user.session_hash,disablePublishEditorChanges:"professor"!==window.__rtData.user.role})},_getEditorConfig:function(){var e=_.extend(CMEditorSettings.getDefaultEditorConfig(this._getEditorConfigDefaultValue(),CP.pen.editor_settings,window.__mobile),this._getEditorTypeSpecificConfig());return e.extraKeys={Tab:"respectfulTab",Enter:"emmetInsertLineBreak","Shift-Cmd-A":"emmetWrapWithAbbreviation"},"js"!==this.type&&e.emmet_active===!0&&(e.extraKeys.Tab=function(e){var t=e.execCommand("emmetExpandAbbreviation");t!==!0&&e.execCommand("respectfulTab")}),e},_getEditorConfigDefaultValue:function(){return"collab"===window.__pageType||"professor"===window.__pageType?"":this.value},_buildCMEditor:function(e){var t=this._getTextAreaElementToReplaceWithCodeMirror();return CodeMirror(function(e){t.parentNode.replaceChild(e,t)},e)},_getTextAreaElementToReplaceWithCodeMirror:function(){return $(".code-wrap #"+this.type)[0]},_bindAutoComplete:function(){var e=this._getEditorConfig();e.autocomplete===!0&&"html"!==e.syntax&&this.editor.on("inputRead",function(e,t){!e.state.completionActive&&"+input"===t.origin&&1===t.text.length&&/^[a-zA-Z]+$/.test(t.text[0])&&CodeMirror.commands.autocomplete(e,null,{completeSingle:!1})})},_disableUserFromDriving:function(){this._canDrive=!1,this.editor.setOption("readOnly",!0)},_enableUserToDrive:function(){this._canDrive=!0,this.editor.setOption("readOnly",!1)},_preProcessorChanged:function(e){this._turnOffReadOnlyView(),this._changeMode(e)},_turnOffReadOnlyView:function(){this._viewingSource&&this.showOriginalCode()},unbindOnChange:function(){this.editor.off("change",this._onEditorChange.bind(this))},bindToOnChange:function(){this.editor.on("change",this._onEditorChange.bind(this))},_onEditorChange:function(e){if(!this.editor.getOption("readOnly")){var t={origin:"client",pen:{}};t.pen[this.type]=e.getValue(),CP.item.setItemValue(t)}},getValue:function(){return this.editor.getValue()},setValue:function(e){this.editor.setValue(e)},_setEditorValue:function(e){"collab"!==window.__pageType&&"professor"!==window.__pageType&&(this.unbindOnChange(),this.editor.setValue(e),this.bindToOnChange())},_setMode:function(){var e=this._getBasicType(),t=CP.pen[e+"_pre_processor"];this._changeMode(t)},getMode:function(){var e=this._getBasicType(),t=CP.pen[e+"_pre_processor"];return EditorModes.getCMMode(t,e)},_changeMode:function(e){this.editor.setOption("mode",EditorModes.getCMMode(e,this._getBasicType()))},_getBasicType:function(){throw"Implement in subclass"},hasFocus:function(){return this.editor.hasFocus()},refresh:function(e,t){this.runRefresh(t.delay)},runRefresh:function(e){e>0?setTimeout($.proxy(function(){this.runRefresh()},this),e):this._throttledRefresh()}}),BaseEditorViewSourceMixin={showSource:function(){this.unbindOnChange(),this._makeEditorReadOnly(),this._changeModeOnShowSource(),this._showSource(),this._removeEventFromEditorUndoHistory()},_changeModeOnShowSource:function(){this._changeMode("none")},_showSource:function(){CP.penErrorHandler.clearPreprocWidgets(this.type),this._setEditorValue(CP.penProcessor.getProcessed(this.type))},_makeEditorReadOnly:function(){$("#box-"+this.type).addClass("view-compiled"),$("#viewsource-"+this.type).attr("title",Copy.returnToSource),this.editor.setOption("readOnly",!0)},showOriginalCode:function(){this._showOriginalCode(),this._changeModeOnShowOriginalCode(),this._makeEditable(),this.bindToOnChange(),this._removeEventFromEditorUndoHistory()},_changeModeOnShowOriginalCode:function(){this._changeMode(CP.pen.getAttribute(this.type+"_pre_processor"))},_removeEventFromEditorUndoHistory:function(){var e=this.editor.getHistory();e.done.pop(),e.done.pop(),this.editor.setHistory(e)},_showOriginalCode:function(){this._setEditorValue(CP.pen[this.type])},_makeEditable:function(){$("#box-"+this.type).removeClass("view-compiled view-preproc-errors"),$("#viewsource-"+this.type).attr("title",Copy.viewSource),this._canDrive&&this.editor.setOption("readOnly",!1)}},EditorModes={htmlModes:{text:"text",none:{name:"htmlmixed",htmlMode:!0,tags:{script:[["type",/^x-template$/,"htmlmixed"],["type",/^x-shader\/x-vertex$/,"text/typescript"],["type",/^x-text\/handlebars$/,"htmlmixed"],["type",/^text\/paperscript$/,"text/javascript"],[null,null,"text/javascript"]]}},html:{name:"htmlmixed",htmlMode:!0,tags:{script:[["type",/^x-template$/,"htmlmixed"],["type",/^x-shader\/x-vertex$/,"text/typescript"],["type",/^x-text\/handlebars$/,"htmlmixed"],["type",/^x-text\/paperscript$/,"text/javascript"],[null,null,"text/javascript"]]}},haml:"haml",slim:"application/x-slim",markdown:"markdown",pug:"pug"},htmlLoaderModes:{text:"text",none:"xml",html:"xml",haml:"haml",slim:"application/x-slim",markdown:"markdown",pug:"pug"},cssModes:{none:"text/css",css:"text/css",postcss:"text/css",scss:"text/x-scss",stylus:"text/x-styl",less:"text/x-less",sass:"text/x-sass"},jsModes:{none:"text/javascript",js:"text/javascript",coffeescript:"text/x-coffeescript",livescript:"text/x-livescript",typescript:"text/typescript",babel:"text/jsx"},getLoaderMode:function(e,t){return"html"===t?e in this.htmlLoaderModes?"mode_"+this.htmlLoaderModes[e]:"mode_text":"css"===t?e in this.cssModes?"mode_"+this.cssModes[e]:"mode_text":"js"===t?e in this.jsModes?"mode_"+this.jsModes[e]:"mode_text":void 0},getCMMode:function(e,t){return"html"===t?e in this.htmlModes?this.htmlModes[e]:"text":"css"===t?e in this.cssModes?this.cssModes[e]:"text":"js"===t?e in this.jsModes?{name:this.jsModes[e],globalVars:!0}:"text":void 0}},CSSEditor=BaseEditor.extend({_getBasicType:function(){return"css"},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this)),Hub.sub("page-loading-done",$.proxy(this._onPageLoadingDone,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.css_pre_processor")&&this._preProcessorChanged(t.pen.css_pre_processor)},_onPageLoadingDone:function(){this.mobile&&setTimeout($.proxy(function(){this.editor.focus()},this),400)},_getEditorTypeSpecificConfig:function(){return{mode:this.getMode(),syntax:"css"}},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t["Ctrl-Space"]="autocomplete",this.editor.setOption("extraKeys",CodeMirror.normalizeKeyMap(t))},_emmetSupportedSyntaxes:function(){return _.difference(__preprocessors.css.syntaxes,__preprocessors.css.exclude_emmet_syntaxes)}}),HTMLEditor=BaseEditor.extend({_getBasicType:function(){return"html"},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.html_pre_processor")&&this._preProcessorChanged(t.pen.html_pre_processor)},_getEditorTypeSpecificConfig:function(){var e=!0;return __pageType&&"embed"===__pageType&&(e=!1),{mode:this.getMode(),syntax:"html",profile:"xhtml",autofocus:e}},_completeAfter:function(e,t){return t&&!t()||setTimeout(function(){e.state.completionActive||e.showHint({completeSingle:!1})},100),CodeMirror.Pass},_completeIfAfterLt:function(e){return this._completeAfter(e,function(){var t=e.getCursor();return"<"==e.getRange(CodeMirror.Pos(t.line,t.ch-1),t)})},_completeIfInTag:function(e){return this._completeAfter(e,function(){var t=e.getTokenAt(e.getCursor());if("string"==t.type&&(!/['"]/.test(t.string.charAt(t.string.length-1))||1==t.string.length))return!1;var n=CodeMirror.innerMode(e.getMode(),t.state).state;return n.tagName})},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t=CodeMirror.normalizeKeyMap(t),e.autocomplete===!0&&(t["Ctrl-Space"]="autocomplete",t["'<'"]=this._completeAfter.bind(this),t["'/'"]=this._completeIfAfterLt.bind(this),t["' '"]=this._completeIfInTag.bind(this),t["'='"]=this._completeIfInTag.bind(this)),this.editor.setOption("extraKeys",t)}}),JSEditor=BaseEditor.extend({_getBasicType:function(){return"js"},_bindToHub:function(){Hub.sub("pen-change",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.js_pre_processor")&&this._preProcessorChanged(t.pen.js_pre_processor)},_getEditorTypeSpecificConfig:function(){return{mode:this.getMode()}},_setEditorTypeSpecificOptions:function(){this.editor.setOption("extraKeys",CodeMirror.normalizeKeyMap({Tab:"respectfulTab","Ctrl-Space":"autocomplete"}))}});window.Analyze={errorStorage:{html:{lintErrorWidgets:[]},css:{lintErrorWidgets:[]},js:{lintErrorWidgets:[]}},ANALYZE_LAMBDA_URL:"https://gmqxehjo54.execute-api.us-west-2.amazonaws.com/production/analyze",html:function(){var e=!!("srcdoc"in document.createElement("iframe"));if(!e)return void $.showMessage("Sorry, we can't analyze safely because your browser doesn't support `srcdoc` ... :(",1500);CP.htmlEditor.showOriginalCode(),this.clearAllErrors("html");for(var t=["<script src='https://cdnjs.cloudflare.com/ajax/libs/html-inspector/0.8.2/html-inspector.js'></script>","<script>function inspect() { HTMLInspector.inspect({domRoot: document.body,excludeRules: ['unnecessary-elements'],onComplete: function(errors) { var cleanErrors = []; for( var i = 0; i < errors.length; i++) { cleanErrors.push({message: errors[i].message, rule: errors[i].rule}) }; parent.postMessage({type: 'html-errors', errors: cleanErrors}, '*')}});};</script>","<script>window.onload = function() { inspect(); }</script>","<style>",this._getCodeToCheck("css"),"</style>",this._getCodeToCheck("html")],n="",r=0;r<t.length;r++)n+=t[r];var i=document.createElement("iframe");i.sandbox="allow-forms allow-scripts",i.className="hidden-iframe",window.addEventListener("message",Analyze.HTMLErrorPostmessageReceiver,!1),document.body.appendChild(i),i.srcdoc=n},HTMLErrorPostmessageReceiver:function(e){if(e.data&&"html-errors"===e.data.type){window.removeEventListener("message",Analyze.HTMLErrorPostmessageReceiver,!1);var t=document.querySelector(".hidden-iframe");t.parentNode.removeChild(t),Analyze.showHTMLErrors(e.data.errors)}},showHTMLErrors:function(e){if(e.length>0){var t=_.clone(CP.pen.html);"none"!==CP.pen.html_pre_processor&&(CP.htmlEditor.editor.setOption("readOnly",!0),$("#box-html").addClass("view-preproc-errors"),CP.htmlEditor.setValue(CP.penProcessor.getProcessed("html")),CP.htmlEditor.unbindOnChange(),this.showUnprocessedCodeButton("html"),$("#viewsource-html").one("click",function(){$("#box-html").removeClass("view-preproc-errors"),Analyze.clearAllErrors("html"),CP.htmlEditor.setValue(t),CP.htmlEditor.bindToOnChange(),CP.htmlEditor.editor.setOption("readOnly",!1)}));for(var n="<h4 style='color: white;''>HTML Inspector warnings:</h4><ul class='html-errors'>",r=!1,i={},o=[],s=0;s<e.length;s++)if("unused-classes"===e[s].rule){var a=e[s].message.split("'")[1];i[a]?i[a]++:(i[a]=1,r=!0)}else o.push(e[s]);var u={message:"The classes "},l="";if(r){var c=Object.keys(i);for(s=0;s<c.length;s++)l=l+c[s]+" ("+i[c[s]]+") ";u.message+=l+"are used in the HTML but not found in any stylesheet.",this._getCSSLibs()>0&&(u.message+=" Since you have external stylesheets, you can probably ignore this."),o.unshift(u)}for(s=0;s<o.length;s++)n+="<li>"+_.escape(o[s].message)+"</li>";n+="</ul>";var h=0;Analyze.errorStorage.html.lintErrorWidgets.push(CP.htmlEditor.editor.addLineWidget(h,$("<div class='inline-editor-error yellow'>"+n+"</div>")[0],{coverGutter:!0,noHScroll:!0,above:!0})),this.addClearErrorsButton("html")}else $.showMessage("HTML Inspector found no errors. Rejoice!",1500)},css:function(){this.clearAllErrors("css");var e=this._getCodeToCheck("css");$.post(this.ANALYZE_LAMBDA_URL,{type:"css",content:e},$.proxy(this._cssAnalyzeCallback,this))},_cssAnalyzeCallback:function(e){if(0===e.length)$.showMessage("No errors found! You're good.",1500);else{CP.cssEditor.showOriginalCode(),"none"!==CP.pen.css_pre_processor&&(CP.cssEditor.editor.setOption("readOnly",!0),$("#box-css").addClass("view-preproc-errors"),CP.cssEditor.setValue(CP.penProcessor.getProcessed("css")),CP.cssEditor.unbindOnChange(),this.showUnprocessedCodeButton("css"),$("#viewsource-css").one("click",function(){$("#box-css").removeClass("view-preproc-errors"),Analyze.clearAllErrors("css"),CP.cssEditor.setValue(CP.pen.css),CP.cssEditor.bindToOnChange(),CP.cssEditor.editor.setOption("readOnly",!1)}));for(var t=0;t<e.length;t++){var n=e[t].line-1;0===n&&(n=1),Analyze.errorStorage.css.lintErrorWidgets.push(CP.cssEditor.editor.addLineWidget(n,$("<div class='inline-editor-error'>"+_.escape(e[t].message)+" (<a target='_blank' href='https://google.com/search?q=CSS Lint "+_.escape(e[t].message)+"'>Google it</a>)</div>")[0],{coverGutter:!0,noHScroll:!0}))}var r=e[0].line-1;r=r>-1?r:0,CP.cssEditor.editor.scrollIntoView(r),this.addClearErrorsButton("css")}},js:function(){this.clearAllErrors("js");var e=this._getCodeToCheck("js");$.post(this.ANALYZE_LAMBDA_URL,{type:"js",content:e},$.proxy(this._jsAnalyzeCallback,this))},_jsAnalyzeCallback:function(e){if(0===e.length)$.showMessage("JS Hint found no errors! You're good.",1500);else{CP.jsEditor.showOriginalCode(),"none"!==CP.pen.js_pre_processor&&(CP.jsEditor.editor.setOption("readOnly",!0),$("#box-js").addClass("view-preproc-errors"),CP.jsEditor.setValue(CP.penProcessor.getProcessed("js")),CP.jsEditor.unbindOnChange(),this.showUnprocessedCodeButton("js"),$("#viewsource-js").one("click",function(){$("#box-js").removeClass("view-preproc-errors"),Analyze.clearAllErrors("js"),CP.jsEditor.setValue(CP.pen.js),CP.jsEditor.bindToOnChange(),CP.jsEditor.editor.setOption("readOnly",!1)}));for(var t=0,n=0;n<e.length;n++){if(null===e[n])return;t=e[n].line-1,Analyze.errorStorage.js.lintErrorWidgets.push(CP.jsEditor.editor.addLineWidget(t,$("<div class='inline-editor-error'>"+e[n].reason+" (<a target='_blank' href='https://google.com/search?q=JS Hint "+e[n].reason+"'>Google it</a>)</div>")[0],{coverGutter:!0,noHScroll:!0}))}var r=e[0].line-1;r=r>-1?r:0,CP.jsEditor.editor.scrollIntoView(r),this.addClearErrorsButton("js")}},_getCodeToCheck:function(e){var t="";return t=CP.pen[e+"_pre_processor"=="none"]||"js"===e?CP.pen[e]:CP.penProcessor.getProcessed(e),""===t&&(t=" "),t},_getCSSLibs:function(){for(var e=0,t=CP.pen.getResourcesByType("css"),n=0;n<t.length;n++)t[n].url&&""!==t[n].url&&e++;return e},clearAllErrors:function(e){for(var t=Analyze.errorStorage[e].lintErrorWidgets,n=0,r=t.length;n<r;n++)t[n].clear();$("#clear-"+e+"-errors").remove(),Analyze.errorStorage[e].lintErrorWidgets=[]},showUnprocessedCodeButton:function(e){var t={ui:{editorViewSource:{}}};CP.ui.editorViewSource[e]=!0,Hub.pub("ui-change",t);var n=$(".view-compiled-button[data-type='"+e+"']").closest(".box").data("preprocessor");$(".view-compiled-button[data-type='"+e+"']").text("View Uncompiled "+n),$(".view-compiled-button[data-type='"+e+"']").addClass("active")},addClearErrorsButton:function(e){if(this._hasErrors(e)){var t=this._getClearErrorsButtonHTML(e);$(this._getErrorsButtonElID(e)).parent().after(t)}},_hasErrors:function(e){return this.errorStorage[e].lintErrorWidgets.length>0},_getClearErrorsButtonHTML:function(e){var t=e.toUpperCase(),n={type:e,upCaseType:t};return _.template(this._getClearErrorsButtonTmpl(),n)},_getClearErrorsButtonTmpl:function(){return"<li><a href='#0' class='clear-<%= type %>-errors' id='clear-<%= type %>-errors'>Clear <%= upCaseType %> Errors</a></li>"},_getErrorsButtonElID:function(e){return"#analyze-"+e}};var CodeEditorAnalyze=Class.extend({clearingShortcut:!1,init:function(){this.bindUIActions()},bindUIActions:function(){$("#analyze-html")._on("click",this.analyzeHTML,this),$("#analyze-css")._on("click",this.analyzeCSS,this),$("#analyze-js")._on("click",this.analyzeJS,this),$(document).on("click","#clear-html-errors",$.proxy(this.clearHTMLErrors,this)).on("click","#clear-css-errors",$.proxy(this.clearCSSErrors,this)).on("click","#clear-js-errors",$.proxy(this.clearJSErrors,this))},enableClearingShortcut:function(){Keytrap.bind("comctrl+shift+8",function(){Analyze.clearAllErrors("html"),Analyze.clearAllErrors("css"),Analyze.clearAllErrors("js")},!0),this.clearingShortcut=!0},analyzeHTML:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.html(),Hub.pub("popup-close"),e.clearingShortcut===!1&&e.enableClearingShortcut()},analyzeCSS:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.css(),e.clearingShortcut===!1&&e.enableClearingShortcut(),Hub.pub("popup-close")},analyzeJS:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.js(),e.clearingShortcut===!1&&e.enableClearingShortcut(),Hub.pub("popup-close")},clearHTMLErrors:function(e){e.preventDefault(),Analyze.clearAllErrors("html"),this._hidePanesOnTopOfEditor()},clearCSSErrors:function(e){e.preventDefault(),Analyze.clearAllErrors("css"),this._hidePanesOnTopOfEditor()},clearJSErrors:function(e){e.preventDefault(),Analyze.clearAllErrors("js"),this._hidePanesOnTopOfEditor();
},_hidePanesOnTopOfEditor:function(){$.hideMessage(),Hub.pub("popup-close")}});!function(){function e(){i(),r(),t(),n()}function t(){CP.pen=new Pen,CP.item=CP.pen,CP.pen.editor_settings={key_bindings:"normal",indent_with:"spaces",tab_size:"2",auto_run:!0,line_numbers:!0,line_wrapping:!0,code_folding:!0,match_brackets:!1,snippets:{markupSnippets:{},stylesheetSnippets:{}}},CP.penErrorHandler=new PenErrorHandler,CP.penResources=new PenResources,CP.penProcessor=new PenProcessor}function n(){CP.codeEditorAnalayze=new CodeEditorAnalyze,CP.pen.html&&(CP.htmlEditor=new HTMLEditor("html",CP.pen.html)),CP.pen.css&&(CP.cssEditor=new CSSEditor("css",CP.pen.css)),CP.pen.js&&(CP.jsEditor=new JSEditor("js",CP.pen.js))}function r(){$(".edit-on-codepen").on("click",u)}function i(){Hub.sub("pen-change",_.debounce(o,c,{leading:!1,trailing:!0}))}function o(){s(),a()}function s(){f||($("#edit-on-text").html("FORK ON"),f=!0)}function a(){h===!1&&(CP.penRenderer=new PenRenderer,h=!0)}function u(e){if(f){e.preventDefault();var t=CP.pen.getCopyOfSaveablePen();t.parent=t.id,t.id=0,t.slug_hash="",delete t.fork,AJAXUtil.post("/pen/define",{data:JSON.stringify(t)},l)}}function l(e){window.open(e.url)}var c=500,h=!1,f=!1;e()}();